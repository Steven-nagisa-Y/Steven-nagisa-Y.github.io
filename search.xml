<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Android 基础问题</title>
    <url>/2022/04/Android-questions-2204/</url>
    <content><![CDATA[<h1 id="Android-基础问题2022-04"><a href="#Android-基础问题2022-04" class="headerlink" title="Android 基础问题2022-04"></a>Android 基础问题2022-04</h1><p><strong>从网上收集的一些基础面试问题</strong></p>
<span id="more"></span>

<h2 id="1-Android启动模式"><a href="#1-Android启动模式" class="headerlink" title="1. Android启动模式"></a>1. Android启动模式</h2><blockquote>
<p>参考：<a href="https://blog.csdn.net/ElisonX/article/details/80397519">https://blog.csdn.net/ElisonX/article/details/80397519</a></p>
</blockquote>
<p>在一个项目中会包括着多个Activity，系统中使用任务栈来存储创建的Activity实例，任务栈是一种“后进先出”的栈结构。</p>
<h3 id="启动模式种类"><a href="#启动模式种类" class="headerlink" title="启动模式种类"></a>启动模式种类</h3><p>在“标准模式”下若我们多次启动同一个Activity。系统会创建多个实例依次放入任务栈中。当按back键返回时，每按一次，一个Activity出栈，直到栈空为止。并不利于减少内存压力。</p>
<p>Android共有四种启动模式：<code>Standard</code>, <code>SingleTop</code>, <code>SingleTask</code>, <code>SingleInstance</code></p>
<ol>
<li><p><code>Standard</code></p>
<p>启动Activity的默认启动模式。这种情况下，新建的Activity将会创建一个新的实例加入栈顶。</p>
<p>生命周期钩子<code>onCreate</code>、<code>onStart</code>、<code>onResume</code>都会被调用。</p>
</li>
<li><p><code>SingleTop</code></p>
<p>栈顶复用启动模式，当栈顶的Activity再次创建时，会直接服用栈顶的实例，不会创建新的实例。如果创建的Activity不在栈顶，将会如同<code>Standard</code>模式一样创建新的实例。</p>
<p>若栈顶Activity被服用，生命周期钩子<code>onCreate</code>、<code>onStart</code>不会被系统调用，由于它并没有发生改变，可是一个新的方法 <code>onNewIntent</code>会被回调。</p>
</li>
<li><p><code>SingleTask</code></p>
<p>栈内复用启动模式，如果栈内已有的Activity被再次创建时，将销毁该Activity栈之上的所有实例，使该Activity实例成为栈顶。</p>
<p>仅仅会又一次回调Activity中的 <code>onNewIntent</code>方法</p>
</li>
<li><p><code>SingleInstance</code></p>
<p>单实例启动模式，类似于<code>SingleTask</code>，但是该Activity只能处于单独的一个栈中。即，不会通过back返回上一个栈中的Activity。</p>
</li>
</ol>
<h3 id="启动模式的使用方式"><a href="#启动模式的使用方式" class="headerlink" title="启动模式的使用方式"></a>启动模式的使用方式</h3><ol>
<li><p>在<code>manifest.xml</code>清单文件中指令Activity的启动方式</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.activity.MultiportActivity&quot;</span> <span class="attr">android:launchMode</span>=<span class="string">&quot;singleTask&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动Activity的Intent中指定启动方式</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.setClass(context, MainActivity.class);</span><br><span class="line">intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">context.startActivity(intent);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>区别：</p>
<p>优先级：Intent指定方式即另外一种比清单指定优先级要高，若两者同一时候存在，以另外一种方式为准。</p>
<p>限定范围：清单指定方式无法为Activity直接指定 FLAG_ACTIVITY_CLEAR_TOP 标识，Intent方式无法为Activity指定 singleInstance 模式。</p>
<h3 id="Intent启动时的flags"><a href="#Intent启动时的flags" class="headerlink" title="Intent启动时的flags"></a>Intent启动时的<code>flags</code></h3><ol>
<li><code>FLAG_ACTIVITY_NEW_TASK</code>指定为<code>SingleTask</code>模式</li>
<li><code>FLAG_ACTIVITY_SINGLE_TOP</code>指定为<code>SingleTop</code>模式</li>
<li><code>FLAG_ACTIVITY_CLEAN_TOP</code>启动时会将与该Activity在同一任务栈的其他Activity出栈</li>
<li><code>FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS</code>启动此Activity后不会出历史Activity的列表中，即用户无法通过返回进入该Activity</li>
</ol>
<h2 id="2-Handler机制"><a href="#2-Handler机制" class="headerlink" title="2. Handler机制"></a>2. Handler机制</h2><blockquote>
<p>参考：</p>
<p><a href="https://cdmana.com/2022/03/202203230559249472.html">https://cdmana.com/2022/03/202203230559249472.html</a></p>
<p><a href="https://www.jianshu.com/p/592fb6bb69fa">https://www.jianshu.com/p/592fb6bb69fa</a></p>
</blockquote>
<p>Handler机制主要是用作线程间通信，尤其是主线程和子线程之间的通信。</p>
<h3 id="Handler-涉及的对象"><a href="#Handler-涉及的对象" class="headerlink" title="Handler 涉及的对象"></a>Handler 涉及的对象</h3><p>Handler机制里面涉及到四个对象：<code>Handler</code>，<code>message</code>、<code>MessageQueue</code>、<code>Looper</code></p>
<ol>
<li><code>Message</code>:信息的携带者，持有了Handler，存在<code>MessageQueue</code>中，一个线程可以有多个</li>
<li><code>Hanlder</code>:消息的发起者，发送Message以及消息处理的回调实现，一个线程可以有多个Handler对象</li>
<li><code>Looper</code>:消息的遍历者，从<code>MessageQueue</code>中循环取出Message进行处理，一个线程最多只有一个</li>
<li><code>MessageQueue</code>:消息队列，存放了Handler发送的消息，供<code>Looper</code>循环取消息，一个线程最多只有一个</li>
</ol>
<ul>
<li><p>Handler</p>
<p>消息的处理者，负责将Message添加到消息队列以及对消息队列中的Message进行处理。</p>
<ul>
<li><strong>主线程</strong>创建一个<code>Handler</code>对象，重写<code>handleMessage()</code>方法</li>
</ul>
</li>
<li><p>在子线程中创建一个<code>Message</code>对象，保存要传递的消息。通过<code>Handler</code>的<code>sendMessage()</code>方法发出消息</p>
<ol>
<li><code>Handler.sendMessage</code>: 把消息加入到主线程的<code>MessageQueue</code>中，主线程中的<code>Looper</code>从<code>MessageQueue</code>中取出消息，调用<code>Message.target.handleMessage</code>方法</li>
<li><code>Handler.post</code>: 基于<code>Handler.sendMessage</code>，把消息加入到主线程的<code>MessageQueue</code>中，主线程中的<code>Looper</code>从<code>MessageQueue</code>中取出消息，<strong>调用<code>Message.callback.run</code>方法</strong></li>
</ol>
</li>
<li><p>这条message被添加到<code>MessageQueue</code>中等待处理。<code>MessageQueue</code>： 消息队列，用来存放通过Handler发布的消息，按照先进先出执行。</p>
</li>
<li><p><code>Looper</code>(消息队列管家)：Looper发现有新消息到来时，就会处理这个消息。会调用<code>Looper.loop()</code>方法来</p>
<ul>
<li>一个线程最多只有一个<code>Looper</code>对象。当没有Looper对象时，去创建一个Looper</li>
<li><strong>在Looper的构造方法里面，会创建消息队列<code>MessageQueue</code>，</strong>并让它供Looper持有，因为一个线程最多只有一个<code>Looper</code>对象，所以一个线程最多也只有一个消息队列。然后再把当前线程赋值给<code>mThread</code>。</li>
</ul>
<p><strong>创建Handler还是需要调用<code>Looper.prepare</code>的，我们平常在主线程不需要手动调用，是因为系统在启动App时，就帮我们调用了。并且还需要调用<code>Looper.loop</code>方法</strong>。</p>
</li>
</ul>
<h3 id="使用Handler通信之前需要有以下三步"><a href="#使用Handler通信之前需要有以下三步" class="headerlink" title="使用Handler通信之前需要有以下三步"></a>使用Handler通信之前需要有以下三步</h3><ol>
<li><p>调用<code>Looper.prepare()</code></p>
<ul>
<li>所以<code>Looper.prepare()</code>的作用主要有以下三点<ol>
<li><strong>创建<code>Looper</code>对象 &amp; 存放在ThreadLocal变量中</strong></li>
<li>创建<code>MessageQueue</code>对象，并让<code>Looper</code>对象持有（在Looper的构造方法里面，会创建消息队列<code>MessageQueue</code>，并让它供Looper持有）</li>
<li>让<code>Looper</code>对象持有当前线程</li>
</ol>
</li>
</ul>
</li>
<li><p>创建<code>Handler</code>对象</p>
<ul>
<li>在Handler的构造方法里面：得到当前线程调用<code>sThreadLocal.set</code>保存的<code>Looper</code>对象，让<code>Handler</code>持有它。接下来就会判断得到的<code>Looper</code>对象是否为空，如果为空，就会抛出异常（<strong>得到当前线程的Looper对象，并判断是否为空</strong>）</li>
<li>让创建的<code>Handler</code>对象持有<code>Looper</code>、<code>MessageQueue</code>、<code>Callback</code>的引用</li>
<li>当创建<code>Handler</code>对象时，则通过 构造方法 自动关联当前线程的<code>Looper</code>对象 &amp; 对应的消息队列对象<code>（MessageQueue）</code>，从而 <strong>自动绑定了</strong> 实现创建<code>Handler</code>对象操作的<strong>线程</strong></li>
</ul>
</li>
<li><p>调用<code>Looper.loop()</code></p>
<ul>
<li><strong>从当前线程的<code>MessageQueue</code>从不断取出Message，并调用其相关的回调方法。</strong></li>
</ul>
<ol>
<li>判断了当前线程是否有<code>Looper</code>，然后得到当前线程的<code>MessageQueue</code></li>
<li>(<strong>死循环</strong>)不断调用<code>MessageQueue</code>的<code>next</code>方法取出<code>MessageQueue</code>中的Message，注意，当<code>MessageQueue</code>中没有消息时，<code>next</code>方法会阻塞，导致当前线程挂起</li>
<li>拿到<code>Message</code>以后，会调用它的target的<code>dispatchMessage</code>方法，这个target其实就是发送消息时用到的<code>Handler</code>。并调用其相关的回调方法（<strong>拿到Message之后，调用相关的回调方法</strong>）</li>
</ol>
</li>
</ol>
<h3 id="如何区分handler发送的信息"><a href="#如何区分handler发送的信息" class="headerlink" title="如何区分handler发送的信息"></a>如何区分<code>handler</code>发送的信息</h3><p>可以通过<code>msg.target</code>获取发送<code>msg</code>的<code>Handler</code>的信息。</p>
<p>也可以通过<code>Message.obtain()</code>重载。</p>
<h2 id="3-Android生命周期"><a href="#3-Android生命周期" class="headerlink" title="3. Android生命周期"></a>3. Android生命周期</h2><blockquote>
<p>参考：<a href="https://developer.android.google.cn/guide">https://developer.android.google.cn/guide</a></p>
</blockquote>
<h3 id="Activity生命周期"><a href="#Activity生命周期" class="headerlink" title="Activity生命周期"></a>Activity生命周期</h3><p><code>onCreate()</code>、<code>onStart()</code>、<code>onResume()</code>、<code>onPause()</code>、<code>onStop()</code> 和 <code>onDestroy()</code></p>
<p><img src="https://developer.android.google.cn/guide/components/images/activity_lifecycle.png?hl=zh-cn" alt="lifecircle"></p>
<h3 id="Service生命周期"><a href="#Service生命周期" class="headerlink" title="Service生命周期"></a>Service生命周期</h3><ul>
<li><p><code>onStartCommand()</code></p>
<p>当另一个组件（如 Activity）请求启动服务时，系统会通过调用 <code>startService()</code> 来调用此方法。执行此方法时，服务即会启动并可在后台无限期运行。如果您实现此方法，则在服务工作完成后，您需负责通过调用 <code>stopSelf()</code> 或 <code>stopService()</code> 来停止服务。（如果您只想提供绑定，则无需实现此方法。）</p>
</li>
<li><p><code>onBind()</code></p>
<p>当另一个组件想要与服务绑定（例如执行 RPC）时，系统会通过调用 <code>bindService()</code> 来调用此方法。在此方法的实现中，您必须通过返回 <code>IBinder</code> 提供一个接口，以供客户端用来与服务进行通信。请务必实现此方法；但是，如果您并不希望允许绑定，则应返回 null。</p>
</li>
<li><p><code>onCreate()</code></p>
<p>首次创建服务时，系统会（在调用 <code>onStartCommand()</code> 或 <code>onBind()</code> 之前）调用此方法来执行一次性设置程序。如果服务已在运行，则不会调用此方法。</p>
</li>
<li><p><code>onDestroy()</code></p>
<p>当不再使用服务且准备将其销毁时，系统会调用此方法。服务应通过实现此方法来清理任何资源，如线程、注册的侦听器、接收器等。这是服务接收的最后一个调用。</p>
</li>
</ul>
<h2 id="4-Android持久化存储的方式"><a href="#4-Android持久化存储的方式" class="headerlink" title="4. Android持久化存储的方式"></a>4. Android持久化存储的方式</h2><blockquote>
<p>参考：</p>
<p><a href="https://blog.csdn.net/qq_35008279/article/details/80783726">https://blog.csdn.net/qq_35008279/article/details/80783726</a></p>
<p><a href="https://developer.android.com/training/data-storage/room">https://developer.android.com/training/data-storage/room</a></p>
</blockquote>
<h3 id="Shared-Preferences"><a href="#Shared-Preferences" class="headerlink" title="Shared Preferences"></a>Shared Preferences</h3><p>一个轻量级的存储类，特别适合用于保存软件配置参数，是用xml文件存放数据。</p>
<p>文件存放在<code>/data/data/_package/shared_prefs</code>目录下</p>
<p>Shared Preferences可以保存的数据类型有：<code>int</code>、<code>boolean</code>、<code>float</code>、<code>long</code>、<code>String</code>、<code>StringSet</code>。</p>
<h3 id="Internal-Storage"><a href="#Internal-Storage" class="headerlink" title="Internal Storage"></a>Internal Storage</h3><p>通过文件的形式将数据保存到手机内部存储空间中，并且这些文件是私有的，其他程序无法访问。当卸载掉程序之后，这些文件也会被相应移除。</p>
<p>文件存放在<code>/storage/emulated/0/Android/data/_package/</code>中</p>
<h3 id="External-Storage"><a href="#External-Storage" class="headerlink" title="External Storage"></a>External Storage</h3><p>通过文件的形式存储在手机模拟SD card中，需要在清单中声明外部存储空间读写权限，并且需要请求权限。</p>
<p>文件存放在<code>/sdcard &lt;-&gt; /storage/emulated/0/</code>中</p>
<h3 id="SQLite-Databases"><a href="#SQLite-Databases" class="headerlink" title="SQLite Databases"></a>SQLite Databases</h3><p>Android内建轻量化数据库SQLite，推荐通过Android Room中间层对数据库进行操作。</p>
<p>Room 包含三个主要组件：</p>
<ul>
<li><a href="https://developer.android.com/reference/kotlin/androidx/room/Database">数据库类</a>，用于保存数据库并作为应用持久性数据底层连接的主要访问点。</li>
<li><a href="https://developer.android.com/training/data-storage/room/defining-data">数据实体</a>，用于表示应用的数据库中的表。</li>
<li><a href="https://developer.android.com/training/data-storage/room/accessing-data">数据访问对象 (DAO)</a>，提供您的应用可用于查询、更新、插入和删除数据库中的数据的方法。</li>
</ul>
<p>数据库类为应用提供与该数据库关联的 DAO 的实例。反过来，应用可以使用 DAO 从数据库中检索数据，作为关联的数据实体对象的实例。此外，应用还可以使用定义的数据实体更新相应表中的行，或者创建新行供插入。下图说明了 Room 的不同组件之间的关系。</p>
<p><img src="https://developer.android.google.cn/images/training/data-storage/room_architecture.png" alt="android room"></p>
<h2 id="5-Android-Broadcast"><a href="#5-Android-Broadcast" class="headerlink" title="5. Android Broadcast"></a>5. Android Broadcast</h2><blockquote>
<p>参考：<a href="https://developer.android.com/guide/components/broadcasts">https://developer.android.com/guide/components/broadcasts</a></p>
</blockquote>
<p>Android 应用与 Android 系统和其他 Android 应用之间可以相互收发广播消息，这与_发布-订阅_设计模式相似。这些广播会在所关注的事件发生时发送。</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul>
<li><p>系统广播</p>
<p>系统会在发生各种系统事件时自动发送广播，例如当系统进入和退出飞行模式时。系统广播会被发送给所有同意接收相关事件的应用。</p>
<p>广播消息本身会被封装在一个 <code>Intent</code> 对象中，该对象的操作字符串会标识所发生的事件。</p>
</li>
<li><p>自定义广播</p>
</li>
</ul>
<h3 id="接收与发送广播"><a href="#接收与发送广播" class="headerlink" title="接收与发送广播"></a>接收与发送广播</h3><h4 id="接收广播"><a href="#接收广播" class="headerlink" title="接收广播"></a>接收广播</h4><ul>
<li><p>清单声明的接收器</p>
<p>如果您在清单中声明广播接收器，系统会在广播发出后启动您的应用（如果应用尚未运行）。</p>
<blockquote>
<p><strong>注意</strong>：如果您的应用以 API 级别 26 或更高级别的平台版本为目标，则不能使用清单为隐式广播（没有明确针对您的应用的广播）声明接收器，但一些<a href="https://developer.android.com/guide/components/broadcast-exceptions">不受此限制</a>的隐式广播除外。在大多数情况下，您可以使用<a href="https://developer.android.com/topic/performance/scheduling">调度作业</a>来代替。</p>
</blockquote>
<p>要在清单中声明广播接收器，请执行以下步骤：</p>
<ol>
<li><p>在应用清单中指定<code>&lt;receiver&gt;</code>元素。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span> <span class="attr">android:name</span>=<span class="string">&quot;.MyBroadcastReceiver&quot;</span>  <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.INPUT_METHOD_CHANGED&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span>    </span><br></pre></td></tr></table></figure>
</li>
<li><p>创建 <code>BroadcastReceiver</code> 子类并实现 <code>onReceive(Context, Intent)</code>。以下示例中的广播接收器会记录并显示广播的内容：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBroadcastReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">&quot;MyBroadcastReceiver&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        sb.append(<span class="string">&quot;Action: &quot;</span> + intent.getAction() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;URI: &quot;</span> + intent.toUri(Intent.URI_INTENT_SCHEME).toString() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        String log = sb.toString();</span><br><span class="line">        Log.d(TAG, log);</span><br><span class="line">        Toast.makeText(context, log, Toast.LENGTH_LONG).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>系统软件包管理器会在应用安装时注册接收器。然后，该接收器会成为应用的一个独立入口点，这意味着如果应用当前未运行，系统可以启动应用并发送广播。</p>
<p>系统会创建新的 <code>BroadcastReceiver</code> 组件对象来处理它接收到的每个广播。此对象仅在调用 <code>onReceive(Context, Intent)</code> 期间有效。一旦从此方法返回代码，系统便会认为该组件不再活跃。</p>
</li>
</ol>
</li>
<li><p>上下文注册的接收器</p>
<p>要使用上下文注册接收器，请执行以下步骤：</p>
<ol>
<li><p>创建 <code>BroadcastReceiver</code> 的实例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BroadcastReceiver br = <span class="keyword">new</span> MyBroadcastReceiver();</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建 <code>IntentFilter</code> 并调用 <code>registerReceiver(BroadcastReceiver, IntentFilter)</code> 来注册接收器：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">IntentFilter filter = <span class="keyword">new</span> IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);</span><br><span class="line">filter.addAction(Intent.ACTION_AIRPLANE_MODE_CHANGED);</span><br><span class="line"><span class="keyword">this</span>.registerReceiver(br, filter);</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>要注册本地广播，请调用 <code>LocalBroadcastManager.registerReceiver(BroadcastReceiver, IntentFilter)</code>。</p>
</blockquote>
<p>只要注册上下文有效，上下文注册的接收器就会接收广播。例如，如果您在 <code>Activity</code> 上下文中注册，只要 Activity 没有被销毁，您就会收到广播。如果您在应用上下文中注册，只要应用在运行，您就会收到广播。</p>
</li>
<li><p>要停止接收广播，请调用 <code>unregisterReceiver(android.content.BroadcastReceiver)</code>。当您不再需要接收器或上下文不再有效时，请务必注销接收器。</p>
<p>请注意注册和注销接收器的位置，比方说，如果您使用 Activity 上下文在 <code>onCreate(Bundle)</code> 中注册接收器，则应在 <code>onDestroy()</code> 中注销，以防接收器从 Activity 上下文中泄露出去。如果您在 <code>onResume()</code> 中注册接收器，则应在 <code>onPause()</code> 中注销，以防多次注册接收器（如果您不想在暂停时接收广播，这样可以减少不必要的系统开销）。请勿在 <code>onSaveInstanceState(Bundle)</code> 中注销，因为如果用户在历史记录堆栈中后退，则不会调用此方法。</p>
</li>
</ol>
</li>
</ul>
<h4 id="发送广播"><a href="#发送广播" class="headerlink" title="发送广播"></a>发送广播</h4><p>Android 为应用提供三种方式来发送广播：</p>
<ul>
<li><code>sendOrderedBroadcast(Intent, String)</code> 方法一次向一个接收器发送广播。当接收器逐个顺序执行时，接收器可以向下传递结果，也可以完全中止广播，使其不再传递给其他接收器。接收器的运行顺序可以通过匹配的 intent-filter 的 android:priority 属性来控制；具有相同优先级的接收器将按随机顺序运行。</li>
<li><code>sendBroadcast(Intent)</code> 方法会按随机的顺序向所有接收器发送广播。这称为常规广播。这种方法效率更高，但也意味着接收器无法从其他接收器读取结果，无法传递从广播中收到的数据，也无法中止广播。</li>
<li><code>LocalBroadcastManager.sendBroadcast</code> 方法会将广播发送给与发送器位于同一应用中的接收器。如果您不需要跨应用发送广播，请使用本地广播。这种实现方法的效率更高（无需进行进程间通信），而且您无需担心其他应用在收发您的广播时带来的任何安全问题。</li>
</ul>
<p>以下代码段展示了如何通过创建 Intent 并调用 <code>sendBroadcast(Intent)</code> 来发送广播：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.setAction(<span class="string">&quot;com.example.broadcast.MY_NOTIFICATION&quot;</span>);</span><br><span class="line">intent.putExtra(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;Notice me senpai!&quot;</span>);</span><br><span class="line">sendBroadcast(intent);</span><br></pre></td></tr></table></figure>

<p>广播消息封装在 <code>Intent</code> 对象中。Intent 的操作字符串必须提供应用的 Java 软件包名称语法，并唯一标识广播事件。您可以使用 <code>putExtra(String, Bundle)</code> 向 intent 附加其他信息。您也可以对 intent 调用 <code>setPackage(String)</code>，将广播限定到同一组织中的一组应用。</p>
<blockquote>
<p><strong>注意</strong>：虽然 intent 既用于发送广播，也用于通过 <code>startActivity(Intent)</code> 启动 Activity，但这两种操作是完全无关的。广播接收器无法查看或捕获用于启动 Activity 的 intent；同样，当您广播 intent 时，也无法找到或启动 Activity。</p>
</blockquote>
<h2 id="6-Content-Provider"><a href="#6-Content-Provider" class="headerlink" title="6. Content Provider"></a>6. Content Provider</h2><blockquote>
<p>参考：<a href="https://developer.android.com/guide/topics/providers/content-providers">https://developer.android.com/guide/topics/providers/content-providers</a></p>
</blockquote>
<p>内容提供程序管理对中央数据存储区的访问。提供程序是 Android 应用的一部分，通常提供自己的界面来处理数据。但是，内容提供程序主要目的是供其他应用使用，这些应用使用提供程序客户端对象进行访问。提供程序与提供程序客户端共同提供一致的标准数据界面，该界面还可处理进程间通信并保护数据访问的安全性。</p>
<p>通常，您会在以下两种场景中使用内容提供程序：</p>
<ul>
<li><p>一种是通过实现代码<strong>访问其他应用中的现有内容提供程序</strong>；</p>
</li>
<li><p>另一种是在应用中<strong>创建新的内容提供程序</strong>，从而与其他应用<strong>共享数据</strong>。</p>
</li>
</ul>
<h3 id="访问提供程序"><a href="#访问提供程序" class="headerlink" title="访问提供程序"></a>访问提供程序</h3><p>如需访问内容提供程序中的数据，您可以客户端的形式使用应用的 <code>Context</code> 中的 <code>ContentResolver</code> 对象与提供程序进行通信。<code>ContentResolver</code> 对象会与提供程序对象（即实现 <code>ContentProvider</code> 的类的实例）通信。提供程序对象从客户端接收数据请求、执行请求的操作并返回结果。此对象的某些方法可调用提供程序对象（<code>ContentProvider</code> 某个具体子类的实例）中的同名方法。<code>ContentResolver</code> 方法可提供持久性存储空间的基本“CRUD”（创建、检索、更新和删除）功能。</p>
<h4 id="使用“存储访问框架”打开文件"><a href="#使用“存储访问框架”打开文件" class="headerlink" title="使用“存储访问框架”打开文件"></a>使用“存储访问框架”打开文件</h4><p>Android 4.4（API 级别 19）引入了存储访问框架 (SAF)。借助 SAF，用户可轻松浏览和打开各种文档、图片及其他文件，而不用管这些文件来自其首选文档存储提供程序中的哪一个。</p>
<p>SAF 包含以下元素：</p>
<ul>
<li><strong>文档提供程序</strong> - 一种内容提供程序，可让存储服务（如 Google 云端硬盘）提供其管理的文件。文档提供程序以 <code>DocumentsProvider</code> 类的子类形式实现。文档提供程序的架构基于传统的文件层次结构，但其实际的数据存储方式由您决定。Android 平台包含若干内置的文档提供程序，如 Downloads、Images 和 Videos。</li>
<li><strong>客户端应用</strong> - 一种定制化的应用，它会调用 <code>ACTION_CREATE_DOCUMENT</code>、<code>ACTION_OPEN_DOCUMENT</code> 和 <code>ACTION_OPEN_DOCUMENT_TREE</code> intent 操作并接收文档提供程序返回的文件。</li>
<li><strong>选择器</strong> - 一种系统界面，可让用户访问所有文档提供程序内满足客户端应用搜索条件的文档。</li>
</ul>
<p>SAF 的核心是一个内容提供程序，它是 <code>DocumentsProvider</code> 类的一个子类。在文档提供程序内，数据结构采用传统的文件层次结构：</p>
<p><img src="https://developer.android.google.cn/images/providers/storage_datamodel.png" alt="saf"></p>
<h2 id="7-自定义View"><a href="#7-自定义View" class="headerlink" title="7. 自定义View"></a>7. 自定义View</h2><blockquote>
<p>参考：</p>
<p><a href="https://developer.android.google.cn/guide/topics/ui/custom-components">https://developer.android.google.cn/guide/topics/ui/custom-components</a></p>
<p><a href="https://www.jianshu.com/p/705a6cb6bfee">https://www.jianshu.com/p/705a6cb6bfee</a></p>
</blockquote>
<h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><table>
<thead>
<tr>
<th>类型</th>
<th>定义</th>
</tr>
</thead>
<tbody><tr>
<td>完全自定义组件</td>
<td>完全自定义的组件可用于创建外观完全如您所需的图形组件。</td>
</tr>
<tr>
<td>复合组件</td>
<td>这会将许多更原子的控件（或视图）整合到可被视为一件事的项的逻辑分组中</td>
</tr>
<tr>
<td>继承系统<code>View</code>控件</td>
<td>继承自<code>TextView</code>等系统控件，在系统控件的基础功能上进行扩展</td>
</tr>
<tr>
<td>继承<code>View</code></td>
<td>不复用系统控件逻辑，继承<code>View</code>进行功能定义</td>
</tr>
<tr>
<td>继承系统<code>ViewGroup</code></td>
<td>继承自<code>LinearLayout</code>等系统控件，在系统控件的基础功能上进行扩展</td>
</tr>
<tr>
<td>继承<code>ViewViewGroup</code></td>
<td>不复用系统控件逻辑，继承<code>ViewGroup</code>进行功能定义</td>
</tr>
</tbody></table>
<h3 id="View绘制流程"><a href="#View绘制流程" class="headerlink" title="View绘制流程"></a>View绘制流程</h3><table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>相关方法</th>
</tr>
</thead>
<tbody><tr>
<td><code>measure()</code></td>
<td>测量<code>View</code>的宽高</td>
<td><code>measure()</code>,<code>setMeasuredDimension()</code>,<code>onMeasure()</code></td>
</tr>
<tr>
<td><code>layout()</code></td>
<td>计算当前<code>View</code>以及子<code>View</code>的位置</td>
<td><code>layout()</code>,<code>onLayout()</code>,<code>setFrame()</code></td>
</tr>
<tr>
<td><code>draw()</code></td>
<td>视图的绘制工作</td>
<td><code>draw()</code>,<code>onDraw()</code></td>
</tr>
</tbody></table>
<h3 id="坐标系"><a href="#坐标系" class="headerlink" title="坐标系"></a>坐标系</h3><p>在Android坐标系中，以屏幕左上角作为原点，这个原点向右是X轴的正轴，向下是Y轴正轴。</p>
<h3 id="View的构造函数"><a href="#View的构造函数" class="headerlink" title="View的构造函数"></a>View的构造函数</h3><p>无论是我们继承系统View还是直接继承View，都需要对构造函数进行重写，构造函数有多个，至少要重写其中一个才行。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestView</span> <span class="keyword">extends</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在java代码里new的时候会用到</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestView</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在xml布局文件中使用时自动调用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestView</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 不会自动调用，如果有默认style时，在第二个构造函数中调用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> attrs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> defStyleAttr</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestView</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 只有在API版本&gt;21时才会用到</span></span><br><span class="line"><span class="comment">     * 不会自动调用，如果有默认style时，在第二个构造函数中调用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> attrs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> defStyleAttr</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> defStyleRes</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestView</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs, <span class="keyword">int</span> defStyleAttr, <span class="keyword">int</span> defStyleRes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr, defStyleRes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="8-Java同步方法转异步方法"><a href="#8-Java同步方法转异步方法" class="headerlink" title="8. Java同步方法转异步方法"></a>8. Java同步方法转异步方法</h2><blockquote>
<p>参考：<a href="https://blog.csdn.net/weixin_38106322/article/details/104492086">https://blog.csdn.net/weixin_38106322/article/details/104492086</a></p>
</blockquote>
<p>使用<code>CachedThreadPool</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">        executorService.execute(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;运行第&quot;</span> + number.incrementAndGet() + <span class="string">&quot;个线程，当前时间【&quot;</span> + sim.format(<span class="keyword">new</span> Date()) + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">6000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="9-synchnoized作用"><a href="#9-synchnoized作用" class="headerlink" title="9. synchnoized作用"></a>9. <code>synchnoized</code>作用</h2><blockquote>
<p>参考：<a href="https://www.cnblogs.com/cg961107/p/10923114.html">https://www.cnblogs.com/cg961107/p/10923114.html</a></p>
</blockquote>
<p>同步方法支持一种简单的策略来防止线程干扰和内存一致性错误：如果一个对象对多个线程可见，则对该对象变量的所有读取或写入都是通过同步方法完成的。</p>
<p>一句话总结出Synchronized的作用：</p>
<ul>
<li>能够保证在同一时刻最多只有一个线程执行该段代码，以达到保证并发安全的效果</li>
</ul>
<p>Synchronized的特点：</p>
<ul>
<li><p>synchronized是Java的关键字，被Java语言原生支持</p>
</li>
<li><p>是最基本的互斥同步手段</p>
</li>
</ul>
<h3 id="synchronized的两个用法"><a href="#synchronized的两个用法" class="headerlink" title="synchronized的两个用法"></a>synchronized的两个用法</h3><p>对象锁：</p>
<ul>
<li>包含方法锁（默认锁对象为this当前实力对象），同步代码块锁（自己制定锁对象）</li>
<li>代码块形式:手动指定锁对象</li>
<li>方法锁形式:synchronized修饰普通方法,锁默认对象为this</li>
</ul>
<p>类锁：</p>
<ul>
<li><p>指sychronized修饰静态的方法或指锁为Class对象</p>
</li>
<li><p>概念:java类可能有有很多个对象,但是只有一个class对象</p>
</li>
<li><p>本质:所以所谓的类锁,不过是Class对象的锁而已</p>
</li>
<li><p>用法和效果:类锁只能在同一时刻被一个对象拥有</p>
</li>
<li><p>形式1:synchronized加载static方法上</p>
</li>
<li><p>形式2:synchronized(*.class)代码块</p>
</li>
</ul>
<h3 id="多线程访问同步方法的7种情况"><a href="#多线程访问同步方法的7种情况" class="headerlink" title="多线程访问同步方法的7种情况"></a>多线程访问同步方法的7种情况</h3><p>1.两个线程同时访问一个对象的同步方法</p>
<p>　　串行</p>
<p>2.两个线程访问的是两个对象的同步方法</p>
<p>　　锁对象不同,互不干扰,并行</p>
<p>3.如果两个线程访问的是Synchronized的静态方法</p>
<p>　　串行</p>
<p>4.同时访问同步方法与非同步方法</p>
<p>　　并行</p>
<p>5.访问同一对象的不同的普通同步方法</p>
<p>　　同一对象锁,串行</p>
<p>6.同时访问静态synchronized和非静态synchronized方法</p>
<p>　　锁不同,并行</p>
<p>7.方法抛异常后,会释放锁吗</p>
<p>　　如果一个线程在进入同步方法后抛出了异常,则另一个线程会立刻进入该同步方法</p>
<h2 id="10-Java-抽象类和接口的区别"><a href="#10-Java-抽象类和接口的区别" class="headerlink" title="10. Java 抽象类和接口的区别"></a>10. Java 抽象类和接口的区别</h2><blockquote>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/94770324">https://zhuanlan.zhihu.com/p/94770324</a></p>
</blockquote>
<p>Java中接口和抽象类的定义语法分别为<code>interface</code>与<code>abstract</code>关键字。</p>
<p><strong>抽象类</strong>：在Java中被<code>abstract</code>关键字修饰的类称为抽象类，被<code>abstract</code>关键字修饰的方法称为抽象方法，抽象方法只有方法的声明，没有方法体。抽象类的特点：</p>
<ol>
<li>抽象类不能被实例化只能被继承；</li>
<li>包含抽象方法的一定是抽象类，但是抽象类不一定含有抽象方法；</li>
<li>抽象类中的抽象方法的修饰符只能为public或者protected，默认为public；</li>
<li>一个子类继承一个抽象类，则子类必须实现父类抽象方法，否则子类也必须定义为抽象类；</li>
<li>抽象类可以包含属性、方法、构造方法，但是构造方法不能用于实例化，主要用途是被子类调用。</li>
</ol>
<p><strong>接口</strong>：Java中接口使用<code>interface</code>关键字修饰，特点为:</p>
<ol>
<li><p>接口可以包含变量、方法；变量被隐式指定为<code>public static final</code>，方法被隐式指定为<code>public abstract</code>（JDK1.8之前）；</p>
</li>
<li><p>接口支持多继承，即一个接口可以extends多个接口，间接的解决了Java中类的单继承问题；</p>
</li>
<li><p>一个类可以实现多个接口；</p>
</li>
<li><p>JDK1.8中对接口增加了新的特性：</p>
<ol>
<li>默认方法（default method）：JDK1.8允许给接口添加非抽象的方法实现，但必须使用<code>default</code>关键字修饰；定义了default的方法可以不被实现子类所实现，但只能被实现子类的对象调用；如果子类实现了多个接口，并且这些接口包含一样的默认方法，则子类必须重写默认方法；</li>
<li>静态方法（static method）：JDK1.8中允许使用<code>static</code>关键字修饰一个方法，并提供实现，称为接口静态方法。接口静态方法只能通过接口调用（接口名.静态方法名）。</li>
</ol>
</li>
</ol>
<p><strong>相同点</strong></p>
<ol>
<li>都不能被实例化</li>
<li>接口的实现类或抽象类的子类都只有实现了接口或抽象类中的方法后才能实例化。</li>
</ol>
<p><strong>不同点</strong></p>
<ol>
<li>接口只有定义，不能有方法的实现，java 1.8中可以定义<code>default</code>方法体，而抽象类可以有定义与实现，方法可在抽象类中实现。</li>
<li>实现接口的关键字为<code>implements</code>，继承抽象类的关键字为<code>extends</code>。一个类可以实现多个接口，但一个类只能继承一个抽象类。所以，使用接口可以间接地实现多重继承。</li>
<li>接口强调特定功能的实现，而抽象类强调所属关系。</li>
<li>接口成员变量默认为<code>public static final</code>，必须赋初值，不能被修改；其所有的成员方法都是<code>public</code>、<code>abstract</code>的。抽象类中成员变量默认<code>default</code>，可在子类中被重新定义，也可被重新赋值；抽象方法被<code>abstract</code>修饰，不能被<code>private</code>、<code>static</code>、<code>synchronized</code>和<code>native</code>等修饰，必须以分号结尾，不带花括号。</li>
</ol>
<h2 id="11-equals和-的区别"><a href="#11-equals和-的区别" class="headerlink" title="11. equals和==的区别"></a>11. <code>equals</code>和<code>==</code>的区别</h2><blockquote>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/338350987">https://zhuanlan.zhihu.com/p/338350987</a></p>
</blockquote>
<ol>
<li><p><code>equals()</code>：用来检测两个对象是否相等，即两个对象的内容是否相等。</p>
</li>
<li><p><code>==</code>：用于比较引用和比较基本数据类型时具有不同的功能</p>
<ol>
<li>基础数据类型：比较的是他们的值是否相等，比如两个int类型的变量，比较的是变量的值是否一样。</li>
<li>引用数据类型：比较的是引用的地址是否相同，比如说新建了两个User对象，比较的是两个User的地址是否一样。</li>
</ol>
</li>
</ol>
<p><strong>对equals重新需要注意五点：</strong></p>
<p>1、自反性：对任意引用值X，x.equals(x)的返回值一定为true；</p>
<p>2、对称性：对于任何引用值x,y,当且仅当y.equals(x)返回值为true时，x.equals(y)的返回值一定为true；</p>
<p>3、传递性：如果x.equals(y)=true, y.equals(z)=true,则x.equals(z)=true ；</p>
<p>4、 一致性：如果参与比较的对象没任何改变，则对象比较的结果也不应该有任何改变；</p>
<p>5、非空性：任何非空的引用值X，x.equals(null)的返回值一定为false 。</p>
<h3 id="："><a href="#：" class="headerlink" title="==："></a>==：</h3><p><code>==</code> 比较的是变量(栈)内存中存放的对象的(堆)内存地址，用来判断两个对象的地址是否相同，即是否是指相同一个对象。比较的是真正意义上的指针操作。</p>
<p>1、比较的是操作符两端的操作数是否是同一个对象。</p>
<p>2、两边的操作数必须是同一类型的（可以是父子类之间）才能编译通过。</p>
<p>3、比较的是地址，如果是具体的阿拉伯数字的比较，值相等则为<code>true</code>，如：</p>
<p><code>int a=10</code> 与 <code>long b=10L</code> 与 <code>double c=10.0</code>都是相同的（为<code>true</code>），因为他们都指向地址为10的堆。</p>
<h3 id="equals："><a href="#equals：" class="headerlink" title="equals："></a>equals：</h3><p><code>equals</code>用来比较的是两个对象的内容是否相等，由于所有的类都是继承自<code>java.lang.Object</code>类的，所以适用于所有对象，如果没有对该方法进行覆盖的话，调用的仍然是<code>Object</code>类中的方法，而<code>Object</code>中的<code>equals</code>方法返回的却是<code>==</code>的判断。</p>
<p><code>String s=&quot;abce&quot;</code>是一种非常特殊的形式,和new 有本质的区别。它是java中唯一不需要<code>new</code>就可以产生对象的途径。</p>
<p>以<code>String s=&quot;abce&quot;;</code>形式赋值在java中叫直接量,它是在常量池中而不是象<code>new</code>一样放在压缩堆中。这种形式的字符串，在JVM内部发生字符串拘留，即当声明这样的一个字符串后，JVM会在常量池中先查找有有没有一个值为<code>&quot;abcd&quot;</code>的对象。</p>
<p>如果有，就会把它赋给当前引用.即原来那个引用和现在这个引用指点向了同一对象，如果没有，则在常量池中新创建一个<code>&quot;abcd&quot;</code>，下一次如果有<code>Strings1=&quot;abcd&quot;</code>又会将s1指向<code>&quot;abcd&quot;</code>这个对象，即以这形式声明的字符串，只要值相等，任何多个引用都指向同一对象。</p>
<p>而<code>String s=new String(&quot;abcd&quot;)</code>和其它任何对象一样.每调用一次就产生一个对象，只要它们调用。</p>
<p>也可以这么理解：”String str=”hello””先在内存中找是不是有<code>&quot;hello&quot;</code>这个对象，如果有，就让<code>str</code>指向那个<code>&quot;hello&quot;</code>。如果内存里没有<code>&quot;hello&quot;</code>，就创建一个新的对象保存<code>&quot;hello&quot;</code>。<code>String str=new String(&quot;hello&quot;)</code>就是不管内存里是不是已经有<code>&quot;hello&quot;</code>这个对象，都新建一个对象保存<code>&quot;hello&quot;</code>。</p>
<h2 id="12-volatile和synchronized的区别"><a href="#12-volatile和synchronized的区别" class="headerlink" title="12. volatile和synchronized的区别"></a>12. volatile和synchronized的区别</h2><blockquote>
<p>参考：<a href="https://blog.csdn.net/suifeng3051/article/details/52611233">https://blog.csdn.net/suifeng3051/article/details/52611233</a></p>
</blockquote>
<ol>
<li><code>volatile</code>本质是在告诉JVM当前变量在寄存器（工作内存）中的值是不确定的，需要从主存中读取；</li>
<li><code>synchronized</code>则是锁定当前变量，只有当前线程可以访问该变量，其他线程被阻塞住；</li>
<li><code>volatile</code>仅能使用在变量级别；<code>synchronized</code>则可以使用在变量、方法、和类级别的；</li>
<li><code>volatile</code>仅能实现变量的修改可见性，不能保证原子性；而<code>synchronized</code>则可以保证变量的修改可见性和原子性；</li>
<li><code>volatile</code>不会造成线程的阻塞；<code>synchronized</code>可能会造成线程的阻塞；</li>
<li><code>volatile</code>标记的变量不会被编译器优化；<code>synchronized</code>标记的变量可以被编译器优化。</li>
</ol>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Java</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>使Vim中的空白字符可见</title>
    <url>/2022/04/make-vim-show-whitechars/</url>
    <content><![CDATA[<h1 id="使Vim中空白字符可见"><a href="#使Vim中空白字符可见" class="headerlink" title="使Vim中空白字符可见"></a>使Vim中空白字符可见</h1><blockquote>
<p>参考引用：<a href="https://segmentfault.com/a/1190000021101602">vim技巧：设置空格和Tab字符可见，并自定义显示的字符颜色</a></p>
</blockquote>
<span id="more"></span>

<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>不同于Visual Studio Code, Sublime Text等拥有GUI的高级文本编辑器，Vim作为Linux系统中命令行环境的常用文本编辑器，Vim的上手难度很高，且配置较为复杂。除了使用SSH连接远程服务器通过本机Visual Studio Code编写代码，有时候也需要使用Vim对服务器脚本、配置等文件进行修改。</p>
<p>偶然看到思否一篇文章介绍了如何使Vim中展示空白字符，让我印象深刻。毕竟Python这种语言对于是<code>Tab</code>还是<code>Space</code>的格式化要求较高；同时git提交的时候也会由于空白字符的问题产生不必要的更改。</p>
<p>于是记录我的Vim配置如下。</p>
<h2 id="2-介绍"><a href="#2-介绍" class="headerlink" title="2. 介绍"></a>2. 介绍</h2><p>执行 <code>:setlocal list</code> 命令后，会把 tab 字符显示为 <code>CTRL-I</code> 键的显示字符，实际显示为 <code>^I</code>。同时会在行末显示一个 <code>$</code> 字符。默认不会显示空格。</p>
<p>这个 <em>list</em> 选项是一个 “local to window“ 选项，也就是可以使用 <code>:setlocal</code> 命令来设置成只在当前窗口生效，这样设置之后，用 <code>:edit</code> 命令再打开其他文件，在新的窗口上没有开启这个设置，不会影响其他文件。</p>
<p>如果想要在打开代码文件时，才显示空格或 tab 字符，打开其他类型文件，例如 txt 文件、markdown 文件、makefile 文件等，不显示空格或 tab 字符，就可以使用 <code>:setlocal list</code> 命令。如果需要设置成全局状态，所有窗口都开启这个设置，可以使用 <code>:set list</code> 命令。</p>
<p>由于把 tab 字符显示为 <code>^I</code> 不够直观，不想在行末显示 <code>$</code> 字符，且需要显示空格，所以再执行 <code>set listchars=tab:&gt;~,trail:.</code> 命令来设置 tab 字符和空格的显示样式，且行末不显示字符。</p>
<p>这个 <em>listchars</em> 选项是一个 “global” 选项，一旦设置，对所有窗口都生效，用于设置 <em>list</em> 属性会显示哪些字符、以及如何显示。常见的选项值说明如下：</p>
<ul>
<li><strong>eol:c</strong><br>设置行末显示字符为 <em>c</em>。这里 <em>c</em> 可以换成任意一个字符，例如默认的 <code>$</code> 字符、或者改成 <code>#</code> 字符，等等。<br>显然，要设置成一个可见字符，才能明显地看到显示效果。<br>如果没有设置这一项，行末不显示任何字符。</li>
<li><strong>tab:xy</strong><br>设置 tab 字符的显示样式，字符 <em>x</em> 总是会显示，会显示零个或多个字符 <em>y</em> 以填充到 tab 字符的显示宽度。<br>例如，设置为 <code>tab:&gt;-</code>，且 tab 字符的显示宽度是 4，那么 tab 字符会显示为 <code>&gt;---</code>。<br>实际显示的时候，可能只显示一个 <code>&gt;</code>，或者只显示 <code>&gt;-</code>。这个跟 tab 字符所在的位置有关。假设 tab 字符的显示宽度为 4，意味着 tab 字符的宽度总是停在 4 的倍数行上，当手动输入 3 个空格，再输入一个 tab 字符时，tab 字符只会显示一个空白字符，那么就只显示所设置的字符 <em>x</em>，对于刚才的例子来说，就是只显示 <code>&gt;</code> 字符。<br>在实际测试时，如有设置 <code>:set expandtab</code>，会把 tab 字符转换成空格，输入 tab 键不会得到 tab 字符，要先执行 <code>:set noexpandtab</code> 命令，关闭这个设置再来测试。</li>
<li><strong>tab:xyz</strong><br>设置 tab 字符的显示样式，字符 <em>z</em> 总是会显示，显示字符 <em>z</em> 之后，如果还有可显示的位置，字符 <em>x</em> 会显示在开头，在字符 <em>x</em> 和 字符 <em>z</em> 中间显示零个或多个字符 <em>y</em> 以填充到 tab 字符的显示宽度。<br>例如，设置为 <code>tab:&lt;-&gt;</code>，且 tab 字符的显示为 4，那么 tab 字符会显示为 <code>&lt;--&gt;</code>。<br>实际显示的时候，可能只显示一个 <code>&gt;</code>，或者显示为 <code>&lt;&gt;</code>、<code>&lt;-&gt;</code> 等，跟 tab 字符所在的位置有关。如上面说明所示。</li>
<li>如果没有设置 <strong>tab:</strong> 这一项，tab 字符默认会显示为 <code>^I</code>。</li>
<li><strong>space:c</strong><br>设置所有的空格显示为字符 <em>c</em>，包括行首空格、行中间的空格、行末空格都会显示。<br>这里 <em>c</em> 可以换成任意一个字符。<br>如果没有设置这一项，空格显示为默认的空白。</li>
<li><strong>trail:c</strong><br>设置行末空格显示为字符 <em>c</em>，会覆盖 <code>space:</code> 这一项的设置，且只覆盖行末空格的显示。<br>这里 <em>c</em> 可以换成任意一个字符。<br>如果没有设置这一项，行末空格保持为 <code>space:</code> 这一项的设置。</li>
<li>不同设置项之间，用英文逗号 <code>,</code> 隔开。例如，<code>tab:&gt;~,trail:.</code> 设置了 tab 字符和行末空格的显示样式。</li>
</ul>
<p>基于上面说明，可以知道 <code>set listchars=tab:&gt;~,trail:.</code> 命令设置 tab 字符显示为 <code>&gt;~~~~</code> 的样式（假设 tab 字符的显示宽度是 4），设置行末空格显示为点号 <code>.</code>，不显示行首空格和行中间的空格，行末不显示字符。如果需要显示所有空格，可以把 <em>trail</em> 改成 <em>space</em>。</p>
<p>进行前面的设置之后，空格和 tab 字符已经可见，但是显示的字符颜色使用了 <code>hi SpecialKey</code> 这一项的颜色，可以执行 <code>:hi</code> 命令查看 <em>SpecialKey</em> 对应的颜色是什么，跟 vim 使用的颜色主题有关，不同颜色主题可能有不同的颜色，例如蓝色、绿色、黑底白色等。</p>
<p>这个显示颜色会跟代码文件本身的颜色高亮混在一起，不方便区分。假设 tab 字符显示为 <code>&gt;~~~~</code>，字符颜色是蓝色，如果后面跟着蓝色的代码关键字，就跟代码关键字显示成一个整体，不方便看到代码关键字。前面把行末空格显示为点号 <code>.</code>，如果某句注释的行末有空格，容易误以为是注释本身的点号。</p>
<p>为了方便区分于代码文件自身的颜色高亮，可以使用下面命令来设置可见的空格和 tab 字符显示为灰色，不那么显眼，方便区分于代码文件自身的颜色高亮：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">:hi SpecialKey <span class="attribute">guifg</span>=darkgrey <span class="attribute">ctermfg</span>=darkgrey</span><br></pre></td></tr></table></figure>

<p>如果不想显示成灰色，可以修改上面 <em>guifg<em>、</em>ctermfg</em> 的值，设置成个人喜欢的颜色。</p>
<p>这样设置之后，会有一个问题，就是修改了默认 <code>hi SpecialKey</code> 这一项的颜色。而 vim 会用到这个颜色来显示自身的一些内容，例如执行 <code>:map</code> 命令，显示映射的快捷键时，按键字符就显示为 <code>hi SpecialKey</code> 这一项的颜色，改成灰色后，不太显眼。</p>
<p>为了避免直接修改 <code>hi SpecialKey</code> 这一项的颜色，我们可以自定义一个颜色组，并设置为只对空格和 tab 字符生效，具体如下所示：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">:highlight MyTabSpace <span class="attribute">guifg</span>=darkgrey <span class="attribute">ctermfg</span>=darkgrey</span><br><span class="line">:match MyTabSpace /\t\| /</span><br></pre></td></tr></table></figure>

<p>这里用 <code>:highlight</code> 命令（这个命令也可以简写为 <code>:hi</code> 命令）来自定义了一个 <em>MyTabSpace</em> 颜色组，显示为灰色。然后用 <code>:match</code> 命令设置 <em>MyTabSpace</em> 颜色组对空格和 tab 字符生效。上面的 <code>\t</code> 就是 tab 字符。不同字符串之间用 <code>|</code> 隔开，书写的时候要使用 <code>\|</code> 转义。在 <code>|</code> 后面的空白字符就是空格。</p>
<p>如前面说明，我们可能只想在查看代码文件时，才设置空格和 tab 字符可见，并且最好是自动开启。这个就需要在 <code>~/.vimrc</code> 文件中进行配置。完整配置如下：</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot; 创建一个新的 MyTabSpace 组,并设置它的颜色</span></span><br><span class="line"><span class="keyword">highlight</span> MyTabSpace guifg=darkgrey ctermfg=darkgrey</span><br><span class="line"><span class="comment">&quot; 指定tab字符和空格的颜色组为MyTabSpace,不同字符串之间用|隔开,要使用\|转义.</span></span><br><span class="line"><span class="keyword">match</span> MyTabSpace /\t\| /</span><br><span class="line"><span class="comment">&quot; 针对特定类型的代码文件,设置显示Tab键和行尾空格以便在查看代码时注意到它们</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType <span class="keyword">c</span>,cpp,java,xml <span class="keyword">setlocal</span> <span class="keyword">list</span> | <span class="keyword">set</span> listchars=<span class="keyword">ta</span><span class="variable">b:</span>&gt;~,trai<span class="variable">l:</span>.</span><br></pre></td></tr></table></figure>

<p>这段配置先使用 <code>:highlight</code> 命令（在 <em>.vimrc</em> 文件中书写时，省略了前面的冒号）自定义一个 <em>MyTabSpace</em> 颜色组，颜色为灰色。然后用 <code>:match</code> 命令设置 <em>MyTabSpace</em> 颜色组对空格和 tab 字符生效。由于空格和 tab 字符默认不可见，所以对于没有设置空格和 tab 字符可见的文件窗口来说，这个设置没有影响。</p>
<p>后面使用 <code>:autocmd</code> 命令针对 <code>c,cpp,java,xml</code> 这些类型的文件自动设置空格和tab 字符可见，就能看到这些字符显示为灰色。其他类型文件没有自动设置，不受影响。如有需要，可以自行添加其他类型的文件后缀名。</p>
<p>可以使用 <code>:help &#39;list&#39;</code> 命令查看 <code>list</code> 选项的说明。<br>可以使用 <code>:help &#39;listchars&#39;</code> 命令查看 <code>listchars</code> 选项的说明。<br>可以使用 <code>:help :highlight</code> 命令查看设置颜色高亮的更多说明。<br>可以使用 <code>:help :match</code> 命令查看如何设置指定字符串的显示颜色组。<br>可以使用 <code>:help :autocmd</code> 命令查看如何针对特定类型文件自动执行指定命令。</p>
<h2 id="3-配置"><a href="#3-配置" class="headerlink" title="3. 配置"></a>3. 配置</h2><p>在<code>home</code>目录下新建<code>.vimrc</code>配置文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim ~/.vimrc</span><br></pre></td></tr></table></figure>

<p>填入</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">set tabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set expandtab</span><br><span class="line">set autoindent</span><br><span class="line">set softtabstop=4</span><br><span class="line">set ruler</span><br><span class="line">syntax on</span><br><span class="line">set showmode</span><br><span class="line">set encoding=utf-8</span><br><span class="line">set t_Co=256</span><br><span class="line">set laststatus=2</span><br><span class="line"></span><br><span class="line">set list</span><br><span class="line">set listchars=tab:⇥⇥,space:·,eol:⤦</span><br><span class="line">highlight TabSpaceColor guifg=darkgrey ctermfg=darkgrey</span><br><span class="line">match TabSpaceColor /\t\| \|\n\|\r/</span><br></pre></td></tr></table></figure>

<p>从而可以显示空格、制表符和换行符。效果：</p>
<p><img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/20220406194350.png" alt="效果图片"></p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Vim</tag>
      </tags>
  </entry>
  <entry>
    <title>Typora自定义导出HTML</title>
    <url>/2022/03/Typora-export-html/</url>
    <content><![CDATA[<h1 id="Typora-Export-to-HTML-Mixin"><a href="#Typora-Export-to-HTML-Mixin" class="headerlink" title="Typora Export to HTML Mixin"></a>Typora Export to HTML Mixin</h1><p>平常喜欢用Typora编写Markdown笔记，一般来说都是导出为pdf方便阅读，有时候也导出为html文件方便直接放在静态网站上展示。</p>
<p>偶然发现Typora可以在导出的html文件的<code>&lt;head&gt;</code>和<code>&lt;body&gt;</code>中插入自定义代码。这就有了很多可玩性。</p>
<center><img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/20220331222931.png" alt="Typora screenshot" style="height:320px;" /></center>

<span id="more"></span>

<h2 id="1-官方文档这样说"><a href="#1-官方文档这样说" class="headerlink" title="1. 官方文档这样说"></a>1. 官方文档这样说</h2><blockquote>
<h4 id="Add-Custom-Contents"><a href="#Add-Custom-Contents" class="headerlink" title="Add Custom Contents"></a>Add Custom Contents</h4><p>You can add custom contents in Append in <head /> and Append in <body />, which will be inserted into <head /> part and <body /> part in the exported html. For contents that cannot be added into <head />, even when it is added in Append in <head />, it will be prepend into <body /> instead. Same for Append in <body />.</p>
<h5 id="Export-YAML-meta"><a href="#Export-YAML-meta" class="headerlink" title="Export YAML meta"></a>Export YAML meta</h5><p>Variables like <code>$&#123;title&#125;</code> or <code>$&#123;author&#125;</code> in <code>&lt;title&gt;</code> and <code>&lt;meta&gt;</code> tag will be replaced by corresponding <a href="https://support.typora.io/Export/#variables">variables</a> defined in <a href="https://jekyllrb.com/docs/front-matter/">YAML Front Matter</a>.</p>
<p>For example, you can insert additional <code>&lt;meta&gt;</code> data or custom <code>&lt;style&gt;</code> into exported html using those options, e.g:</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;meta <span class="attribute">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">&quot;author&quot;</span> <span class="attribute">content</span>=<span class="string">&quot;<span class="variable">$&#123;author&#125;</span>&quot;</span>&gt;</span><br><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">&quot;description&quot;</span> <span class="attribute">content</span>=<span class="string">&quot;<span class="variable">$&#123;description&#125;</span>&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>To use those variables in somewhere else, you can add some javascript in <code>Append in &lt;body /&gt;</code>, to read target meta tag, and modified export content as you want.</p>
</blockquote>
<h2 id="2-实践"><a href="#2-实践" class="headerlink" title="2. 实践"></a>2. 实践</h2><p>官方文档中有几点需要注意</p>
<ul>
<li>变量可以写在Markdown的<code>YAML</code>头注释中，输入方式是三个减号<code>---</code>并<code>return</code></li>
<li>Typora只能在<code>&lt;head&gt;</code>中插入带变量的内容，如果需要在<code>&lt;body&gt;</code>中使用变量，需要先在<code>&lt;head&gt;</code>中通过<code>&lt;meta&gt;</code>引入，在<code>&lt;body&gt;</code>中通过Javascript读取<code>&lt;meta&gt;</code>中的变量再使用。</li>
</ul>
<h3 id="输出user-agent"><a href="#输出user-agent" class="headerlink" title="输出user agent"></a>输出user agent</h3><p>在<code>&lt;body&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span>(navigator.userAgentData)&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ua = navigator.userAgentData.platform || <span class="string">&quot;Unknown&quot;</span>;</span></span><br><span class="line"><span class="javascript">ua = ua + <span class="string">&quot; &quot;</span> + navigator.userAgentData.brands[<span class="number">2</span>].brand + <span class="string">&quot; var.&quot;</span> + navigator.userAgentData.brands[<span class="number">2</span>].version;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;%c&quot;</span>+ua, <span class="string">&quot;font-size:16px;background-color:black;color:white;padding:4px;margin:4px;&quot;</span>);</span></span><br><span class="line"><span class="javascript">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ua = navigator.userAgent;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;%c&quot;</span>+ua, <span class="string">&quot;font-size:16px;background-color:black;color:white;padding:4px;margin:4px;&quot;</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意⚠️，<code>userAgentData</code>是新属性</p>
<p>效果</p>
<img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/20220331224202.png" alt="log user agent" style="zoom:50%;" />

<h3 id="输出title"><a href="#输出title" class="headerlink" title="输出title"></a>输出title</h3><p>在<code>&lt;head&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>$&#123;title&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在<code>&lt;body&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> title = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;title&#x27;</span>)[<span class="number">0</span>].textContent;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;%c&quot;</span>+<span class="string">&quot;Title: &quot;</span>+title, <span class="string">&quot;font-size:16px;background-color:black;color:white;padding:4px;margin:4px;&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果</p>
<img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/20220331224629.png" alt="log title" style="zoom:50%;" />

<h3 id="输出自定义变量"><a href="#输出自定义变量" class="headerlink" title="输出自定义变量"></a>输出自定义变量</h3><p>在<code>&lt;head&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;$&#123;description&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在<code>&lt;body&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> desp = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;meta&#x27;</span>)[<span class="string">&#x27;description&#x27;</span>].content;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;%c&quot;</span>+<span class="string">&quot;Desp: &quot;</span>+desp, <span class="string">&quot;font-size:16px;background-color:white;color:black;padding:4px;margin:4px;&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果</p>
<img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/20220331225114.png" alt="log desciption" style="zoom:50%;" />

<h3 id="输出本页地址"><a href="#输出本页地址" class="headerlink" title="输出本页地址"></a>输出本页地址</h3><p>在<code>&lt;body&gt;</code>中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> pageUrl = <span class="built_in">window</span>.location.href;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;%cPlease indicate the URL for forwarding: &quot;</span>+ pageUrl, <span class="string">&quot;font-size:18px;background-color:yellow;color:black;padding:4px;margin:4px;&quot;</span>)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>进阶：复制页面文本时添加版权信息</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">addLink</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> pageUrl = <span class="built_in">window</span>.location.href;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> linkContent = <span class="string">&quot;&lt;br/&gt;&lt;br/&gt;Please indicate the URL for forwarding: &lt;br/&gt;\n&quot;</span>+ pageUrl+<span class="string">&quot;&lt;br/&gt;\n&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> selected = selection = <span class="built_in">window</span>.getSelection() ? <span class="built_in">window</span>.getSelection() : <span class="built_in">document</span>.selection.createRange().text;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span>(<span class="built_in">window</span>.clipboardData)&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.clipboardData.setData (<span class="string">&quot;Text&quot;</span>, selected+linkContent);</span></span><br><span class="line"><span class="javascript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> newDiv = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    newDiv.style.position =<span class="string">&#x27;absolute&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    newDiv.style.left =<span class="string">&#x27;-99999px&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    newDiv.style.top =<span class="string">&#x27;-99999px&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.body.appendChild(newDiv);</span></span><br><span class="line"><span class="javascript">    newDiv.innerHTML = selected+linkContent;</span></span><br><span class="line"><span class="javascript">    selection.selectAllChildren(newDiv);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.body.removeChild(newDiv);</span></span><br><span class="line"><span class="javascript">    &#125;,<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.oncopy = addLink;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="3-完"><a href="#3-完" class="headerlink" title="3. 完"></a>3. 完</h2><p>因为是内嵌代码，理论上是支持一切网页上可以运行的内容。可以自行发掘用法。</p>
<p>一次设定，导出无忧。</p>
<p>我的<code>&lt;script&gt;</code>使用<code>uglify</code>压缩</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ua,title=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;title&quot;</span>)[<span class="number">0</span>].textContent,updatetime=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;meta&quot;</span>).updatetime.content,pageUrl=(<span class="built_in">console</span>.log(<span class="string">&quot;%cTitle: &quot;</span>+title+<span class="string">&quot;\nUpdateTime: &quot;</span>+updatetime,<span class="string">&quot;font-size:14px;background-color:black;color:white;padding:4px;margin:4px;&quot;</span>),ua=navigator.userAgentData?(ua=navigator.userAgentData.platform||<span class="string">&quot;Unknown&quot;</span>)+<span class="string">&quot; &quot;</span>+navigator.userAgentData.brands[<span class="number">2</span>].brand+<span class="string">&quot; var.&quot;</span>+navigator.userAgentData.brands[<span class="number">2</span>].version:navigator.userAgent,<span class="built_in">console</span>.log(<span class="string">&quot;%c&quot;</span>+ua,<span class="string">&quot;font-size:14px;background-color:black;color:white;padding:4px;margin:4px;&quot;</span>),<span class="built_in">window</span>.location.href);<span class="function"><span class="keyword">function</span> <span class="title">addLink</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> e,o=<span class="string">&quot;&lt;br/&gt;&lt;br/&gt;Please indicate the URL for forwarding: &lt;br/&gt;\n&quot;</span>+<span class="built_in">window</span>.location.href+<span class="string">&quot;&lt;br/&gt;\n&quot;</span>,t=selection=<span class="built_in">window</span>.getSelection()?<span class="built_in">window</span>.getSelection():<span class="built_in">document</span>.selection.createRange().text;<span class="built_in">window</span>.clipboardData?<span class="built_in">window</span>.clipboardData.setData(<span class="string">&quot;Text&quot;</span>,t+o):((e=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>)).style.position=<span class="string">&quot;absolute&quot;</span>,e.style.left=<span class="string">&quot;-99999px&quot;</span>,e.style.top=<span class="string">&quot;-99999px&quot;</span>,<span class="built_in">document</span>.body.appendChild(e),e.innerHTML=t+o,selection.selectAllChildren(e),<span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">document</span>.body.removeChild(e)&#125;,<span class="number">0</span>))&#125;<span class="built_in">console</span>.log(<span class="string">&quot;%cPlease indicate the URL for forwarding: &quot;</span>+pageUrl,<span class="string">&quot;font-size:14px;background-color:yellow;color:black;padding:4px;margin:4px;&quot;</span>),<span class="built_in">console</span>.log(<span class="string">&quot;%cWebsite: https://RyzenX.com&quot;</span>,<span class="string">&quot;font-size:24px;background-color:red;color:white;padding:4px;margin:4px;&quot;</span>),<span class="built_in">console</span>.log(<span class="string">&quot;%cCopyright 2022 Steven Yan. All rights reserved.&quot;</span>,<span class="string">&quot;font-size:24px;background-color:blue;color:white;padding:4px;margin:4px;&quot;</span>),<span class="built_in">document</span>.oncopy=addLink;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Typora</tag>
        <tag>备忘</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 基础问题</title>
    <url>/2022/03/JS-questions-2203/</url>
    <content><![CDATA[<h1 id="JavaScript-基础问题"><a href="#JavaScript-基础问题" class="headerlink" title="JavaScript 基础问题"></a>JavaScript 基础问题</h1><p>一些网上收集到的面试题答案总结…</p>
<span id="more"></span>

<h2 id="1-类型转换"><a href="#1-类型转换" class="headerlink" title="1. 类型转换"></a>1. 类型转换</h2><blockquote>
<p>参考：<a href="https://juejin.cn/post/7018851549170368520">https://juejin.cn/post/7018851549170368520</a></p>
</blockquote>
<p>在JavaScript中，加法的规则其实很简单，只有两种情况：</p>
<ul>
<li>数字和数字相加</li>
<li>字符串和字符串相加</li>
</ul>
<p>所有其他类型的值都会被自动转换成这两种类型的值</p>
<p>在JavaScript中，一共有两种类型的值:</p>
<ul>
<li>原始值有：<code>undefined</code>、<code>null</code>、 布尔值(<code>Boolean</code>)、 数字(<code>Number</code>)、字符串(<code>String</code>)、<code>Symbol</code></li>
<li>对象值：其他的所有值都是对象类型的值，包括数组(arrays)和函数(functions)</li>
</ul>
<p>加法运算符会触发三种类型转换：将值转换为原始值、转换为数字、转换为字符串，这刚好对应了JavaScript引擎内部的三种抽象操作：</p>
<ul>
<li><code>ToPrimitive()</code></li>
<li><code>ToNumber()</code></li>
<li><code>ToString()</code></li>
</ul>
<h3 id="通过-ToPrimitive-将值转换为原始值"><a href="#通过-ToPrimitive-将值转换为原始值" class="headerlink" title="通过 ToPrimitive() 将值转换为原始值"></a>通过 ToPrimitive() 将值转换为原始值</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ToPrimitive(input, PreferredType?)</span><br></pre></td></tr></table></figure>

<p>可选参数<code>PreferredType</code>可以是<code>Number</code>或者<code>String</code>它只代表了一个转换的偏好，转换结果不一定必须是这个参数所指的类型，但转换结果一定是一个原始值。如果<code>PreferredType</code>被标志为<code>Number</code>，则会进行下面的操作来转换输入的值：</p>
<ol>
<li>如果输入的值已经是个原始值，则直接返回它。</li>
<li>否则，如果输入的值是一个对象。则调用该对象的<code>valueOf()方法</code>。如果<code>valueOf()方法</code>的返回值是一个原始值，则返回这个原始值。</li>
<li>否则，调用这个对象的<code>toString()方法</code>。如果<code>toString()</code>方法的返回值是一个原始值，则返回这个原始值。</li>
<li>否则，抛出<code>TypeError</code>异常。</li>
</ol>
<p>如果<code>PreferredType</code>被标志为<code>String</code>，则转换操作的第二步和第三步的顺序会调换。如果没有<code>PreferredType</code>这个参数，则<code>PreferredType</code>的值会按照这样的规则来自动设置: <code>Date</code>类型的对象会被设置为<code>String</code>，其它类型的值会被设置为<code>Number</code>。</p>
<h3 id="通过-ToNumber-将值转换为数字"><a href="#通过-ToNumber-将值转换为数字" class="headerlink" title="通过 ToNumber() 将值转换为数字"></a>通过 ToNumber() 将值转换为数字</h3><table>
<thead>
<tr>
<th><strong>参数</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>undefined</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td><code>+0</code></td>
</tr>
<tr>
<td>布尔值</td>
<td>true被转换为 <code>1</code>，false转换为<code>0</code></td>
</tr>
<tr>
<td>数字</td>
<td>无需转换</td>
</tr>
<tr>
<td>字符串</td>
<td>由字符串解析为数字。例如：<code>&quot;324&quot;</code>被转换为<code>324</code></td>
</tr>
</tbody></table>
<p>如果输入的值是一个对象，则会首先会调用<code>ToPrimitive(obj, Number)</code>将该对象转换为原始值,然后在调用<code>ToNumber()</code>将这个原始值转换为数字。</p>
<h3 id="通过-ToString-将值转换为字符串"><a href="#通过-ToString-将值转换为字符串" class="headerlink" title="通过 ToString() 将值转换为字符串"></a>通过 ToString() 将值转换为字符串</h3><table>
<thead>
<tr>
<th><strong>参数</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>undefined</code></td>
<td><code>&quot;undefined&quot;</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td><code>&quot;null&quot;</code></td>
</tr>
<tr>
<td>布尔值</td>
<td><code>&quot;true&quot; 或者</code> <code>&quot;false&quot;</code></td>
</tr>
<tr>
<td>数字</td>
<td>数字作为字符串，比如。 <code>&quot;1.765&quot;</code></td>
</tr>
<tr>
<td>字符串</td>
<td>无需转换</td>
</tr>
</tbody></table>
<p>如果输入的值是一个对象，则会首先会调用<code>ToPrimitive(obj, String)</code>将该对象转换为原始值，然后再调用<code>ToString()</code>将这个原始值转换为字符串。</p>
<h2 id="2-作用域"><a href="#2-作用域" class="headerlink" title="2. 作用域"></a>2. 作用域</h2><blockquote>
<p>参考：<a href="https://blog.fundebug.com/2019/03/15/understand-javascript-scope/">https://blog.fundebug.com/2019/03/15/understand-javascript-scope/</a></p>
</blockquote>
<h3 id="ES6-之前"><a href="#ES6-之前" class="headerlink" title="ES6 之前"></a>ES6 之前</h3><p>只有<strong>全局作用域</strong>和<strong>函数作用域</strong></p>
<p><strong>全局作用域</strong>：</p>
<ul>
<li>直接定义的变量和函数</li>
<li>未定义直接赋值的变量</li>
<li><code>window</code>/<code>global</code>对象的属性</li>
</ul>
<p><strong>函数作用域</strong>：</p>
<p>在函数内部声明的变量或者内层函数，多层作用域中，内层可以访问到外层变量。</p>
<h3 id="ES6-之后"><a href="#ES6-之后" class="headerlink" title="ES6 之后"></a>ES6 之后</h3><p>新增块级作用域。使用关键字<code>let</code> / <code>const</code> 声明。</p>
<p><code>let</code> / <code>const</code>不能被提升，在一个作用域内只能声明一次</p>
<h2 id="3-相等性判断"><a href="#3-相等性判断" class="headerlink" title="3. 相等性判断"></a>3. 相等性判断</h2><blockquote>
<p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness</a></p>
</blockquote>
<p>ES2015中有四种相等算法：</p>
<ul>
<li>抽象（非严格）相等比较 (<code>==</code>)</li>
<li>严格相等比较 (<code>===</code>): 用于  <code>Array.prototype.indexOf</code>, <code>Array.prototype.lastIndexOf</code>, 和 <code>case</code>-matching</li>
<li>同值零: 用于 <code>%TypedArray%</code> 和 <code>ArrayBuffer</code>构造函数、以及<code>Map</code>和<code>Set</code>操作, 并将用于 ES2016/ES7 中的<code>String.prototype.includes</code></li>
<li>同值: 用于所有其他地方</li>
</ul>
<p>JavaScript提供三种不同的值比较操作：</p>
<ul>
<li>严格相等比较 (也被称作”strict equality”, “identity”, “triple equals”)，使用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Identity">===</a> ,</li>
<li>抽象相等比较 (“loose equality”，”double equals”) ，使用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality">==</a></li>
<li>以及 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is</code></a> （ECMAScript 2015/ ES6 新特性）</li>
</ul>
<h3 id="严格相等"><a href="#严格相等" class="headerlink" title="严格相等==="></a>严格相等<code>===</code></h3><p>全等操作符比较两个值是否相等，两个被比较的值在比较前都不进行隐式转换。如果两个被比较的值具有不同的类型，这两个值是不全等的。否则，如果两个被比较的值类型相同，值也相同，并且都不是 Number 类型时，两个值全等。最后，如果两个值都是 <code>Number</code> 类型，当两个都不是 <code>NaN</code>，并且数值相同，或是两个值分别为 <code>+0</code> 和  <code>-0</code> 时，两个值被认为是全等的。</p>
<p>在日常中使用全等操作符几乎总是正确的选择。对于除了数值之外的值，全等操作符使用明确的语义进行比较：一个值只与自身全等。对于数值，全等操作符使用略加修改的语义来处理两个特殊情况：第一个情况是，浮点数 <code>0</code> 是不分正负的，全等操作符认为这两个值是全等的。第二个情况是，全等操作符认为 <code>NaN</code> 与其他任何值都不全等，包括它自己。（等式 <code>(x !== x)</code> 成立的唯一情况是 x 的值为 <code>NaN</code>）</p>
<h3 id="非严格相等"><a href="#非严格相等" class="headerlink" title="非严格相等=="></a>非严格相等<code>==</code></h3><p>一些总结规律：</p>
<ul>
<li><code>undefined</code> 与 <code>null</code> 互相相等，与其他值为false</li>
<li><code>Number</code>与<code>String</code>/<code>Boolean</code>比较时，后者将会被转化<code>ToNumber</code>；与对象进行比较时，后者将会被转化<code>ToPrimitive</code></li>
<li><code>String</code>与<code>Number</code>/<code>Boolean</code>比较时，均转换<code>ToNumber</code>；与对象比较时，后者将被转换<code>ToPrimitive</code></li>
<li><code>Boolean</code>与<code>Number</code>/<code>String</code>比较时，与上例相同</li>
<li><code>Object</code>与<code>Number</code>/<code>String</code>/<code>Boolean</code>比较时，前者将被转换<code>ToPrimitive</code>，<code>Boolean</code>被转换<code>ToNumber</code></li>
</ul>
<h3 id="同值相等"><a href="#同值相等" class="headerlink" title="同值相等"></a>同值相等</h3><p>由<code>Object.is</code>方法提供</p>
<h3 id="JS-圣经图"><a href="#JS-圣经图" class="headerlink" title="JS 圣经图"></a>JS 圣经图</h3><p><img src="https://ryzenx.oss-cn-hangzhou.aliyuncs.com/img/2022/5be92e73c0b119ed.jpg" alt="JS比较运算"></p>
<h2 id="4-回调函数"><a href="#4-回调函数" class="headerlink" title="4. 回调函数"></a>4. 回调函数</h2><blockquote>
<p>参考：<a href="https://www.cnblogs.com/lfri/p/11872294.html">https://www.cnblogs.com/lfri/p/11872294.html</a></p>
</blockquote>
<p>回调函数是作为一个参数传递给另一个函数。回调函数可以方便地进行异步处理，因为 JavaScript 是事件驱动的语言。这意味着，JavaScript 不会因为要等待一个响应而停止当前运行，而是在监听其他事件时继续执行。</p>
<h3 id="回调函数有哪些特点？"><a href="#回调函数有哪些特点？" class="headerlink" title="回调函数有哪些特点？"></a>回调函数有哪些特点？</h3><p><strong>不会立刻执行</strong></p>
<p>回调函数作为参数传递给一个函数的时候，传递的只是函数的定义并不会立即执行。和普通的函数一样，回调函数在函调用函数数中也要通过<code>()</code>运算符调用才会执行。</p>
<p><strong>是个闭包</strong></p>
<p>回调函数是一个闭包，也就是说它能访问到其外层定义的变量。</p>
<p><strong>执行前类型判断</strong></p>
<p>在执行回调函数前最好确认其是一个函数。</p>
<h2 id="5-use-strict"><a href="#5-use-strict" class="headerlink" title="5. use strict"></a>5. use strict</h2><blockquote>
<p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode</a></p>
</blockquote>
<p>在作用域内顶部使用表达式 <code>&quot;use strict&quot;;</code></p>
<ol>
<li><p>严格模式通过<strong>抛出错误</strong>来消除了一些原有<strong>静默错误</strong>。</p>
<p>第一，严格模式下无法再意外创建全局变量。</p>
<p>第二，严格模式会使引起静默失败的赋值操作抛出异常。例如， <code>NaN</code> 是一个不可写的全局变量。在正常模式下，给 <code>NaN</code> 赋值不会产生任何作用；开发者也不会受到任何错误反馈。但在严格模式下，给 <code>NaN</code> 赋值会抛出一个异常。任何在正常模式下引起静默失败的赋值操作（给不可写属性赋值，给只读属性(getter-only)赋值, 给不可扩展对象(<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions">non-extensible</a> object)的新属性赋值）都会抛出异常。</p>
<p>第三，在严格模式下，试图删除不可删除的属性时会抛出异常。</p>
<p>第四，在Gecko版本34之前，严格模式要求一个对象内的所有属性名在对象内必须唯一。正常模式下重名属性是允许的，最后一个重名的属性决定其属性值。因为只有最后一个属性起作用，当代码要去改变属性值而不是修改最后一个重名属性的时候，复制这个对象就产生一连串的bug。在严格模式下，重名属性被认为是语法错误。</p>
<p>第五，严格模式要求函数的参数名唯一。在正常模式下，最后一个重名参数名会掩盖之前的重名参数。</p>
<p>第六，严格模式禁止八进制数字语法。ECMAScript并不包含八进制语法，但所有的浏览器都支持这种以零(<code>0</code>)开头的八进制语法：<code>0644 === 420</code> 还有 <code>&quot;\045&quot; === &quot;%&quot;</code>。在ECMAScript 6中支持为一个数字加”<code>0o</code>“的前缀来表示八进制数。</p>
<p>第七，ECMAScript 6中的严格模式禁止设置<code>primitive</code>值的属性。</p>
</li>
<li><p>严格模式修复了一些导致 JavaScript引擎难以执行优化的缺陷：有时候，相同的代码，严格模式可以比非严格模式下<strong>运行得更快</strong>。</p>
<ol>
<li><p>简化变量的使用</p>
<p>第一。严格模式禁用 <code>with</code>。<code>with</code>所引起的问题是块内的任何名称可以映射(map)到<code>with</code>传进来的对象的属性, 也可以映射到包围这个块的作用域内的变量(甚至是全局变量)，这一切都是在运行时决定的：在代码运行之前是无法得知的。</p>
<p>第二，严格模式下的 <code>eval</code> 不再为上层范围引入新变量。在严格模式下 <code>eval</code> 仅仅为被运行的代码创建变量，所以 <code>eval</code> 不会使得名称映射到外部变量或者其他局部变量。</p>
<p>第三，严格模式禁止删除声明变量。<code>delete name</code> 在严格模式下会引起语法错误。</p>
</li>
<li><p>让<code>eval</code>和<code>arguments</code>变的简单</p>
<p>第一，名称 <code>eval</code> 和 <code>arguments</code> 不能通过程序语法被绑定(be bound)或赋值。</p>
<p>第二，严格模式下，参数的值不会随 <code>arguments</code> 对象的值的改变而变化。</p>
<p>第三，不再支持 <code>arguments.callee</code>。</p>
</li>
<li><p>“安全的” JavaScript</p>
<p>第一，在严格模式下通过<code>this</code>传递给一个函数的值不会被强制转换为一个对象。</p>
<p>第二，在严格模式中再也不能通过广泛实现的ECMAScript扩展“游走于”JavaScript的栈中。</p>
<p>第三，严格模式下的<code>arguments</code>不会再提供访问与调用这个函数相关的变量的途径。</p>
</li>
</ol>
</li>
<li><p>严格模式<strong>禁用了</strong>在ECMAScript的未来版本中可能会定义的一些语法。</p>
<p>第一，在严格模式中一部分字符变成了保留的关键字。这些字符包括<code>implements</code>, <code>interface</code>, <code>let</code>, <code>package</code>, <code>private</code>, <code>protected</code>, <code>public</code>, <code>static</code>和<code>yield</code>。</p>
<p>第二，严格模式禁止了不在脚本或者函数层面上的函数声明。</p>
</li>
</ol>
<h2 id="6-null-与-undefined"><a href="#6-null-与-undefined" class="headerlink" title="6. null 与 undefined"></a>6. null 与 undefined</h2><blockquote>
<p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects</a></p>
</blockquote>
<p>值 <code>null</code> 特指对象的值未设置。它是 JavaScript 基本类型之一，在布尔运算中被认为是<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a>。</p>
<p>全局属性<code>undefined</code>表示原始值<code>undefined。</code>它是一个JavaScript的 原始数据类型。</p>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><blockquote>
<p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive">https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive</a></p>
</blockquote>
<p>基本类型（基本数值、基本数据类型）是一种既非对象也无方法的数据。在 JavaScript 中，共有7种基本类型：<code>string</code>，<code>number</code>，<code>bigint</code>，<code>boolean</code>，<code>null</code>，<code>undefined</code>，<code>symbol</code></p>
<h2 id="7-判断数字是否为整数"><a href="#7-判断数字是否为整数" class="headerlink" title="7. 判断数字是否为整数"></a>7. 判断数字是否为整数</h2><blockquote>
<p>参考：<a href="https://www.cnblogs.com/snandy/p/3824828.html">https://www.cnblogs.com/snandy/p/3824828.html</a></p>
</blockquote>
<p>JavaScript中不区分整数和浮点数，所有数字内部都采用64位浮点格式表示，。但实际操作中比如数组索引、位操作则是基于32位整数。</p>
<ol>
<li><p>取余</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isInt = <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> val === <span class="string">&#x27;number&#x27;</span> &amp;&amp; val % <span class="number">1</span> === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用Math内置方法判断</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isInt = <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(val) === val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>parseInt</code>判断</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isInt = <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(val, <span class="number">10</span>) === val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 缺陷，val 将被转换成string再判断</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>通过位运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isInt = <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (val | <span class="number">0</span>) === val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 缺陷：只能判断32位以下数字</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>通过新增方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger(val);</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="8-IIFE"><a href="#8-IIFE" class="headerlink" title="8. IIFE"></a>8. IIFE</h2><blockquote>
<p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/IIFE">https://developer.mozilla.org/zh-CN/docs/Glossary/IIFE</a></p>
</blockquote>
<p><strong>IIFE</strong>（ 立即调用函数表达式）是一个在定义时就会立即执行的 JavaScrip函数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>这是一个被称为 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Self-Executing_Anonymous_Function">自执行匿名函数</a> 的设计模式，主要包含两部分。第一部分是包围在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Grouping"><code>圆括号运算符</code></a> <code>()</code> 里的一个匿名函数，这个匿名函数拥有独立的词法作用域。这不仅避免了外界访问此 IIFE 中的变量，而且又不会污染全局作用域。</p>
<p>第二部分再一次使用 <code>()</code> 创建了一个立即执行函数表达式，JavaScript 引擎到此将直接执行函数。</p>
<h2 id="9-命名函数与匿名函数"><a href="#9-命名函数与匿名函数" class="headerlink" title="9. 命名函数与匿名函数"></a>9. 命名函数与匿名函数</h2><p>命名函数也叫<strong>函数声明</strong>：<code>function fn() &#123;&#125;</code></p>
<p>此时存在变量提升，在声明这个函数之前就可以调用。</p>
<p>匿名函数包括<strong>函数表达式</strong>、<strong>箭头函数</strong>和<strong>回调函数</strong>的用法：</p>
<ul>
<li><code>const fn = function() &#123;&#125;</code></li>
<li><code>const fn = () =&gt; &#123;&#125;</code></li>
<li><code>function foo(() =&gt; &#123;&#125;)</code></li>
</ul>
<p>函数表达式没有提升，在定义函数表达式之前不能使用。</p>
<h2 id="10-私有属性"><a href="#10-私有属性" class="headerlink" title="10. 私有属性"></a>10. 私有属性</h2><blockquote>
<p>参考：<a href="https://segmentfault.com/a/1190000017081250">https://segmentfault.com/a/1190000017081250</a></p>
</blockquote>
<ol>
<li><p>约定实现：使用下划线<code>_</code>开头的属性为私有属性</p>
</li>
<li><p>使用constructor的闭包实现：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> _private = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _private = <span class="string">&#x27;private&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span> _private&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用IIFE创建闭包和作用域</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Example = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _private = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      _private = <span class="string">&#x27;private&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> _private;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> Example;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>Symbol</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Example = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _private = <span class="built_in">Symbol</span>(<span class="string">&#x27;private&#x27;</span>);</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>[_private] = <span class="string">&#x27;private&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>[_private];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> Example;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
<li><p>WeakMap</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Example = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _private = <span class="keyword">new</span> <span class="built_in">WeakMap</span>(); <span class="comment">// 私有成员存储容器</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      _private.set(<span class="built_in">this</span>, <span class="string">&#x27;private&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> _private.get(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> Example;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用TypeScript</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> _private: <span class="built_in">string</span>;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">val: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>._private = val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> getName(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._private;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际上也是转换为IIFE并修改原型链：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Example = <span class="comment">/** <span class="doctag">@class </span>*/</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._private = val;</span><br><span class="line">  &#125;   </span><br><span class="line">  Example.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._private;</span><br><span class="line">  &#125;;  </span><br><span class="line">  <span class="keyword">return</span> Example;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="11-原型模式与构造函数模式"><a href="#11-原型模式与构造函数模式" class="headerlink" title="11. 原型模式与构造函数模式"></a>11. 原型模式与构造函数模式</h2><blockquote>
<p>参考：</p>
<p><a href="https://zhuanlan.zhihu.com/p/94104346">https://zhuanlan.zhihu.com/p/94104346</a></p>
<p><a href="https://juejin.cn/post/6975111113792978980">https://juejin.cn/post/6975111113792978980</a></p>
</blockquote>
<p>从设计模式的角度讲，原型模式是用于创建对象的一种模式。我们不再关心对象的具体类型，而是找到一个对象，然后通过克隆来创建一个一模一样的对象。</p>
<p>ECMAScript 5标准中定义的真正的原型继承，需要使用<code>Object.create</code>。<code>Object.create</code>创建一个具有指定原型的对象，并且还可以包含指定的属性，例如<code>Object.create( prototype, optionalDescriptorObjects )</code></p>
<p>原型模式必须拥有prototype的存在，而构造函数方式不必依赖prototype。</p>
<h3 id="总结提问"><a href="#总结提问" class="headerlink" title="总结提问"></a>总结提问</h3><p>1、为什么说 ES6 的 Class 只是语法糖</p>
<p>起源上说，JavaScript是基于原型的面向对象系统。而在原型编程的思想中，类并不是必需的，对象未必需要从类中创建而来， 一个对象是通过克隆另外一个对象所得到的。</p>
<p>ES6的 Class 语法，让 JavaScript 看起来像是一门基于类的语言，但其背后仍是通过原型机制来创建对象。</p>
<p>2、使用了<code>new A()</code> ，所以A属于类吗？</p>
<p>在这里 A 并不是类，而是函数构造器，JavaScript 的函数既可以作为普通函数被调用， 也可以作为构造器被调用。当使用 new 运算符来调用函数时，此时的函数就是一个构造器。</p>
<p>3、存在没有原型的对象吗？</p>
<p>通过设置构造器的 prototype 来实现原型继承的时候，除了根对象 <code>Object.prototype</code> 本身之外，任何对象都会有一个 原型。而通过 <code>Object.create( null )</code>可以创建出没有原型的对象。</p>
<h2 id="12-字符串同态"><a href="#12-字符串同态" class="headerlink" title="12. 字符串同态"></a>12. 字符串同态</h2><blockquote>
<p>参考：<a href="https://github.com/kennymkchan/interview-questions-in-javascript">https://github.com/kennymkchan/interview-questions-in-javascript</a></p>
</blockquote>
<p>同态：两个字符串，如果A字符串中的每一个字符都可以在B字符串中找到唯一对应，并且顺序一一对应；如果存在这样的函数，那么A和B同态。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isIsomorphic = <span class="function">(<span class="params">firstString, secondString</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (firstString.length !== secondString.length) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">var</span> letterMap = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; firstString.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> letterA = firstString[i],</span><br><span class="line">        letterB = secondString[i];</span><br><span class="line">    <span class="keyword">if</span> (letterMap[letterA] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      letterMap[letterA] = letterB;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (letterMap[letterA] !== letterB) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="13-Transpiling"><a href="#13-Transpiling" class="headerlink" title="13. Transpiling"></a>13. Transpiling</h2><p>为了使新标准编写的程序适应低版本的浏览器（或运行时）所进行的对代码进行转译。</p>
<p>可以将不支持的方法重写或者对旧标准上的对象进行补充(polyfill)</p>
<h2 id="14-this的指向"><a href="#14-this的指向" class="headerlink" title="14. this的指向"></a>14. this的指向</h2><p><code>this</code>通常指向当前作用域，在当前作用域找不到对象时，向上级作用域查找。</p>
<p><code>Function.prototype.call</code>与<code>Function.prototype.apply</code>都可以改变<code>this</code>的指向。</p>
<p><code>bind()</code>方法会创建一个新函数，称为绑定函数，当调用这个绑定函数时，绑定函数会以创建它时传入 <code>bind()</code>方法的第一个参数作为 <code>this</code>，传入 <code>bind()</code> 方法的第二个以及以后的参数加上绑定函数运行时本身的参数按照顺序作为原函数的参数来调用原函数。</p>
<h2 id="15-map-reduce-filter"><a href="#15-map-reduce-filter" class="headerlink" title="15. map / reduce / filter"></a>15. map / reduce / filter</h2><blockquote>
<p>参考：<a href="https://www.freecodecamp.org/news/javascript-map-reduce-and-filter-explained-with-examples/">https://www.freecodecamp.org/news/javascript-map-reduce-and-filter-explained-with-examples/</a></p>
</blockquote>
<ul>
<li><p><code>map</code>：将数组的每一项传入回调函数中，获取返回值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">v</span> =&gt;</span> v * v);</span><br><span class="line"><span class="comment">// =&gt; [1,4,9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>filter</code>：将每个元素传递到回调函数中，获取布尔值，为真则保留元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="number">1</span>, <span class="string">&quot;str&quot;</span>].filter(<span class="function"><span class="params">v</span> =&gt;</span> v);</span><br><span class="line"><span class="comment">// =&gt; [true, 1, &#x27;str&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>reduce</code>：递归调用每一个元素，回调函数有三个参数：</p>
<ul>
<li><em>accumulator</em> - 上一次迭代的返回值</li>
<li><em>currentValue</em> - 数组中的当前项</li>
<li><em>index</em> - 当前项目的索引</li>
<li><em>array</em> - 调用 reduce 的原始数组</li>
<li><code>initialValue</code>参数是可选的。如果提供，它将在第一次调用回调函数时用作初始累加器值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].reduce(<span class="function">(<span class="params">res, curr, idx</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> res + curr + idx;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// =&gt; 9</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Magisk安装步骤</title>
    <url>/2022/02/Install-magisk/</url>
    <content><![CDATA[<h1 id="Magisk-安装步骤简述"><a href="#Magisk-安装步骤简述" class="headerlink" title="Magisk 安装步骤简述"></a>Magisk 安装步骤简述</h1><blockquote>
<p>Magisk is for <em>The Magic Mask for Android</em></p>
<p>Magisk is a suite of open source software for customizing Android, supporting devices higher than Android 5.0.</p>
</blockquote>
<span id="more"></span>

<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>在 Android 系统还不成熟的时候，<em>root</em> Android 系统获得系统最高用户权限，从而修改系统达到快捷操作个性化等目的。</p>
<p>虽然 Android 系统已经来到了 <strong>Android 12</strong>（截至本文最后修改时间，<strong>Android 13 beta</strong>已经推出），各种之前需要 <em>root</em> 系统才能进行的操作已经被内置在了系统功能中。但是，搞机不息，折腾不止，<em>Magisk</em> 的多种功能和“模块”也让 Android 系统变得更加自由。</p>
<h2 id="2-第一步：备份数据"><a href="#2-第一步：备份数据" class="headerlink" title="2. 第一步：备份数据"></a>2. 第一步：备份数据</h2><p><strong>！！！重中之重</strong></p>
<p>下列操作将涉及<strong>重置系统</strong>，提前备份手机中所有数据。</p>
<h2 id="3-第二步：解锁-Bootloader"><a href="#3-第二步：解锁-Bootloader" class="headerlink" title="3. 第二步：解锁 Bootloader"></a>3. 第二步：解锁 Bootloader</h2><blockquote>
<p>Bootloader 在类似于 Windows 电脑中的“安全启动”，是系统启动引导的安全空间。以下简称<strong>BL</strong></p>
<p>主要的功能是防止恶意程序修改系统引导、破坏系统文件、盗取存储数据。同时防止被加密的手机通过“刷机”获取存储中的资料。</p>
</blockquote>
<p>目前，不是所有品牌的手机都能自由解锁BL，因为很多手机厂商并不希望你安装其他系统版本、不希望你 <em>root</em> 手机后卸载系统的广告应用。</p>
<p>目前已知可以比较方便解锁BL的手机厂商有：</p>
<ul>
<li>小米 (MIUI)：绑定小米账号7天-30天即可解锁</li>
<li>三星 (OneUI)：熔断式安全锁，解锁后不可恢复锁定状态，安全功能不可用</li>
<li>联想</li>
<li>一加 (H2OS)</li>
<li>HTC</li>
<li>Sony</li>
<li>Google</li>
</ul>
<p>解锁方法可自行搜索<code>&#123;brand&#125;&#123;model&#125;&#123;system version&#125; unlock bootloader</code></p>
<p><strong>解锁BL会清除所有数据！！！</strong></p>
<h2 id="4-第三步：获取最新安装包"><a href="#4-第三步：获取最新安装包" class="headerlink" title="4. 第三步：获取最新安装包"></a>4. 第三步：获取最新安装包</h2><p>可通过两种方法获取系统安装包：</p>
<ul>
<li><strong>官网下载</strong>，搜索：<code>&#123;brand&#125;&#123;model&#125;&#123;system version&#125; system image</code></li>
<li><strong>OTA升级</strong></li>
</ul>
<p>获取系统安装包完成后，先在手机上安装一下最新系统，并进行初始化设置。如果不想更新系统，则需要下载到当前对应系统版本的安装包。</p>
<p>在<a href="https://github.com/topjohnwu/Magisk/releases">Github上下载Magisk</a>，在手机上直接安装。</p>
<h2 id="5-第四步：解包并提取"><a href="#5-第四步：解包并提取" class="headerlink" title="5. 第四步：解包并提取"></a>5. 第四步：解包并提取</h2><p>对下载的系统安装包进行解压，并提取<code>boot.img</code>。如果为加密系统安装包，即仅包含<code>payload.bin</code>，则按照<a href="https://magiskcn.com/payload-boot">这个教程解包</a><code>payload.bin</code></p>
<p>将提取到的<code>boot.img</code>保存到容易找到的手机目录，例如手机的“下载文件夹”<code>./Download/</code></p>
<h2 id="6-第五步：将Magisk注入"><a href="#6-第五步：将Magisk注入" class="headerlink" title="6. 第五步：将Magisk注入"></a>6. 第五步：将Magisk注入</h2><p>打开手机上安装的<strong>Magisk</strong> App，按照下图操作：</p>
<p><img src="https://magiskcn.com/wp-content/uploads/2021/11/eafbece1016a6af-3.jpg" alt="Magisk安装教程插图1"></p>
<h2 id="7-第六步：刷入注入完成的boot-img"><a href="#7-第六步：刷入注入完成的boot-img" class="headerlink" title="7. 第六步：刷入注入完成的boot.img"></a>7. 第六步：刷入注入完成的boot.img</h2><p>将<strong>Magisk</strong>注入完成的<code>magisk_patched-*****.img</code>拷贝到电脑，需要 <code>adb</code> 和  <code>fastboot</code> 工具。</p>
<p>将手机关机，同时按住<strong>电源</strong> <strong>音量减</strong>，直到手机出现画面显示<strong>Bootloader</strong>字样。将手机连接到电脑。</p>
<p>打开电脑的“终端”，例如 Windows 系统中的 <em>PowerShell</em> 窗口，或者 macOS 中的 <em>Terminal.app</em></p>
<p>切换到 <code>adb</code> 和  <code>fastboot</code> 目录，输入<code>fastboot devices</code>，返回当前连接的设备(1个)表示连接成功。</p>
<p>确认连接成功后，输入：<code>fastboot flash boot /path/to/magisk_patched-*****.img</code>，并确认</p>
<p>如果显示：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Sending ‘boot’ (131072 KB) OKAY [ 3.123s]</span><br><span class="line">Writing ‘boot’ OKAY [ 0.397s]</span><br><span class="line">Finished. Total time: 4.645s</span><br></pre></td></tr></table></figure>

<p>代表你的手机为单系统引导分区，且已经执行成功。</p>
<p>如果显示：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Sending ‘boota’</span><br><span class="line">Sending ‘bootb’</span><br></pre></td></tr></table></figure>

<p>表示你的手机为双系统引导分区。</p>
<p>如果没有显示<code>OKAY</code> 和 <code>Finished</code>，表示执行失败。</p>
<blockquote>
<p>这里有个坑</p>
</blockquote>
<p>这里仅需要运行<code>fastboot flash boot XXX.img</code>表示把<code>XXX.img</code>刷入<code>boot</code>分区，<strong>fastboot</strong>会自动找到下次启动的分区，但是在个别机型上，<strong>A/B</strong>分区并不是<code>boota</code>和<code>bootb</code>，而是<code>boot_a</code>和<code>boot_b</code>。如果输入上述命令执行失败，提示未找到<code>boota</code>和<code>bootb</code>分区，则手动修改为<code>boot_a</code>和<code>boot_b</code>，但注意与提示对应。</p>
<h2 id="8-第七步：重启手机"><a href="#8-第七步：重启手机" class="headerlink" title="8. 第七步：重启手机"></a>8. 第七步：重启手机</h2><p>断开手机与电脑的连接。可通过长按按键“电源”重启手机或者输入<code>fastboot reboot</code>重启。</p>
<p>重启后打开 <strong>Magisk</strong> App，如果显示（右上角有个刷新/重启按钮）：</p>
<p><img src="https://magiskcn.com/wp-content/uploads/2021/11/eafbece1016a6af-4.jpg" alt="Magisk安装教程插图5"></p>
<p>则表示安装成功。</p>
<br />

<blockquote>
<p>参考：<a href="https://magiskcn.com/">https://magiskcn.com/</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>玩机</tag>
        <tag>心得</tag>
      </tags>
  </entry>
  <entry>
    <title>ECMAScript 6+标准学习</title>
    <url>/2022/01/JS-ES6/</url>
    <content><![CDATA[<h1 id="ECMAScript-6-学习笔记"><a href="#ECMAScript-6-学习笔记" class="headerlink" title="ECMAScript 6+学习笔记"></a>ECMAScript 6+学习笔记</h1><blockquote>
<p>ES6 的第一个版本，就这样在 2015 年 6 月发布了，正式名称就是《ECMAScript 2015 标准》（简称 ES2015）。2016 年 6 月，小幅修订的《ECMAScript 2016 标准》（简称 ES2016）如期发布，这个版本可以看作是 ES6.1 版，因为两者的差异非常小，基本上是同一个标准。根据计划，2017 年 6 月发布 ES2017 标准。</p>
<p>因此，ES6 既是一个历史名词，也是一个泛指，含义是 5.1 版以后的 JavaScript 的下一代标准，涵盖了 ES2015、ES2016、ES2017 等等，而 ES2015 则是正式名称，特指该年发布的正式版本的语言标准。</p>
</blockquote>
<blockquote>
<ul>
<li><p>本笔记主要参考了阮一峰老师的开源教程：<a href="https://es6.ruanyifeng.com/https://es6.ruanyifeng.com/">《ECMAScript 6 入门教程》</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/">MDN Web Docs</a></p>
</li>
<li><p><a href="https://tc39.es/">ECMAScript TC39</a></p>
</li>
</ul>
</blockquote>
<blockquote>
<p>Update Time:</p>
</blockquote>
<span id="more"></span>

<p>根据我的理解将内容分为两个大的部分：<strong>新增</strong>和<strong>扩展</strong>。</p>
<h2 id="新增内容"><a href="#新增内容" class="headerlink" title="新增内容"></a>新增内容</h2><h3 id="1-Let-and-Const-Declarations"><a href="#1-Let-and-Const-Declarations" class="headerlink" title="[1] Let and Const Declarations"></a>[1] Let and Const Declarations</h3><p><code>let</code>仅在当作用范围有效，且无如<code>var</code>的变量提升：在 JavaScript 中，<code>var</code>声明的变量在赋值之前就已经存在，其值为<code>undefined</code>。</p>
<p><code>let</code>不允许重复声明。</p>
<p><code>let</code>新增了块级作用域。能够防止内层变量覆盖全局变量，防止内层变量泄露到全局变量。</p>
<p><code>const</code>声明一个只读、不变的“常量”，实际上固定了一个变量的内存地址。当<code>const</code>声明<strong>对象</strong>或<strong>数组</strong>时，其指向的地址不变，当指向对象的值是可变的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [];</span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line">arr.push(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">// -&gt; [1]</span></span><br><span class="line">obj.name = <span class="string">&quot;obj&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"><span class="comment">// -&gt; &#x27;obj&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-String-的新增方法"><a href="#2-String-的新增方法" class="headerlink" title="[2] String 的新增方法"></a>[2] String 的新增方法</h3><ul>
<li><code>String.fromCodePoint(/*unicode*/)</code> 用于返回 Unicode</li>
<li><code>String.raw(/*string*/)</code> 用于返回原始字符串，即将字符串转义后显示</li>
<li><code>String.prototype.codePointAt(/*index*/)</code> 解析字符串中的 Unicode 码</li>
<li><code>String.prototype.normalize(/*arg*/)</code> 用于合成多字节 Unicode 字</li>
<li><code>String.prototype.includes(/*toFind*/)</code> 返回是否包含参数字符串</li>
<li><code>String.prototype.startsWith(/*toFind*/)</code> 返回字符串头部是否是参数字符串</li>
<li><code>String.prototype.endsWit(/*toFind*/)</code> 返回字符串尾部是否是参数字符串</li>
<li><code>String.prototype.repeat(/*uint n*/)</code> 将字符串重复 n 次</li>
<li><code>String.prototype.padStart(/*uint len, string*/)</code> 使用第二个参数在起始补全第一个参数值的长度</li>
<li><code>String.prototype.padEnd(/*uint len, string*/)</code> 使用第二个参数在末尾补全第一个参数值的长度</li>
<li><code>String.prototype.trimStart()</code> 消除起始空格，不修改原字符串</li>
<li><code>String.prototype.trimEnd()</code> 消除末尾空格，不修改原字符串</li>
<li><code>String.prototype.matchAll()</code> 返回正则所有匹配</li>
<li><code>String.prototype.replaceAll(/*old, new*/)</code> 全部替换匹配值</li>
<li><code>String.prototype.at(/*index*/)</code> 返回指定位置的字符</li>
</ul>
<h3 id="3-RegExp"><a href="#3-RegExp" class="headerlink" title="[3] RegExp"></a>[3] RegExp</h3><p>新增修饰符<code>u</code>: Unicode 模式，能够正常识别双字符 Unicode 字，同时<code>.</code>能够正常匹配所有 Unicode 字符</p>
<p>新增<code>RegExp.prototype.unicode</code>检查是否有<code>u</code>修饰符</p>
<p>新增修饰符<code>y</code>: 从上一个匹配到的位置开始匹配</p>
<p>新增<code>RegExp.prototype.sticky</code>检查是否有<code>y</code>修饰符</p>
<p>新增<code>RegExp.prototype.flags</code>显示所有修饰符</p>
<p>新增修饰符<code>s</code>: dotAll，使得<code>.</code>修饰所有字符</p>
<p>新增后行断言：lookbehind：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 已有先行断言</span></span><br><span class="line">/\d+(?=%)/  <span class="comment">/* 表示匹配%前方的数字 */</span></span><br><span class="line"><span class="comment">// 新增后行断言</span></span><br><span class="line"><span class="regexp">/(?&lt;=#)\d+/</span>  <span class="comment">/* 表示匹配#之后的数字 */</span></span><br></pre></td></tr></table></figure>

<p>新增命名组匹配（类似 Python 中），可以进行后续引用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> reDate = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="keyword">const</span> matchRes = reDate.exec(<span class="string">&quot;2022-01-01&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; year, month, day &#125; = matchRes.groups;</span><br><span class="line"><span class="keyword">const</span> reTwice = <span class="regexp">/^(?&lt;word&gt;\w+)-\k&lt;word&gt;$/</span>;</span><br><span class="line">reTwice.test(<span class="string">&quot;abc-abc&quot;</span>);</span><br><span class="line"><span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure>

<h3 id="4-Number"><a href="#4-Number" class="headerlink" title="[4] Number"></a>[4] Number</h3><p>新增二进制<code>0b0100</code>八进制<code>0o4</code>。转换：<code>Number(&#39;0b0100&#39;) = 4</code></p>
<p>新增数值分隔符<code>1000 == 1_000</code></p>
<p>新增<code>Number.isFinite(/*number*/)</code> 判断是否为有限<strong>数值</strong></p>
<p>新增<code>Number.isNaN(/*number*/)</code> 判断是否为<code>NaN</code>类型</p>
<p>新增<code>Number.isInteger()</code> 判断是否为整数。特别地，JavaScript 内部，整数和浮点数采用的是同样的储存方法，所以 25 和 25.0 被视为同一个值；如果数值的精度超过这个限度，第 54 位及后面的位就会被丢弃，这种情况下，<code>Number.isInteger</code>可能会误判；如果一个数值的绝对值小于<code>Number.MIN_VALUE</code>（5E-324），即小于 JavaScript 能够分辨的最小值，会被自动转为 0，这时，<code>Number.isInteger</code>也会误判</p>
<p>新增<code>Number.EPSILON</code>代表一个极小的常量<code>Number.EPSILON === Math.pow(2, -52)</code></p>
<p>新增<code>Number.isSafeInteger()</code>，同时新增最大、最小整数常量<code>Number.MAX_SAFE_INTEGER</code> <code>Number.MIN_SAFE_INTEGER</code></p>
<h3 id="5-Math"><a href="#5-Math" class="headerlink" title="[5] Math"></a>[5] Math</h3><ul>
<li><p><code>Math.trunc(/*number*/)</code> 去除小数部分，返回整数部分；首先转换为数值，若无法转换，返回<code>NaN</code></p>
</li>
<li><p><code>Math.sign(/*number*/)</code> 判断参数正负，返回值：<code>+1 -1 0 -0 NaN</code></p>
</li>
<li><p><code>Math.cbrt(/*number*/)</code> 计算立方根</p>
</li>
<li><p><code>Math.clz32(/*number*/)</code> 将参数转为 32 位无符号整数的形式，然后返回这个 32 位值里面有多少个前导 0</p>
</li>
<li><p><code>Math.imul(/*numbers*/)</code> 返回两个数以 32 位带符号整数形式相乘的结果，返回的也是一个 32 位的带符号整数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="number">0x7fffffff</span> * <span class="number">0x7fffffff</span>) | <span class="number">0</span>;</span><br><span class="line"><span class="comment">// -&gt; 0</span></span><br><span class="line"><span class="built_in">Math</span>.imul(<span class="number">0x7fffffff</span>, <span class="number">0x7fffffff</span>);</span><br><span class="line"><span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.fround(/*number*/)</code> 返回一个数的 32 位单精度浮点数形式</p>
</li>
<li><p><code>Math.hypot(/*numbers*/)</code> 返回所有参数的平方和的开方</p>
</li>
<li><p><code>Math.expm1(/*number*/)</code> 返回$e^x-1$，等价于<code>Math.exp(x) - 1</code></p>
</li>
<li><p><code>Math.log1p(/*number*/)</code> 返回$\ln(1 + x)$</p>
</li>
<li><p><code>Math.log10(/*number*/)</code> 返回$\lg x$</p>
</li>
<li><p><code>Math.log2(/*number*/)</code> 返回$\log_2 x$</p>
</li>
<li><p><code>Math.sinh(x)</code> 返回<code>x</code>的双曲正弦（hyperbolic sine）</p>
</li>
<li><p><code>Math.cosh(x)</code> 返回<code>x</code>的双曲余弦（hyperbolic cosine）</p>
</li>
<li><p><code>Math.tanh(x)</code> 返回<code>x</code>的双曲正切（hyperbolic tangent）</p>
</li>
<li><p><code>Math.asinh(x)</code> 返回<code>x</code>的反双曲正弦（inverse hyperbolic sine）</p>
</li>
<li><p><code>Math.acosh(x)</code> 返回<code>x</code>的反双曲余弦（inverse hyperbolic cosine）</p>
</li>
<li><p><code>Math.atanh(x)</code> 返回<code>x</code>的反双曲正切（inverse hyperbolic tangent）</p>
</li>
</ul>
<h3 id="6-BigInt"><a href="#6-BigInt" class="headerlink" title="[6] BigInt"></a>[6] BigInt</h3><p>用来表示整数，没有位数限制。需要添加后缀<code>n</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">7378697629483821n</span>;</span><br><span class="line"><span class="keyword">typeof</span> n;</span><br><span class="line"><span class="comment">// -&gt; &#x27;bigint&#x27;</span></span><br></pre></td></tr></table></figure>

<p>也可以进行转换</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">BigInt</span>(<span class="string">&quot;123&quot;</span>); <span class="comment">// -&gt; 123n</span></span><br></pre></td></tr></table></figure>

<p>实例方法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">BigInt</span>.prototype.toString();</span><br><span class="line"><span class="built_in">BigInt</span>.prototype.valueOf();</span><br><span class="line"><span class="built_in">BigInt</span>.prototype.toLocaleString();</span><br></pre></td></tr></table></figure>

<p>静态方法：</p>
<ul>
<li><code>BigInt.asUintN(width, BigInt)</code>： 给定的 BigInt 转为 0 到 2width - 1 之间对应的值。</li>
<li><code>BigInt.asIntN(width, BigInt)</code>：给定的 BigInt 转为 -2width - 1 到 2width - 1 - 1 之间对应的值。</li>
<li><code>BigInt.parseInt(string[, radix])</code>：近似于<code>Number.parseInt()</code>，将一个字符串转换成指定进制的 BigInt。</li>
</ul>
<h2 id="扩展内容"><a href="#扩展内容" class="headerlink" title="扩展内容"></a>扩展内容</h2><h3 id="1-globalThis"><a href="#1-globalThis" class="headerlink" title="(1) globalThis"></a>(1) globalThis</h3><p><code>globalThis</code>是全局对象(The <em>global object</em>)的扩展，其属性如下：</p>
<blockquote>
<p>This property has the attributes { [[Writable]]: true, [[Enumerable]]: false, [[Configurable]]: true }.</p>
</blockquote>
<h3 id="2-Destructuring-Assignment"><a href="#2-Destructuring-Assignment" class="headerlink" title="(2) Destructuring Assignment"></a>(2) Destructuring Assignment</h3><p>变量的解构语法能够方便地解构数组(array)、对象(object)内部的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// LeftHandSideExpression = AssignmentExpression</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span>;</span><br><span class="line">[a, b] = [b, a];</span><br><span class="line"><span class="built_in">console</span>.log(a, b);</span><br><span class="line"><span class="comment">// -&gt; 2 1</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;obj&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">getter</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 将变量扩充到window全局对象中</span></span><br><span class="line"><span class="keyword">var</span> &#123; name, getter &#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="comment">// -&gt; &#x27;obj&#x27;</span></span><br><span class="line"><span class="comment">// getter中的this-&gt;window</span></span><br><span class="line">getter();</span><br><span class="line"><span class="comment">// -&gt; &#x27;obj&#x27;</span></span><br></pre></td></tr></table></figure>

<p>同样可以多层解构和部分解构，只要与被解构的结构相同即可。</p>
<p>由于 JavaScript 内部皆对象，则对象的解构可以用于能够被转换为对象的：数组、字符串、数值、布尔值。</p>
<h3 id="3-Unicode"><a href="#3-Unicode" class="headerlink" title="(3) Unicode"></a>(3) Unicode</h3><p>单字节 Unicode: <code>&quot;\u0061&quot;</code>，双字节 Unicode: <code>&quot;\u&#123;20BB7&#125;&quot;</code></p>
<h3 id="4-Template-strings"><a href="#4-Template-strings" class="headerlink" title="(4) Template strings"></a>(4) Template strings</h3><p>字符串的扩展声明语法，使用反引号表示`，内部可插入表达式。可以包含多行字符串。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> resp = &#123; <span class="attr">status</span>: <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> text = <span class="string">`response: <span class="subst">$&#123;resp.status == <span class="number">0</span> ? <span class="string">&quot;ok&quot;</span> : <span class="string">&quot;error&quot;</span>&#125;</span>`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(text);</span><br></pre></td></tr></table></figure>

<p>可以作为第一个参数传入函数：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ++<span class="built_in">parseInt</span>(arg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add<span class="string">`12`</span>);</span><br><span class="line"><span class="comment">// -&gt; 13</span></span><br></pre></td></tr></table></figure>

<p>但是如果包含模版内表达式，则会换转为多个参数。将表达式切分为多个部分，传递给参数 0，然后将表达式结果依次传递给后续参数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span>;</span><br><span class="line">add<span class="string">`<span class="subst">$&#123;a + b&#125;</span>`</span>; <span class="comment">// 错误！Uncaught ReferenceError: Invalid left-hand side expression in prefix operation</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params">arg, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg);</span><br><span class="line">  <span class="keyword">if</span> (args) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">of</span> args) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">tag<span class="string">`part1<span class="subst">$&#123;a + b&#125;</span>part2<span class="subst">$&#123;a * b&#125;</span>part3`</span>;</span><br><span class="line"><span class="comment">// -&gt; [&#x27;part1&#x27;, &#x27;part2&#x27;, &#x27;part3&#x27;]</span></span><br><span class="line"><span class="comment">// -&gt; 3</span></span><br><span class="line"><span class="comment">// -&gt; 2</span></span><br></pre></td></tr></table></figure>

<h3 id="5-Function"><a href="#5-Function" class="headerlink" title="(5) Function"></a>(5) Function</h3><p>可为参数添加默认值<code>function(n = 0) &#123;&#125;</code> 当传入参数为<code>undefined</code>时触发，需要放在尾部</p>
<p>将默认值设定为<code>undefined</code>代表是可以省略的</p>
<p><code>Function.prototype.length</code>返回需要传入参数的个数</p>
<p>新增<strong>rest</strong>参数<code>function(...rest) &#123;&#125;</code>包含传递参数的数组，必须放在尾部</p>
<p><code>Function.prototype.name</code>返回函数名，或者匿名函数的变量名</p>
<p>箭头函数<code>() =&gt; &#123;&#125;</code>用于快速编写匿名函数，其不包含自己的作用域。将<code>this</code>固定化，有利于封装回调函数</p>
<h2 id="变化内容"><a href="#变化内容" class="headerlink" title="变化内容"></a>变化内容</h2><h3 id="lt-1-gt-RegExp-Constructor"><a href="#lt-1-gt-RegExp-Constructor" class="headerlink" title="&lt;1&gt; RegExp Constructor"></a>&lt;1&gt; RegExp Constructor</h3><p><code>RegExp</code>构造函数可以同时接收正则表达式和修饰符参数。参数会覆盖表达式中的修饰符。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/abc/gi</span>, <span class="string">&quot;i&quot;</span>).flags;</span><br><span class="line"><span class="comment">// -&gt; &#x27;i&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="lt-2-gt-RegExp-property"><a href="#lt-2-gt-RegExp-property" class="headerlink" title="&lt;2&gt; RegExp property"></a>&lt;2&gt; RegExp property</h3><p>ES6 将这 4 个方法，在语言内部全部调用<code>RegExp</code>的实例方法，从而做到所有与正则相关的方法，全都定义在<code>RegExp</code>对象上。</p>
<ul>
<li><code>String.prototype.match</code> 调用 <code>RegExp.prototype[Symbol.match]</code></li>
<li><code>String.prototype.replace</code> 调用 <code>RegExp.prototype[Symbol.replace]</code></li>
<li><code>String.prototype.search</code> 调用 <code>RegExp.prototype[Symbol.search]</code></li>
<li><code>String.prototype.split</code> 调用 <code>RegExp.prototype[Symbol.split]</code></li>
</ul>
<h3 id="lt-3-gt-Number"><a href="#lt-3-gt-Number" class="headerlink" title="&lt;3&gt; Number"></a>&lt;3&gt; Number</h3><p><code>parseInt() parseFloat()</code>移动到<code>Number</code>对象中</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title>给桌面换上bing壁纸  S-Wallpaper</title>
    <url>/2021/06/S-Wallpaper/</url>
    <content><![CDATA[<h1 id="给桌面换上bing壁纸-S-Wallpaper"><a href="#给桌面换上bing壁纸-S-Wallpaper" class="headerlink" title="给桌面换上bing壁纸  S-Wallpaper"></a>给桌面换上bing壁纸  S-Wallpaper</h1><blockquote>
<p><a href="https://bing.com">bing</a>的每日壁纸都很好看，很多时候就想把它下载下来，保存、设置为自己的电脑桌面壁纸。</p>
<p>网上有类似功能的软件不少，不过自己实际做一个还是很有趣味的！</p>
<p>服务器端是通过php实现的，下面会给出代码，可以自行部署在服务器上然后实现多端保存。</p>
</blockquote>
<span id="more"></span>

<h2 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>服务器端的文件名称为<code>bing.php</code>。其作用不难理解，就是解析bing.com的背景图片然后保存到服务器，并且直接给请求端返回为<code>.jpg</code>图片。</p>
<p>目前解析的bing.com壁纸分辨率为<strong>1080P</strong>。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// 保存文件的文件夹名称</span></span><br><span class="line"><span class="variable">$path</span>=date(<span class="string">&#x27;Ym&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (!file_exists(<span class="variable">$path</span>)) &#123;</span><br><span class="line">    mkdir(<span class="variable">$path</span>, <span class="number">0777</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$last</span> = strtotime(<span class="string">&quot;-1 month&quot;</span>, time());</span><br><span class="line"><span class="variable">$last_month</span> = date(<span class="string">&quot;Ym&quot;</span>, <span class="variable">$last</span>);  <span class="comment">//上个月</span></span><br><span class="line"><span class="comment">// 删除上个月保存的图片，可以自行调整（防止服务器硬盘空间被占用满）</span></span><br><span class="line"><span class="keyword">if</span> (file_exists(<span class="variable">$last_month</span>)) &#123;</span><br><span class="line">    deleteDir(<span class="variable">$last_month</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 保存图片的文件名</span></span><br><span class="line"><span class="variable">$pathurl</span> = <span class="variable">$path</span>.<span class="string">&#x27;/&#x27;</span>.date(<span class="string">&#x27;d&#x27;</span>).<span class="string">&#x27;.jpg&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (!is_file(<span class="variable">$pathurl</span>)) &#123;</span><br><span class="line">    <span class="comment">// 对bing.com进行请求</span></span><br><span class="line">    <span class="comment">// 中国区的bing壁纸更新可能有时差</span></span><br><span class="line">    <span class="variable">$str</span> = file_get_contents(<span class="string">&#x27;https://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1&#x27;</span>);</span><br><span class="line">    <span class="comment">// 对请求的内容进行正则匹配</span></span><br><span class="line">    <span class="keyword">if</span> (preg_match(<span class="string">&quot;/&lt;urlBase&gt;(.+?)&lt;\/urlBase&gt;/ies&quot;</span>, <span class="variable">$str</span>, <span class="variable">$matches</span>)) &#123;</span><br><span class="line">        <span class="comment">// 生成bing.com图片的实际地址</span></span><br><span class="line">        <span class="variable">$imgurl</span> = <span class="string">&#x27;https://cn.bing.com&#x27;</span>.<span class="variable">$matches</span>[<span class="number">1</span>].<span class="string">&#x27;_1920x1080.jpg&#x27;</span>;</span><br><span class="line">        <span class="comment">// 拷贝（下载）图片到本地</span></span><br><span class="line">        copy(<span class="variable">$imgurl</span>, <span class="variable">$pathurl</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果请求、匹配失败，则防护一张预设静态图片，防止请求端得不到数据</span></span><br><span class="line">        <span class="variable">$static_file</span> = <span class="string">&#x27;https://example.com/unamed.jpg&#x27;</span>;</span><br><span class="line">        copy(<span class="variable">$static_file</span>, <span class="variable">$pathurl</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$pathurl</span>) &#123;</span><br><span class="line">    <span class="comment">// 向请求端直接返回本图片</span></span><br><span class="line">    header(<span class="string">&#x27;Content-Type: image/jpeg&#x27;</span>);</span><br><span class="line">    header(<span class="string">&quot;Cache-Control: no-store, no-cache, must-revalidate&quot;</span>);  <span class="comment">//强制不缓存</span></span><br><span class="line">    header(<span class="string">&quot;Pragma: no-cache&quot;</span>);  <span class="comment">//禁止本页被缓存</span></span><br><span class="line">    @ob_end_clean();</span><br><span class="line">    @readfile(<span class="variable">$pathurl</span>);</span><br><span class="line">    @flush();</span><br><span class="line">    @ob_flush();</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">exit</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteDir</span>(<span class="params"><span class="variable">$path_e</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_dir(<span class="variable">$path_e</span>)) &#123;</span><br><span class="line">        <span class="comment">//扫描一个目录内的所有目录和文件并返回数组</span></span><br><span class="line">        <span class="variable">$dirs</span> = scandir(<span class="variable">$path_e</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$dirs</span> <span class="keyword">as</span> <span class="variable">$dir</span>) &#123;</span><br><span class="line">            <span class="comment">//排除目录中的当前目录(.)和上一级目录(..)</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$dir</span> != <span class="string">&#x27;.&#x27;</span> &amp;&amp; <span class="variable">$dir</span> != <span class="string">&#x27;..&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">//如果是目录则递归子目录，继续操作</span></span><br><span class="line">                <span class="variable">$sonDir</span> = <span class="variable">$path_e</span>.<span class="string">&#x27;/&#x27;</span>.<span class="variable">$dir</span>;</span><br><span class="line">                <span class="keyword">if</span> (is_dir(<span class="variable">$sonDir</span>)) &#123;</span><br><span class="line">                    <span class="comment">//递归删除</span></span><br><span class="line">                    deleteDir(<span class="variable">$sonDir</span>);</span><br><span class="line">                    <span class="comment">//目录内的子目录和文件删除后删除空目录</span></span><br><span class="line">                    @rmdir(<span class="variable">$sonDir</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//如果是文件直接删除</span></span><br><span class="line">                    @unlink(<span class="variable">$sonDir</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        @rmdir(<span class="variable">$path_e</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>





<h2 id="Python-主程序"><a href="#Python-主程序" class="headerlink" title="Python 主程序"></a>Python 主程序</h2><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><p>下载服务器端的图片文件，并转码为bmp格式，给Windows系统设置为壁纸。</p>
<blockquote>
<p>对于其他系统可以自行研究相关代码</p>
</blockquote>
<h3 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h3><p>一下实例程序为了更加直观的人机交互，设置了很多提示语句，如果想做成无窗口的程序可删除提示语句。</p>
<h3 id="需求依赖"><a href="#需求依赖" class="headerlink" title="需求依赖"></a>需求依赖</h3><p><code>pyinstaller</code>为打包Python程序所用，直接运行<code>python main.py</code>可以不安装此依赖包</p>
<figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">requests</span><br><span class="line">pywi<span class="symbol">n32</span></span><br><span class="line">Pillow</span><br><span class="line">pyi<span class="symbol">nstaller</span></span><br></pre></td></tr></table></figure>



<h3 id="main-py"><a href="#main-py" class="headerlink" title="main.py"></a><code>main.py</code></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># Author: Steven Yan</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> win32api</span><br><span class="line"><span class="keyword">import</span> win32con</span><br><span class="line"><span class="keyword">import</span> win32gui</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getUrl</span>():</span></span><br><span class="line">    myUrl = <span class="string">&quot;https://stevenos.com/api/bing&quot;</span></span><br><span class="line">    <span class="keyword">return</span> myUrl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downloadPic</span>(<span class="params">picUrl</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Downloading picture from StevenOS.com...\n&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        req = requests.get(picUrl)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pyDesktopPic.jpg&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> ccc:</span><br><span class="line">            ccc.write(req.content)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Picture saved at TEMP dir.\n&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Can&#x27;t download Picture!\n&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Check your Internet access and try again.&quot;</span>)</span><br><span class="line">        goodBye()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moveFile</span>(<span class="params">file, des</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.isfile(file):</span><br><span class="line">        <span class="built_in">print</span>(file+<span class="string">&quot; is not exist&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Please contact me@StevenOS.com&quot;</span>)</span><br><span class="line">        goodBye()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(des):</span><br><span class="line">            os.makedirs(des)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            os.system(<span class="string">&quot;move /y &quot;</span>+file+<span class="string">&quot; &quot;</span>+des)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convPic</span>(<span class="params">jpg, bmp</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        img = Image.<span class="built_in">open</span>(jpg)</span><br><span class="line">        img.save(bmp, <span class="string">&#x27;BMP&#x27;</span>)</span><br><span class="line">        os.remove(jpg)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;The picture was converted successfully.&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setWallpaper</span>(<span class="params">picUri</span>):</span></span><br><span class="line">    key = win32api.RegOpenKeyEx(</span><br><span class="line">        win32con.HKEY_CURRENT_USER, <span class="string">&quot;Control Panel\\Desktop&quot;</span>, <span class="number">0</span>, win32con.KEY_SET_VALUE)</span><br><span class="line">    win32api.RegSetValueEx(key, <span class="string">&quot;WallpaperStyle&quot;</span>, <span class="number">0</span>, win32con.REG_SZ, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">    win32api.RegSetValueEx(key, <span class="string">&quot;TileWallpaper&quot;</span>, <span class="number">0</span>, win32con.REG_SZ, <span class="string">&quot;0&quot;</span>)</span><br><span class="line">    win32gui.SystemParametersInfo(win32con.SPI_SETDESKWALLPAPER, picUri, <span class="number">1</span>+<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n-&gt;&gt;TODAY Wallpaper set!!!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printMe</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##########################################################&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##                  Website: RyzenX.com                 ##&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##                     By Steven Yan                    ##&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##########################################################&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">goodBye</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\nGood Bye! See you next time!\n&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;-&gt; %s&quot;</span> % <span class="built_in">str</span>(<span class="number">4</span>-i))</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">    sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.name == <span class="string">&quot;nt&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;This Program only supports Windows&quot;</span>)</span><br><span class="line">        sys.exit(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        os.system(<span class="string">&quot;mode con cols=60 lines=30&quot;</span>)</span><br><span class="line">        os.system(<span class="string">&quot;color 0e&quot;</span>)</span><br><span class="line">        os.system(<span class="string">&quot;title Daily Wallpaper Changer from StevenOS.com&quot;</span>)</span><br><span class="line">        printMe()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Now: %s \n&quot;</span> % time.ctime())</span><br><span class="line">    tempDir = os.getenv(<span class="string">&#x27;TEMP&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Your TEMP dir is: &quot;</span>+tempDir+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Note: cleaning out &quot;</span>+tempDir+<span class="string">&quot; will delete the wallpaper file&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    downloadPic(getUrl())</span><br><span class="line">    moveFile(<span class="string">&quot;pyDesktopPic.jpg&quot;</span>, tempDir)</span><br><span class="line">    convPic(tempDir+<span class="string">&quot;\pyDesktopPic.jpg&quot;</span>, tempDir+<span class="string">&quot;\pyDesktopPic.bmp&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    setWallpaper(tempDir+<span class="string">&quot;\pyDesktopPic.bmp&quot;</span>)</span><br><span class="line">    goodBye()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="辅助程序"><a href="#辅助程序" class="headerlink" title="辅助程序"></a>辅助程序</h2><h3 id="Windows启动工具命令行批处理"><a href="#Windows启动工具命令行批处理" class="headerlink" title="Windows启动工具命令行批处理"></a>Windows启动工具命令行批处理</h3><p>为了更好、更优雅地设置Windows开机自运行、右键运行、定时运行主程序，特别编写了这个批处理工具集。</p>
<p>实现的功能有：</p>
<ul>
<li>写入注册表，开机启动</li>
<li>添加程序到Windows计划任务</li>
<li>设置为桌面右键菜单项</li>
</ul>
<h3 id="start-bat"><a href="#start-bat" class="headerlink" title="start.bat"></a><code>start.bat</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">title Program Starter</span><br><span class="line">%1 %2</span><br><span class="line">ver|find <span class="string">&quot;5.&quot;</span> &gt; nul &amp;&amp; goto :main</span><br><span class="line">mshta vbscript:createobject(<span class="string">&quot;shell.application&quot;</span>).shellexecute(<span class="string">&quot;%~s0&quot;</span>,<span class="string">&quot;goto :main&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;runas&quot;</span>,1)(window.close) &amp; goto :eof</span><br><span class="line">:main</span><br><span class="line">  cls</span><br><span class="line">  mode con cols=60 lines=20</span><br><span class="line">  color 06</span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##########################################################</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##        You can just drag your file into here         ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##                                                      ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##                 Website: RyzenX.com                  ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##                      By Steven                       ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##########################################################</span></span><br><span class="line">  pause</span><br><span class="line">:ch</span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##########################################################</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##   1, Add the Program to `Run` Registry               ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##   2, Add the program to scheduled task               ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##   3, Add the program to Desktop Right-Click *Good    ##</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="comment">##########################################################</span></span><br><span class="line">  <span class="built_in">echo</span>.</span><br><span class="line">  <span class="built_in">echo</span> Pleas enter your choice</span><br><span class="line">  <span class="built_in">set</span> /p a= :</span><br><span class="line">  <span class="built_in">set</span> /p src= Enter the Program path:</span><br><span class="line">  <span class="built_in">set</span> /p name= Enter the Key Name (Important):</span><br><span class="line">  <span class="keyword">if</span> %a%==1 goto addReg</span><br><span class="line">  <span class="keyword">if</span> %a%==2 goto addSchtask</span><br><span class="line">  <span class="keyword">if</span> %a%==3 goto rc</span><br><span class="line">  <span class="built_in">echo</span> Not good. &amp; pause &amp; goto ch</span><br><span class="line">:addReg</span><br><span class="line">  reg add <span class="string">&quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run&quot;</span> /v %name% /d %src% /f</span><br><span class="line">  pause&amp;goto main</span><br><span class="line">:addSchtask</span><br><span class="line">  <span class="built_in">echo</span>.</span><br><span class="line">  <span class="built_in">echo</span> CAUTION: Time formatted like this: 10:10:00 </span><br><span class="line">  <span class="built_in">set</span> /p ttt= What time <span class="keyword">do</span> you want to change your Wallpaper: </span><br><span class="line">  schtasks /create /tn %name% /ru system /tr %src% /sc DAILY /st %ttt%</span><br><span class="line">  pause&amp;goto main</span><br><span class="line">:rc</span><br><span class="line">  <span class="built_in">echo</span>.</span><br><span class="line">  <span class="built_in">echo</span> Right-Click at desktop, you can click <span class="string">&quot;%name%&quot;</span> to change your wallpaper manually.</span><br><span class="line">  <span class="built_in">echo</span>.</span><br><span class="line">  pause</span><br><span class="line">  reg add <span class="string">&quot;HKEY_CLASSES_ROOT\Directory\Background\shell\%name%&quot;</span> /f</span><br><span class="line">  reg add <span class="string">&quot;HKEY_CLASSES_ROOT\Directory\Background\shell\%name%\command&quot;</span> /f</span><br><span class="line">  reg add <span class="string">&quot;HKEY_CLASSES_ROOT\Directory\Background\shell\%name%\command&quot;</span> /ve /d <span class="string">&quot;%src%&quot;</span> /f</span><br><span class="line">  pause&amp;goto main</span><br></pre></td></tr></table></figure>



<h2 id="欢迎使用！"><a href="#欢迎使用！" class="headerlink" title="欢迎使用！"></a>欢迎使用！</h2><p><a href="https://github.com/Steven-nagisa-Y/S-Wallpaper">Steven-nagisa-Y/S-Wallpaper  (@github.com)</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>code</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust 学习记录</title>
    <url>/2021/05/Rust-learning/</url>
    <content><![CDATA[<h1 id="Rust-语言学习记录"><a href="#Rust-语言学习记录" class="headerlink" title="Rust 语言学习记录"></a>Rust 语言学习记录</h1><blockquote>
<h2 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h2><p>一门赋予每个人 构建可靠且高效软件能力的语言。</p>
<p>Rust 官方文档 -&gt; <a href="https://doc.rust-lang.org/book/">The Rust Programming Language - (rust-lang.org)</a></p>
</blockquote>
<span id="more"></span>

<h2 id="Rust-安装"><a href="#Rust-安装" class="headerlink" title="Rust 安装"></a>Rust 安装</h2><p>参见<strong>官方文档</strong>：<a href="https://www.rust-lang.org/zh-CN/tools/install">安装 Rust - Rust 程序设计语言 (rust-lang.org)</a></p>
<p>或者 <strong>菜鸟教程</strong>：<a href="https://www.runoob.com/rust/rust-setup.html">Rust 环境搭建 | 菜鸟教程 (runoob.com)</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rustc -V</span></span><br><span class="line"><span class="meta">#</span><span class="bash">rustc 1.51.0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cargo -V</span></span><br><span class="line"><span class="meta">#</span><span class="bash">cargo 1.51.0</span></span><br></pre></td></tr></table></figure>

<h2 id="使用-Cargo-建立第一个项目"><a href="#使用-Cargo-建立第一个项目" class="headerlink" title="使用 Cargo 建立第一个项目"></a>使用 Cargo 建立第一个项目</h2><p>参考官方：<a href="https://www.rust-lang.org/learn/get-started">Getting started - Rust Programming Language (rust-lang.org)</a></p>
<h3 id="使用Cargo-toml配置项目"><a href="#使用Cargo-toml配置项目" class="headerlink" title="使用Cargo.toml配置项目"></a>使用Cargo.toml配置项目</h3><figure class="highlight toml"><table><tr><td class="code"><pre><span class="line"><span class="section">[package]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;one&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">authors</span> = [<span class="string">&quot;Steven Yan&quot;</span>]</span><br><span class="line"><span class="attr">edition</span> = <span class="string">&quot;2018&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="comment"># 新引入了一个ferris-says包，显示螃蟹对话框</span></span><br><span class="line"><span class="attr">ferris-says</span> = <span class="string">&quot;0.2&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="编写主函数"><a href="#编写主函数" class="headerlink" title="编写主函数"></a>编写主函数</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用新引入的包</span></span><br><span class="line"><span class="keyword">use</span> ferris_says::say;</span><br><span class="line"><span class="keyword">use</span> std::io::&#123;stdout, BufWriter&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> stdout = stdout();</span><br><span class="line">    <span class="keyword">let</span> message = <span class="built_in">String</span>::from(<span class="string">&quot;Hello fellow Rustaceans!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = message.chars().count();</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> writer = BufWriter::new(stdout.lock());</span><br><span class="line">    say(message.as_bytes(), width, &amp;<span class="keyword">mut</span> writer).unwrap();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构建编译项目"><a href="#构建编译项目" class="headerlink" title="构建编译项目"></a>构建编译项目</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cargo build</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cargo 工具将从crates.io下载依赖包</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cargo run</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Compiling one v0.1.0 (/Users/steven/_Code/Rust/one)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">    Finished dev [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 0.81s</span></span><br><span class="line"><span class="meta">#</span><span class="bash">     Running `/Users/steven/_Code/Rust/one/target/debug/one`</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> __________________________</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&lt; Hello fellow Rustaceans! &gt;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        \</span></span><br><span class="line"><span class="bash"><span class="comment">#         \</span></span></span><br><span class="line"><span class="bash"><span class="comment">#            _~^~^~_</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        \) /  o o  \ (/</span></span><br><span class="line"><span class="meta">#</span><span class="bash">          <span class="string">&#x27;_   -   _&#x27;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">          / <span class="string">&#x27;-----&#x27;</span> \</span></span><br></pre></td></tr></table></figure>



<h3 id="猜字符游戏"><a href="#猜字符游戏" class="headerlink" title="猜字符游戏"></a>猜字符游戏</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> std::io;</span><br><span class="line"><span class="keyword">use</span> std::cmp::Ordering;</span><br><span class="line"><span class="keyword">use</span> rand::Rng;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Guess the number!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> secret_number = rand::thread_rng().gen_range(<span class="number">1</span>..<span class="number">101</span>);</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Please input your guess.&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> guess = <span class="built_in">String</span>::new();</span><br><span class="line">        io::stdin()</span><br><span class="line">            .read_line(&amp;<span class="keyword">mut</span> guess)</span><br><span class="line">            .expect(<span class="string">&quot;Failed to read line&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> guess: <span class="built_in">u32</span> = <span class="keyword">match</span> guess.trim().parse() &#123;</span><br><span class="line">            <span class="literal">Ok</span>(num) =&gt; num,</span><br><span class="line">            <span class="literal">Err</span>(_) =&gt; <span class="keyword">continue</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;You guessed: &#123;&#125;&quot;</span>, guess);</span><br><span class="line">        <span class="keyword">match</span> guess.cmp(&amp;secret_number) &#123;</span><br><span class="line">            Ordering::Less =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Too small!&quot;</span>),</span><br><span class="line">            Ordering::Greater =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Too big!&quot;</span>),</span><br><span class="line">            Ordering::Equal =&gt; &#123;</span><br><span class="line">                <span class="built_in">println!</span>(<span class="string">&quot;You win!&quot;</span>); </span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="创建变量"><a href="#创建变量" class="headerlink" title="创建变量"></a>创建变量</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// 使用let关键字创建变量，该变量默认是不可变的</span></span><br><span class="line">    <span class="keyword">let</span> num1 = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// num1 is not changeable</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;num1 = &#123;&#125;&quot;</span>, num1);</span><br><span class="line">    <span class="comment">// 使用mut关键字将该变量声明为可变的</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> num2 = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// num2 is changeable</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;num2 = &#123;&#125;&quot;</span>, num2);</span><br><span class="line">    num2 += <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;num2 = &#123;&#125;&quot;</span>, num2);</span><br><span class="line">    <span class="comment">// 常量用关键字const声明，一般用大写，且需要标注值的类型</span></span><br><span class="line">    <span class="keyword">const</span> MAX_NUM: <span class="built_in">u32</span> = <span class="number">100_000</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;MAX_NUM = &#123;&#125; is constants&quot;</span>, MAX_NUM);</span><br><span class="line">    <span class="comment">// 使用let可以对一个变量名重新赋值</span></span><br><span class="line">    <span class="keyword">let</span> num3 = <span class="number">4</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;num3 = &#123;&#125;&quot;</span>, num3);</span><br><span class="line">    <span class="comment">// This declare a NEW variable named num3</span></span><br><span class="line">    <span class="keyword">let</span> num3: <span class="built_in">String</span> = (num3 * <span class="number">2</span>).to_string();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;NEW num3 = &#123;&#125;&quot;</span>, num3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="整形变量"><a href="#整形变量" class="headerlink" title="整形变量"></a>整形变量</h4><table>
<thead>
<tr>
<th>长度</th>
<th>有符号</th>
<th>无符号</th>
</tr>
</thead>
<tbody><tr>
<td>8-bit</td>
<td><code>i8</code></td>
<td><code>u8</code></td>
</tr>
<tr>
<td>16-bit</td>
<td><code>i16</code></td>
<td><code>u16</code></td>
</tr>
<tr>
<td>32-bit</td>
<td><strong>*</strong><code>i32</code></td>
<td><code>u32</code></td>
</tr>
<tr>
<td>64-bit</td>
<td><code>i64</code></td>
<td><code>u64</code></td>
</tr>
<tr>
<td>128-bit</td>
<td><code>i128</code></td>
<td><code>u128</code></td>
</tr>
<tr>
<td>arch</td>
<td><code>isize</code></td>
<td><code>usize</code></td>
</tr>
</tbody></table>
<h4 id="字面值"><a href="#字面值" class="headerlink" title="字面值"></a>字面值</h4><table>
<thead>
<tr>
<th>数字字面值</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>Decimal (十进制)</td>
<td><code>98_222</code></td>
</tr>
<tr>
<td>Hex (十六进制)</td>
<td><code>0xff</code></td>
</tr>
<tr>
<td>Octal (八进制)</td>
<td><code>0o77</code></td>
</tr>
<tr>
<td>Binary (二进制)</td>
<td><code>0b1111_0000</code></td>
</tr>
<tr>
<td>Byte (单字节字符)(仅限于<code>u8</code>)</td>
<td><code>b&#39;A&#39;</code></td>
</tr>
</tbody></table>
<h4 id="浮点变量"><a href="#浮点变量" class="headerlink" title="浮点变量"></a>浮点变量</h4><table>
<thead>
<tr>
<th>长度</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>32-bit</td>
<td><code>f32</code></td>
</tr>
<tr>
<td>64-bit</td>
<td><strong>*</strong><code>f64</code></td>
</tr>
</tbody></table>
<h4 id="布尔型变量"><a href="#布尔型变量" class="headerlink" title="布尔型变量"></a>布尔型变量</h4><table>
<thead>
<tr>
<th>布尔值</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>真</td>
<td><code>true</code></td>
</tr>
<tr>
<td>假</td>
<td><code>false</code></td>
</tr>
</tbody></table>
<h4 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h4><p><code>char z = &#39;Z&#39;;</code></p>
<p>char 大小为四个字节(four bytes)，并代表了一个 Unicode 标量值（Unicode Scalar Value）</p>
<h4 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h4><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 元组：元组长度固定；元组中的每一个位置都有一个类型，而且这些不同值的类型也不必是相同的</span></span><br><span class="line"><span class="keyword">let</span> tup: (<span class="built_in">i32</span>, <span class="built_in">f64</span>, <span class="built_in">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> (x, y, z) = tup;</span><br><span class="line"><span class="comment">// x = 500; y = 6.4; z = 1</span></span><br><span class="line"><span class="comment">// tup.0 = 500; tup.1 = 6.4; tup.2 = 1;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组： Rust 中的数组是固定长度的；数组中的每个元素的类型必须相同</span></span><br><span class="line"><span class="keyword">let</span> arr: [<span class="built_in">i32</span>; <span class="number">5</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// arr[0] = 1; arr[1] = 2; arr[5] = thread &#x27;main&#x27; panicked at &#x27;index out of bounds: the len is 5 but the index is 5&#x27;</span></span><br><span class="line"><span class="comment">// 初始化数组：5个为0的数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">0</span>; <span class="number">5</span>];</span><br><span class="line"><span class="comment">// arr = [0, 0, 0, 0, 0];</span></span><br></pre></td></tr></table></figure>



<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="声明函数"><a href="#声明函数" class="headerlink" title="声明函数"></a>声明函数</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> input = <span class="number">5408</span>;</span><br><span class="line">    show_input(input);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在函数签名中，必须声明每个参数的类型。</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">show_input</span></span>(input: <span class="built_in">i32</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Your input is &#123;&#125;&quot;</span>, input)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用箭头 -&gt; 指明返回值类型</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">x_times</span></span>(x: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">    <span class="comment">// 不添加;表示一个表达式作为返回值</span></span><br><span class="line">    x * x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="语句和表达式"><a href="#语句和表达式" class="headerlink" title="语句和表达式"></a>语句和表达式</h3><p><strong>语句</strong>（<em>Statements</em>）是执行一些操作但不返回值的指令。<strong>表达式</strong>（<em>Expressions</em>）计算并产生一个值。</p>
<p><code>let x = 10;</code> 是一个语句，<code>5 + 6</code> 是一个表达式。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = &#123;</span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">5</span>;</span><br><span class="line">    n * n</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// n * n 是一个表达式，返回值是25</span></span><br><span class="line"><span class="comment">// m = 25;</span></span><br></pre></td></tr></table></figure>

<h3 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    for_fn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果控制流</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">if_condition</span></span>(a: <span class="built_in">bool</span>, b: <span class="built_in">bool</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &amp;&amp; b &#123;</span><br><span class="line">        <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> a &#123;</span><br><span class="line">        <span class="number">2</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> b &#123;</span><br><span class="line">        <span class="number">3</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环控制流</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">loop_fn</span></span>(times: <span class="built_in">u32</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;counter = &#123;&#125;&quot;</span>, counter);</span><br><span class="line">        <span class="keyword">if</span> counter &gt;= times &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            counter += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// while循环控制流</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">while_fn</span></span>(times: <span class="built_in">u32</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> counter &lt;= times &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;counter = &#123;&#125;&quot;</span>, counter);</span><br><span class="line">        counter += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for循环控制流</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">for_fn</span></span>() &#123;</span><br><span class="line">    <span class="keyword">for</span> ele <span class="keyword">in</span> (<span class="number">0</span>..<span class="number">100</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;value is &#123;&#125;&quot;</span>, ele);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h2><h3 id="什么是所有权？"><a href="#什么是所有权？" class="headerlink" title="什么是所有权？"></a>什么是所有权？</h3><blockquote>
<p>Rust 的核心功能（之一）是 <strong>所有权</strong>（<em>ownership</em>）。虽然该功能很容易解释，但它对语言的其他部分有着深刻的影响。</p>
<p>Rust 通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。在运行时，所有权系统的任何功能都不会减慢程序。</p>
</blockquote>
<h3 id="所有权规则"><a href="#所有权规则" class="headerlink" title="所有权规则"></a>所有权规则</h3><ol>
<li>Rust 中的每一个值都有一个被称为其 <strong>所有者</strong>（<em>owner</em>）的变量。</li>
<li>值在任一时刻有且只有一个所有者。</li>
<li>当所有者（变量）离开作用域，这个值将被丢弃。</li>
</ol>
<h3 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="comment">// s 在这里无效, 它尚未声明</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> s = <span class="string">&quot;hello&quot;</span>;  <span class="comment">// 从此处起，s 是有效的</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 此作用域已结束，s 不再有效</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="变量与数据的交互"><a href="#变量与数据的交互" class="headerlink" title="变量与数据的交互"></a>变量与数据的交互</h3><h4 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h4><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> y = x;</span><br><span class="line"><span class="comment">// 此时 x = y = 5</span></span><br><span class="line"><span class="comment">// Rust 有一个叫做 Copy trait 的特殊注解，可以用在类似整型这样的存储在栈上的类型上。如果一个类型拥有 Copy trait，一个旧的变量在将其赋值给其他变量后仍然可用。Rust 不允许自身或其任何部分实现了 Drop trait 的类型使用 Copy trait。</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = s1;</span><br><span class="line"><span class="comment">// 此时应该是s1, s2 -&gt; &quot;hello&quot;两个数据指针指向了同一个地址</span></span><br><span class="line"><span class="comment">// &gt; 当 s2 和 s1 离开作用域，他们都会尝试释放相同的内存。这是一个叫做 二次释放（double free）的错误，也是之前提到过的内存安全性 bug 之一。</span></span><br><span class="line"><span class="comment">// 实际上是s2 -&gt; &quot;hello&quot;, s1被移除掉</span></span><br></pre></td></tr></table></figure>

<h4 id="有哪些类型是Copy的呢？"><a href="#有哪些类型是Copy的呢？" class="headerlink" title="有哪些类型是Copy的呢？"></a>有哪些类型是<code>Copy</code>的呢？</h4><ul>
<li>所有整数类型，比如 <code>u32</code>。</li>
<li>布尔类型，<code>bool</code>，它的值是 <code>true</code> 和 <code>false</code>。</li>
<li>所有浮点数类型，比如 <code>f64</code>。</li>
<li>字符类型，<code>char</code>。</li>
<li>元组，当且仅当其包含的类型也都是 <code>Copy</code> 的时候。比如，<code>(i32, i32)</code> 是 <code>Copy</code> 的，但 <code>(i32, String)</code> 就不是</li>
</ul>
<h4 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h4><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = s1.clone();</span><br><span class="line"><span class="comment">// s1 -&gt; &quot;hello&quot;(1) s2 -&gt; &quot;hello&quot;(2) </span></span><br><span class="line"><span class="comment">// &quot;hello&quot; 被复制了</span></span><br></pre></td></tr></table></figure>



<h3 id="所有权与函数"><a href="#所有权与函数" class="headerlink" title="所有权与函数"></a>所有权与函数</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="built_in">String</span>::from(<span class="string">&quot;hello&quot;</span>);  <span class="comment">// s 进入作用域</span></span><br><span class="line">    takes_ownership(s);             <span class="comment">// s 的值移动到函数里 ...</span></span><br><span class="line">                                    <span class="comment">// ... 所以到这里不再有效</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">5</span>;                      <span class="comment">// x 进入作用域</span></span><br><span class="line">    makes_copy(x);                  <span class="comment">// x 应该移动函数里，</span></span><br><span class="line">                                    <span class="comment">// 但 i32 是 Copy 的，所以在后面可继续使用 x</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// 这里, x 先移出了作用域，然后是 s。但因为 s 的值已被移走，</span></span><br><span class="line">  <span class="comment">// 所以不会有特殊操作</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">takes_ownership</span></span>(some_string: <span class="built_in">String</span>) &#123; <span class="comment">// some_string 进入作用域</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_string);</span><br><span class="line">&#125; <span class="comment">// 这里，some_string 移出作用域并调用 `drop` 方法。占用的内存被释放</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">makes_copy</span></span>(some_integer: <span class="built_in">i32</span>) &#123; <span class="comment">// some_integer 进入作用域</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_integer);</span><br><span class="line">&#125; <span class="comment">// 这里，some_integer 移出作用域。不会有特殊操作</span></span><br></pre></td></tr></table></figure>



<h3 id="引用与借用"><a href="#引用与借用" class="headerlink" title="引用与借用"></a>引用与借用</h3><h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> s = <span class="built_in">String</span>::from(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="comment">// 可变引用</span></span><br><span class="line">    change(&amp;<span class="keyword">mut</span> s);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);  <span class="comment">// hello world</span></span><br><span class="line">    <span class="comment">// 只能有一个可变引用</span></span><br><span class="line">    <span class="comment">// cannot borrow `s` as mutable more than once at a time</span></span><br><span class="line">    <span class="keyword">let</span> r1 = &amp;<span class="keyword">mut</span> s;</span><br><span class="line">    <span class="keyword">let</span> r2 = &amp;<span class="keyword">mut</span> s;</span><br><span class="line">    <span class="comment">// 我们也不能在拥有不可变引用的同时拥有可变引用。</span></span><br><span class="line">    <span class="keyword">let</span> r1 = &amp;s; <span class="comment">// 没问题</span></span><br><span class="line">    <span class="keyword">let</span> r2 = &amp;s; <span class="comment">// 没问题</span></span><br><span class="line">    <span class="keyword">let</span> r3 = &amp;<span class="keyword">mut</span> s; <span class="comment">// 大问题</span></span><br><span class="line">    <span class="comment">// 一个引用的作用域从声明的地方开始一直持续到最后一次使用为止</span></span><br><span class="line">    <span class="keyword">let</span> r1 = &amp;s; <span class="comment">// 没问题</span></span><br><span class="line">    <span class="keyword">let</span> r2 = &amp;s; <span class="comment">// 没问题</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; and &#123;&#125;&quot;</span>, r1, r2);</span><br><span class="line">    <span class="comment">// 此位置之后 r1 和 r2 不再使用</span></span><br><span class="line">    <span class="keyword">let</span> r3 = &amp;<span class="keyword">mut</span> s; <span class="comment">// 没问题</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, r3);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 错误：</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">change</span></span>(some_string: &amp;<span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="comment">// 错误！无法修改引用的值</span></span><br><span class="line">    some_string.push_str(<span class="string">&quot;, world&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正确：</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">change</span></span>(<span class="built_in">str</span>: &amp;<span class="keyword">mut</span> <span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">str</span>.push_str(<span class="string">&quot; world&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们将获取引用作为函数参数称为 <strong>借用</strong></p>
<ul>
<li>在任意给定时间，<strong>要么</strong> 只能有一个可变引用，<strong>要么</strong> 只能有多个不可变引用。</li>
<li>引用必须总是有效的。</li>
</ul>
</blockquote>
<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><blockquote>
<p>另一个没有所有权的数据类型是 <em>slice</em>。slice 允许你引用集合中一段连续的元素序列，而不用引用整个集合。</p>
</blockquote>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 字符串切片</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="built_in">String</span>::from(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> hello = &amp;s[<span class="number">0</span>..<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> world = &amp;s[<span class="number">6</span>..<span class="number">11</span>];</span><br><span class="line"><span class="comment">// 数字切片</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> slice = &amp;a[<span class="number">1</span>..<span class="number">3</span>];</span><br></pre></td></tr></table></figure>



<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><blockquote>
<p>struct<em>，或者 *structure</em>，是一个自定义数据类型，允许你命名和包装多个相关的值，从而形成一个有意义的组合。</p>
<p>不需要依赖顺序来指定或访问实例中的值。</p>
<p>定义结构体，需要使用 <code>struct</code> 关键字并为整个结构体提供一个名字。结构体的名字需要描述它所组合的数据的意义。接着，在大括号中，定义每一部分数据的名字和类型，我们称为 <strong>字段</strong>（<em>field</em>）。</p>
</blockquote>
<h3 id="结构体的定义"><a href="#结构体的定义" class="headerlink" title="结构体的定义"></a>结构体的定义</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">User</span></span> &#123;</span><br><span class="line">    name: <span class="built_in">String</span>,</span><br><span class="line">    account: <span class="built_in">String</span>,</span><br><span class="line">    id: <span class="built_in">i32</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="实例化结构体"><a href="#实例化结构体" class="headerlink" title="实例化结构体"></a>实例化结构体</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user1 = User &#123;</span><br><span class="line">    name: <span class="built_in">String</span>::from(<span class="string">&quot;Van&quot;</span>),</span><br><span class="line">    account: <span class="built_in">String</span>::from(<span class="string">&quot;vansama&quot;</span>),</span><br><span class="line">    id: <span class="number">123456</span>,</span><br><span class="line">    extra: <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 可变结构体实例</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> user2 = User &#123;</span><br><span class="line">    name: <span class="built_in">String</span>::from(<span class="string">&quot;Dark&quot;</span>),</span><br><span class="line">    account: <span class="built_in">String</span>::from(<span class="string">&quot;darkholme&quot;</span>),</span><br><span class="line">    id: <span class="number">1234567</span>,</span><br><span class="line">    extra: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 获取值、改变值可以用点&quot;.&quot;号</span></span><br><span class="line"><span class="built_in">print!</span>(user1.name);</span><br><span class="line"><span class="comment">// 从已有结构体创建新结构体实例</span></span><br><span class="line"><span class="keyword">let</span> user3 = User &#123;</span><br><span class="line">    name: <span class="built_in">String</span>::from(<span class="string">&quot;Sam&quot;</span>),</span><br><span class="line">    account: <span class="built_in">String</span>::from(<span class="string">&quot;sans&quot;</span>),</span><br><span class="line">    ..user1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="通过派生-trait-增加实用功能"><a href="#通过派生-trait-增加实用功能" class="headerlink" title="通过派生 trait 增加实用功能"></a>通过派生 trait 增加实用功能</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 增加结构体打印功能</span></span><br><span class="line"><span class="comment">// Rust 确实 包含了打印出调试信息的功能，不过我们必须为结构体显式选择这个功能。为此，在结构体定义之前加上 #[derive(Debug)] 注解</span></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span></span> &#123;</span><br><span class="line">    width: <span class="built_in">u32</span>,</span><br><span class="line">    height: <span class="built_in">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> rect1 = Rectangle &#123; width: <span class="number">30</span>, height: <span class="number">50</span> &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;rect1 is &#123;:#?&#125;&quot;</span>, rect1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">rect1 is Rectangle &#123;</span><br><span class="line">    width: <span class="number">30</span>,</span><br><span class="line">    height: <span class="number">50</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h3><p><strong>方法</strong> 与函数类似：它们使用 <code>fn</code> 关键字和名称声明，可以拥有参数和返回值，同时包含在某处调用该方法时会执行的代码。不过方法与函数是不同的，因为它们在结构体的上下文中被定义（或者是枚举或 trait 对象的上下文，将分别在第六章和第十七章讲解），并且它们第一个参数总是 <code>self</code>，它代表调用该方法的结构体实例。</p>
<p><code>impl</code>块允许有多个。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span></span> &#123;</span><br><span class="line">    width: <span class="built_in">u32</span>,</span><br><span class="line">    height: <span class="built_in">u32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Rectangle &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">area</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">u32</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width * <span class="keyword">self</span>.height</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">can_hold</span></span>(&amp;<span class="keyword">self</span>, other: &amp;Rectangle) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width &gt;= other.width &amp;&amp; <span class="keyword">self</span>.height &gt;= other.height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> rect1 = Rectangle &#123; width: <span class="number">30</span>, height: <span class="number">50</span> &#125;;</span><br><span class="line">    <span class="keyword">let</span> rect2 = Rectangle &#123; width: <span class="number">10</span>, height: <span class="number">40</span> &#125;;</span><br><span class="line">    <span class="keyword">let</span> rect3 = Rectangle &#123; width: <span class="number">60</span>, height: <span class="number">45</span> &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(</span><br><span class="line">      <span class="string">&quot;The area of the rectangle is &#123;&#125; square pixels.&quot;</span>,</span><br><span class="line">      rect1.area()</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Can rect1 hold rect2? &#123;&#125;&quot;</span>, rect1.can_hold(&amp;rect2));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Can rect1 hold rect3? &#123;&#125;&quot;</span>, rect1.can_hold(&amp;rect3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="关联函数"><a href="#关联函数" class="headerlink" title="关联函数"></a>关联函数</h3><p><code>impl</code> 块的另一个有用的功能是：允许在 <code>impl</code> 块中定义 <strong>不</strong> 以 <code>self</code> 作为参数的函数。这被称为 <strong>关联函数</strong>（<em>associated functions</em>），因为它们与结构体相关联。它们仍是函数而不是方法，因为它们并不作用于一个结构体的实例。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例如轻松地创建一个正方形</span></span><br><span class="line"><span class="keyword">impl</span> Rectangle &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">square</span></span>(size: <span class="built_in">u32</span>) -&gt; Rectangle &#123;</span><br><span class="line">        Rectangle &#123; width: size, height: size &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="枚举与模式匹配"><a href="#枚举与模式匹配" class="headerlink" title="枚举与模式匹配"></a>枚举与模式匹配</h2><p><strong>枚举</strong>（<em>enumerations</em>），也被称作 <em>enums</em>。枚举允许你通过列举可能的 <strong>成员</strong>（<em>variants</em>） 来定义一个类型。首先，我们会定义并使用一个枚举来展示它是如何连同数据一起编码信息的。接下来，我们会探索一个特别有用的枚举，叫做 <code>Option</code>，它代表一个值要么是某个值要么什么都不是。然后会讲到在 <code>match</code> 表达式中用模式匹配，针对不同的枚举值编写相应要执行的代码。最后会介绍 <code>if let</code>，另一个简洁方便处理代码中枚举的结构。</p>
<h3 id="创建枚举"><a href="#创建枚举" class="headerlink" title="创建枚举"></a>创建枚举</h3><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 举例：IP 地址的类型</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">IpAddrType</span></span> &#123;</span><br><span class="line">    v4,</span><br><span class="line">    v6,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建实例</span></span><br><span class="line"><span class="keyword">let</span> ipv4 = IpAddrType:v4;</span><br><span class="line"><span class="keyword">let</span> ipv6 = IpAddrType:v6;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 IP 数据放在结构体中</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">IpAddr</span></span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">type</span>: <span class="title">IpAddrType</span></span>,</span><br><span class="line">    addr: <span class="built_in">String</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>更简洁的方式：将数据直接放进枚举成员中。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">IpAddr</span></span> &#123;</span><br><span class="line">    V4(<span class="built_in">u8</span>, <span class="built_in">u8</span>, <span class="built_in">u8</span>, <span class="built_in">u8</span>),</span><br><span class="line">    V6(<span class="built_in">String</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Option-枚举"><a href="#Option-枚举" class="headerlink" title="Option 枚举"></a>Option 枚举</h3><p>Rust 并没有空值，不过它确实拥有一个可以编码存在或不存在概念的枚举。这个枚举是 <code>Option&lt;T&gt;</code>，而且它<a href="https://doc.rust-lang.org/std/option/enum.Option.html">定义于标准库中</a></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Option</span></span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="literal">Some</span>(T),</span><br><span class="line">    <span class="literal">None</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Option&lt;T&gt; 枚举是如此有用以至于它甚至被包含在了 prelude 之中，不需要将其显式引入作用域。另外，它的成员也是如此，可以不需要 Option:: 前缀来直接使用 Some 和 None。即便如此 Option&lt;T&gt; 也仍是常规的枚举，Some(T) 和 None 仍是 Option&lt;T&gt; 的成员。</span></span><br><span class="line"><span class="keyword">let</span> some_number = <span class="literal">Some</span>(<span class="number">123</span>);</span><br></pre></td></tr></table></figure>

<h4 id="为什么-Option-lt-T-gt-比空值安全？"><a href="#为什么-Option-lt-T-gt-比空值安全？" class="headerlink" title="为什么 Option&lt;T&gt; 比空值安全？"></a>为什么 <code>Option&lt;T&gt;</code> 比空值安全？</h4><p>当在 Rust 中拥有一个像 <code>i8</code> 这样类型的值时，编译器确保它总是有一个有效的值。只有当使用 <code>Option&lt;i8&gt;</code>（或者任何用到的类型）的时候需要担心可能没有值，而编译器会确保在<code>Option&lt;i8&gt;</code>使用值之前处理了为空的情况。</p>
<h3 id="控制流运算符"><a href="#控制流运算符" class="headerlink" title="控制流运算符"></a>控制流运算符</h3><p>Rust 有一个叫做 <code>match</code> 的极为强大的控制流运算符，它允许我们将一个值与一系列的模式相比较，并根据相匹配的模式执行相应代码。模式可由字面值、变量、通配符和许多其他内容构成。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Coin</span></span> &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    Quarter,</span><br><span class="line">    Buck,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">value_in_cents</span></span>(coin: Coin) -&gt; <span class="built_in">u8</span> &#123;</span><br><span class="line">    <span class="comment">// match 分支分为两部分：目标匹配模式和代码；分支之间使用 , 分隔</span></span><br><span class="line">    <span class="keyword">match</span> coin &#123;</span><br><span class="line">        Coin::Penny =&gt; <span class="number">1</span>,</span><br><span class="line">        Coin::Nickel =&gt; <span class="number">5</span>,</span><br><span class="line">        Coin::Dime =&gt; <span class="number">10</span>,</span><br><span class="line">        Coin::Quarter =&gt; <span class="number">25</span>,</span><br><span class="line">        <span class="comment">// 如果分支代码较短的话通常不使用大括号，如果想要在分支中运行多行代码，可以使用大括号。</span></span><br><span class="line">        Coin::Buck =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;a buck equals 100 coins.&quot;</span>);</span><br><span class="line">            <span class="number">100</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Rust 中的匹配是 <strong>穷尽的</strong>（<em>exhaustive</em>）：必须穷举到最后的可能性来使代码有效。</p>
<h3 id="更简洁的控制流"><a href="#更简洁的控制流" class="headerlink" title="更简洁的控制流"></a>更简洁的控制流</h3><p>使用<code>if let</code>实现单个<code>match</code>选项。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> choice = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">match</span> choice &#123;</span><br><span class="line">        <span class="number">1</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;This is 1&quot;</span>),</span><br><span class="line">        _ =&gt; <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, choice)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 等同于</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="number">1</span> = choice &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;This is 1.&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;.&quot;</span>, choice);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>学习</tag>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Golang 学习记录</title>
    <url>/2021/01/Golang-learning/</url>
    <content><![CDATA[<h1 id="Golang-学习记录"><a href="#Golang-学习记录" class="headerlink" title="Golang 学习记录"></a>Golang 学习记录</h1><p>[toc]</p>
<span id="more"></span>
<h2 id="Golang"><a href="#Golang" class="headerlink" title="Golang"></a>Golang</h2><h3 id="分组定义"><a href="#分组定义" class="headerlink" title="分组定义"></a>分组定义</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 单独导入</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;math&quot;</span></span><br><span class="line"><span class="comment">// 分组导入</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">4<span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同样适用于声明和定义</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">4i <span class="keyword">int</span></span><br><span class="line">  ok <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">4str <span class="keyword">string</span> = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">  cmx <span class="keyword">complex64</span> = <span class="number">10</span> + <span class="number">2i</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导出的方法、变量必须是首字母大写</span></span><br><span class="line">math.pi <span class="comment">// cannot refer to unexported name math.pi</span></span><br><span class="line">math.Pi <span class="comment">// 3.141592653589793</span></span><br></pre></td></tr></table></figure>



<h3 id="Go的多线程"><a href="#Go的多线程" class="headerlink" title="Go的多线程"></a>Go的多线程</h3><ul>
<li><p><strong>GoRoutine</strong> <code>go f(x)</code>表示在新的线程中执行<code>f(x)</code>，但<code>f</code>和<code>x</code>的求值都是在当前线程。</p>
</li>
<li><p><strong>信道</strong>是带有类型的管道，你可以通过它用信道操作符 &lt;- 来发送或者接收值。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)  <span class="comment">//创建信道</span></span><br><span class="line">ch &lt;- v    <span class="comment">// 将 v 发送至信道 ch。</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// 从 ch 接收值并赋予 v。</span></span><br></pre></td></tr></table></figure>





</li>
</ul>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函数的参数和返回值需要显式声明类型</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数的返回值也可以提前指定</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">power</span><span class="params">(x, n <span class="keyword">int</span>)</span> <span class="params">(z <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  i, z := <span class="number">0</span>, <span class="number">1</span> <span class="comment">// 短变量声明，自动判断类型</span></span><br><span class="line">  <span class="keyword">for</span> ;i &lt; n; i++ &#123;</span><br><span class="line">    z *= x</span><br><span class="line">  &#125;</span><br><span class="line">4<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 基本函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">for</span> &#123;&#125;</span><br><span class="line"><span class="comment">// 相当于 while &#123;&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n, lim <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">4<span class="keyword">if</span> v := math.Pow(x, n); v &lt; lim &#123;</span><br><span class="line">    <span class="comment">// v仅在当前结构体内有效</span></span><br><span class="line">44<span class="keyword">return</span> v</span><br><span class="line">4&#125;</span><br><span class="line">4<span class="keyword">return</span> lim</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Go 自动提供了在这些语言中每个 case 后面所需的 break 语句。 除非以 fallthrough 语句结束，否则分支会自动终止。 Go 的另一点重要的不同在于 switch 的 case 无需为常量，且取值不必为整数。</span></span><br><span class="line"><span class="keyword">switch</span> os := runtime.GOOS; os &#123;</span><br><span class="line">4<span class="keyword">case</span> <span class="string">&quot;darwin&quot;</span>:</span><br><span class="line">44fmt.Println(<span class="string">&quot;macOS.&quot;</span>)</span><br><span class="line">4<span class="keyword">case</span> <span class="string">&quot;linux&quot;</span>:</span><br><span class="line">44fmt.Println(<span class="string">&quot;Linux.&quot;</span>)</span><br><span class="line">4<span class="keyword">default</span>:</span><br><span class="line">44fmt.Printf(<span class="string">&quot;%s.\n&quot;</span>, os)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// defer 语句会将函数推迟到外层函数返回之后执行。</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">4<span class="keyword">defer</span> fmt.Println(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">4fmt.Println(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">hello</span></span><br><span class="line"><span class="comment">world</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// defer 栈：后进先出</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">4<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">44<span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">4&#125;</span><br><span class="line">4fmt.Println(<span class="string">&quot;done&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">done 9 8 7 6 5 4 3 2 1 0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 内置接口</span></span><br><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> &#123; String() <span class="keyword">string</span> &#125;</span><br><span class="line"><span class="comment">// fmt包将通过String方法打印值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误</span></span><br><span class="line"><span class="keyword">type</span> error <span class="keyword">interface</span> &#123; Error() <span class="keyword">string</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Image接口</span></span><br><span class="line"><span class="keyword">type</span> Image <span class="keyword">interface</span> &#123;</span><br><span class="line">    ColorModel() color.Model</span><br><span class="line">    Bounds() image.Rectangle</span><br><span class="line">    At(x, y <span class="keyword">int</span>) color.Color</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 结构体</span></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">4X <span class="keyword">int</span></span><br><span class="line">4Y <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">4v := Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">  fmt.Println(v) <span class="comment">// &#123;1, 2&#125;</span></span><br><span class="line">4fmt.Println(v.X) <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法：带特殊接受者参数的函数</span></span><br><span class="line"><span class="comment">// 例：为自定义类型写方法</span></span><br><span class="line"><span class="keyword">type</span> iFloat <span class="keyword">float64</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f iFloat)</span> <span class="title">Abs</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> -f</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用指针接受者来修改原本的值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span> <span class="title">Add</span><span class="params">(i <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  v.X = v.X + i</span><br><span class="line">  v.Y = v.Y + i</span><br><span class="line">&#125;</span><br><span class="line">v.Add(<span class="number">5</span>)  <span class="comment">// 对于指针接受者，Go会自动转换成(&amp;v).Add(5)</span></span><br><span class="line">p := &amp;v <span class="comment">// 对于值的接受者，也可以传递指针，Go会自动转换成(*p).Add(5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口:接口类型的变量可以保存任何实现了这些方法的值。</span></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">  Method()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 接口内部包含了值和具体方法的元组</span></span><br><span class="line">=&gt; (value, <span class="keyword">type</span>)</span><br><span class="line"><span class="comment">// 例</span></span><br><span class="line"><span class="keyword">type</span> Text <span class="keyword">struct</span> &#123;</span><br><span class="line">  S <span class="keyword">string</span></span><br><span class="line">&#125; <span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="comment">// 隐式实现接口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Text)</span> <span class="title">Method</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> i I</span><br><span class="line">i = &amp;Text&#123;<span class="string">&quot;text&quot;</span>&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;%v, %T&quot;</span>, i, i) <span class="comment">// 输出：&amp;&#123;hh&#125;, *main.Text</span></span><br><span class="line"><span class="comment">// 空接口：用来保存任何类型的值</span></span><br><span class="line"><span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;  <span class="comment">// (&lt;nil&gt;, &lt;nil&gt;)</span></span><br><span class="line">i = <span class="number">42</span>  <span class="comment">// (42, int)</span></span><br><span class="line">i = <span class="string">&quot;yes&quot;</span>  <span class="comment">// (yes, string)</span></span><br><span class="line"><span class="comment">// 接口类型判断</span></span><br><span class="line">tmp := i.(<span class="keyword">int</span>)  <span class="comment">// 表示获取i中int类型的值并赋值给t。如果i中类型不是int，则会引发panic</span></span><br><span class="line">tmp, ok := i.(<span class="keyword">string</span>)  <span class="comment">// 如果i保存了string类型的值，ok=true。否则tmp=0,ok=false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Read方法</span></span><br><span class="line"><span class="comment">// io 包指定了 io.Reader 接口，它表示从数据流的末尾进行读取。</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(T)</span> <span class="title">Read</span><span class="params">(b []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span> &#123;&#125;</span><br><span class="line"><span class="comment">// Read 用数据填充给定的字节切片并返回填充的字节数和错误值。在遇到数据流的结尾时，它会返回一个 io.EOF 错误。</span></span><br></pre></td></tr></table></figure>





<h3 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">bool</span>: <span class="literal">true</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">string</span></span><br><span class="line"><span class="keyword">int</span>  <span class="keyword">int8</span>  <span class="keyword">int16</span>  <span class="keyword">int32</span>  <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">uint</span> <span class="keyword">uint8</span> <span class="keyword">uint16</span> <span class="keyword">uint32</span> <span class="keyword">uint64</span> <span class="keyword">uintptr</span></span><br><span class="line"><span class="keyword">byte</span> <span class="comment">// uint8 的别名</span></span><br><span class="line"><span class="keyword">rune</span> <span class="comment">// int32 的别名</span></span><br><span class="line">    <span class="comment">// 表示一个 Unicode 码点</span></span><br><span class="line"><span class="keyword">float32</span> <span class="keyword">float64</span></span><br><span class="line"><span class="keyword">complex64</span> <span class="keyword">complex128</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 类型转换</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> i <span class="keyword">int</span> = <span class="number">37</span></span><br><span class="line"><span class="keyword">var</span> f <span class="keyword">float64</span> = <span class="keyword">float64</span>(i)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 数组</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> a [<span class="number">10</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>
<br />

<center>未完待续，持续学习中...</center>]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>后端</tag>
        <tag>学习</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Android开发心得：代码管理</title>
    <url>/2020/11/Android%E5%BC%80%E5%8F%91-%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<h1 id="Android-开发心得"><a href="#Android-开发心得" class="headerlink" title="Android 开发心得"></a>Android 开发心得</h1><h2 id="1-代码的管理和规范化"><a href="#1-代码的管理和规范化" class="headerlink" title="1. 代码的管理和规范化"></a>1. 代码的管理和规范化</h2><p>举例：包名是<strong>com.example.app</strong></p>
<span id="more"></span>

<h3 id="文件的安排"><a href="#文件的安排" class="headerlink" title="文件的安排"></a>文件的安排</h3><ul>
<li><p>package.java</p>
<ul>
<li><p>ui</p>
<blockquote>
<p>用于存放控制Activity和UI界面的代码</p>
</blockquote>
<ul>
<li>MainActivity.java 则路径为：<code>com.example.app.ui.MainActivity</code></li>
<li>LaunchActivity.java</li>
</ul>
</li>
<li><p>service</p>
<blockquote>
<p>用于存放服务代码</p>
</blockquote>
<ul>
<li>MediaPlayService.java <code>com.expample.app.service.MediaPlayService</code></li>
<li>KeepAliveService.java</li>
</ul>
</li>
<li><p>receiver</p>
<blockquote>
<p>用于存放监听器代码</p>
</blockquote>
<ul>
<li>BoardcastReceiver.java <code>com.example.app.receiver.BoardcastReceiver</code></li>
<li>LoadReceiver.java</li>
</ul>
</li>
<li><p>utils</p>
<blockquote>
<p>用于存放算法类、通用工具类、引入的计算类代码，一般通知类封装后也放在这里</p>
</blockquote>
<ul>
<li>PlaylistSort.java <code>com.example.app.utils.PlaylistSort</code></li>
<li>ConvertDataFormat.java</li>
</ul>
</li>
<li><p>sdk</p>
<blockquote>
<p>用于存放引入的SDK</p>
</blockquote>
<ul>
<li>AMap.java</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>对于多页面多功能性的复杂app，还会通过模块来再次分类。</p>
<p>比如app有两个模块：<em>看视频<em>和</em>发消息</em></p>
<ul>
<li>package.java<ul>
<li>media<ul>
<li>ui</li>
<li>service</li>
<li>receiver</li>
<li>provider</li>
<li>sdk</li>
</ul>
</li>
<li>message<ul>
<li>ui</li>
<li>service</li>
<li>receiver</li>
<li>provider</li>
<li>sdk</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>一般来说对于算法：排序、加密等；可复用的工具：网络请求、网络下载等；系统工具：通知、消息、调整屏幕亮度等。这些都是全部页面、组件都会用到的，所以utils基本是放在主目录下。</p>
<p>考虑到后续加的功能，例如微信：<code>com.tencent.mm.plugin</code>全部把朋友圈、小视频、小程序等组件都放在了plugin里面。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>开发</tag>
      </tags>
  </entry>
  <entry>
    <title>前端页面计算SHA256（模拟区块链货币挖矿过程）</title>
    <url>/2020/11/Front_Calc_SHA265/</url>
    <content><![CDATA[<h1 id="前端页面计算SHA256"><a href="#前端页面计算SHA256" class="headerlink" title="前端页面计算SHA256"></a>前端页面计算SHA256</h1><blockquote>
<p>模拟计算区块链货币的“挖矿”过程。参考课程：<a href="https://www.icourse163.org/learn/NJU-1449346161">https://www.icourse163.org/learn/NJU-1449346161</a></p>
<p>使用了CryptoJS计算SHA256，使用bootstrap框架。</p>
</blockquote>
<span id="more"></span>

<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;onLoad()&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>区块: <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group-prepend&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;input-group-text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;basic-addon1&quot;</span>&gt;</span>#<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;block&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;block number&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;block&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;calc()&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>随机数: <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;random&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;random number&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;random&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;calc()&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span> <span class="attr">style</span>=<span class="string">&quot;align-items: flex-start;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>数据: <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;data&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;With textarea&quot;</span> <span class="attr">style</span>=<span class="string">&quot;min-height: 150px;&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;calc()&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>SHA256: <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;hash&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;hash number&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;hash&quot;</span> <span class="attr">disabled</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;word-break:break-all;word-wrap:break-all;resize:unset;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span>前几位为0？<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;int&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;int&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;int&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;start()&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-success&quot;</span>&gt;</span>Start!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">420px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">226</span>, <span class="number">240</span>, <span class="number">220</span>, <span class="number">200</span>);</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.line</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">95%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.label</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn-area</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: left;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><p>格式化的字符串为：<code>block=$&#123;block&#125;;random=$&#123;random&#125;;data=$&#123;data&#125;</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> block = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> random = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> int = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> hash = <span class="string">&quot;NULL&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">repeat</span>(<span class="params">src, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="keyword">new</span> <span class="built_in">Array</span>(n + <span class="number">1</span>)).join(src);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">writeLocal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  json = <span class="string">`&#123;&quot;block&quot;: &quot;<span class="subst">$&#123;block&#125;</span>&quot;, &quot;random&quot;: &quot;<span class="subst">$&#123;random&#125;</span>&quot;, &quot;data&quot;: &quot;<span class="subst">$&#123;data&#125;</span>&quot;, &quot;int&quot;: &quot;<span class="subst">$&#123;int&#125;</span>&quot;, &quot;hash&quot;: &quot;<span class="subst">$&#123;hash&#125;</span>&quot;&#125;`</span>;</span><br><span class="line">  <span class="built_in">localStorage</span>.calc_hash = json;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;block&#x27;</span>).value = block;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value = random;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;data&#x27;</span>).value = data;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;int&#x27;</span>).value = int;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;hash&#x27;</span>).value = hash;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readLocal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  json = <span class="built_in">localStorage</span>.calc_hash;</span><br><span class="line">  <span class="keyword">if</span> (json != <span class="literal">null</span>) &#123;</span><br><span class="line">    json = <span class="built_in">JSON</span>.parse(json);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    json = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(json);</span><br><span class="line">  <span class="keyword">return</span> json;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  block = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;block&#x27;</span>).value;</span><br><span class="line">  random = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value;</span><br><span class="line">  data = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;data&#x27;</span>).value;</span><br><span class="line">  <span class="keyword">var</span> input = <span class="string">`block=<span class="subst">$&#123;block&#125;</span>;random=<span class="subst">$&#123;random&#125;</span>;data=<span class="subst">$&#123;data&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">var</span> output = CryptoJS.SHA256(input);</span><br><span class="line">  hash = output.toString(CryptoJS.enc.Hex).toUpperCase();</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;block&#x27;</span>).value = block;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value = random;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;data&#x27;</span>).value = data;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;hash&#x27;</span>).value = hash;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  block = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;block&#x27;</span>).value;</span><br><span class="line">  random = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value;</span><br><span class="line">  data = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;data&#x27;</span>).value;</span><br><span class="line">  int = <span class="built_in">Number</span>(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;int&#x27;</span>).value);</span><br><span class="line">  <span class="keyword">if</span> (int &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    alert(<span class="string">&quot;取0的个数太少了！&quot;</span>);</span><br><span class="line">    int = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;int&#x27;</span>).value = int;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (int &gt; <span class="number">9</span>) &#123;</span><br><span class="line">    alert(<span class="string">&quot;取0的个数太多了！\n你想让你的电脑燃烧吗？？&quot;</span>);</span><br><span class="line">    int = <span class="number">4</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;int&#x27;</span>).value = int;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  random = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> now, target, input, output;</span><br><span class="line">  target = repeat(<span class="string">&#x27;0&#x27;</span>, int);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;hash&#x27;</span>).value = <span class="string">&#x27;计算中...&#x27;</span>;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (now != target) &#123;</span><br><span class="line">      input = <span class="string">`block=<span class="subst">$&#123;block&#125;</span>;random=<span class="subst">$&#123;random&#125;</span>;data=<span class="subst">$&#123;data&#125;</span>`</span>;</span><br><span class="line">      output = CryptoJS.SHA256(input);</span><br><span class="line">      hash = output.toString(CryptoJS.enc.Hex);</span><br><span class="line">      now = hash.slice(<span class="number">0</span>, int);</span><br><span class="line">      <span class="built_in">console</span>.log(now);</span><br><span class="line">      random += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    random -= <span class="number">1</span>;</span><br><span class="line">    hash = hash.toUpperCase();</span><br><span class="line">    writeLocal();</span><br><span class="line">  &#125;, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onLoad</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  localData = readLocal();</span><br><span class="line">  <span class="keyword">if</span> (localData != <span class="literal">null</span>) &#123;</span><br><span class="line">    block = localData.block;</span><br><span class="line">    random = localData.random;</span><br><span class="line">    data = localData.data;</span><br><span class="line">    int = localData.int;</span><br><span class="line">    hash = localData.hash;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;block&#x27;</span>).value = block;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;random&#x27;</span>).value = random;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;data&#x27;</span>).value = data;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;int&#x27;</span>).value = int;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;hash&#x27;</span>).value = hash;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    writeLocal();</span><br><span class="line">    calc();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="CodePen-预览"><a href="#CodePen-预览" class="headerlink" title="CodePen 预览"></a>CodePen 预览</h2><p><a href="https://codepen.io/irispro/full/jOrKodY">https://codepen.io/irispro/full/jOrKodY</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>模拟</tag>
      </tags>
  </entry>
  <entry>
    <title>利用Tinify缩小图片体积(Python实现)</title>
    <url>/2020/08/py-tinify/</url>
    <content><![CDATA[<h1 id="利用Tinify缩小图片体积-Python实现"><a href="#利用Tinify缩小图片体积-Python实现" class="headerlink" title="利用Tinify缩小图片体积(Python实现)"></a>利用Tinify缩小图片体积(Python实现)</h1><blockquote>
<p>在博客上传图片的时候往往不需要很高的清晰度，越小的图片体积能够减少图床的空间占用。所以我一般会先通过一些工具缩小图片体积。</p>
<p>具有代表性的在线图片压缩网站是<a href="https://tinypng.com/">tinyPNG</a></p>
</blockquote>
<span id="more"></span>



<h2 id="首先在官网注册api"><a href="#首先在官网注册api" class="headerlink" title="首先在官网注册api"></a>首先在官网注册api</h2><p>-&gt; 官网：<a href="https://tinypng.com/developers">https://tinypng.com/developers</a></p>
<h2 id="安装python依赖"><a href="#安装python依赖" class="headerlink" title="安装python依赖"></a>安装python依赖</h2><p><code>pip install --upgrade tinify</code></p>
<h2 id="在py文件中引入依赖"><a href="#在py文件中引入依赖" class="headerlink" title="在py文件中引入依赖"></a>在py文件中引入依赖</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tinify</span><br><span class="line"></span><br><span class="line"><span class="comment"># 填写api</span></span><br><span class="line">tinify.key = <span class="string">&quot;&lt;your api key here&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据需要设置代理</span></span><br><span class="line">tinify.proxy = <span class="string">&quot;http://&lt;user&gt;:&lt;pass&gt;@&lt;ip addr&gt;:&lt;port&gt;&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># coding=UTF-8</span></span><br><span class="line"><span class="comment"># Author: Steven Yan</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> tinify</span><br><span class="line"><span class="keyword">import</span> os, time, sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tinify.key = <span class="string">&quot;&lt;your key here&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">welcome</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##########################################################&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##                 Website: StevenOS.com                ##&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##                     By Steven Yan                    ##&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;##########################################################&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用于在Windows平台设置窗口</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setWindow</span>():</span></span><br><span class="line">    os.system(<span class="string">&quot;mode con cols=60 lines=30&quot;</span>)</span><br><span class="line">    os.system(<span class="string">&quot;color 0e&quot;</span>)</span><br><span class="line">    os.system(<span class="string">&quot;title Convert png/jpg to tiny ones&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">goodBye</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\nGood Bye! See you next time!\n&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;-&gt; %s&quot;</span> % <span class="built_in">str</span>(<span class="number">4</span> - i))</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">    sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历目录中的文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="keyword">for</span> dirpath, dirs, files <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            imgpath = os.path.join(dirpath, file)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;compressing... &quot;</span> + imgpath)</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                tinify.from_file(imgpath).to_file(imgpath)</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="comment"># 如果不是图片文件则显示异常，但不要raiseError</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;...Failed to compress &quot;</span> + imgpath)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;...Maybe it is not a PNG/JPG image.&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;...Or, please check your internet access.\n&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\nFinished!&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Saved at &quot;</span> + path)</span><br><span class="line">    goodBye()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPath</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Please enter your image-path: &quot;</span>)</span><br><span class="line">    s = <span class="built_in">input</span>(<span class="string">&quot;&gt; &quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">if</span> os.name == <span class="string">&quot;nt&quot;</span>:</span><br><span class="line">        setWindow()</span><br><span class="line">        welcome()</span><br><span class="line">        path = getPath()</span><br><span class="line">        convert(path)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        welcome()</span><br><span class="line">        path = getPath()</span><br><span class="line">        convert(path)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="更多语言开发参考"><a href="#更多语言开发参考" class="headerlink" title="更多语言开发参考"></a>更多语言开发参考</h2><p>官方文档：<a href="https://tinypng.com/developers/reference/python">https://tinypng.com/developers/reference/python</a></p>
<blockquote>
<p><a href="https://tinypng.com/developers/reference/nodejs">Node.js</a></p>
<p><a href="https://tinypng.com/developers/reference/java">Java</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Code</tag>
      </tags>
  </entry>
  <entry>
    <title>绝美终端：Zsh(安装Oh My Zsh)</title>
    <url>/2020/07/oh-my-zsh/</url>
    <content><![CDATA[<h1 id="绝美终端：Zsh-安装-Oh-My-Zsh"><a href="#绝美终端：Zsh-安装-Oh-My-Zsh" class="headerlink" title="绝美终端：Zsh(安装 Oh My Zsh)"></a>绝美终端：Zsh(安装 Oh My Zsh)</h1><blockquote>
<p>Oh My Zsh is a delightful, open source, community-driven framework for managing your Zsh configuration. It comes bundled with thousands of helpful functions, helpers, plugins, themes, and a few things that make you shout…</p>
<p>“Oh My ZSH!”</p>
</blockquote>
<center><a href="https://ohmyz.sh/">Oh-My-zsh网站</a></center>

<span id="more"></span>

<h2 id="1-Zsh-是什么？"><a href="#1-Zsh-是什么？" class="headerlink" title="1-Zsh 是什么？"></a>1-Zsh 是什么？</h2><p>Z shell（Zsh）是一款可用作交互式登录的 shell 及脚本编写的命令解释器。Zsh 对 Bourne shell 做出了大量改进，同时加入了 Bash、ksh 及 tcsh 的某些功能。</p>
<p>特性包括：</p>
<ul>
<li>可帮助用户键入常用命令选项及参数的可编程命令行补全功能，自带对数百条命令的支持</li>
<li>可与任意 Shell 共享命令历史</li>
<li>可在无需运行外部程序（如 find）的情况下通过 文件扩展匹配文件</li>
<li>改进变量/数组处理方式</li>
<li>在单缓冲区内编辑多行命令</li>
<li>拼写检查</li>
<li>多种兼容模式（例如，Zsh 可在运行为<code>/bin/sh</code>的情况下伪装成 Bourne shell）</li>
<li>可编程的命令行界面，包括将提示行信息显示在屏幕右侧并在输入过长指令时自动隐藏的功能</li>
<li>可加载模块可提供额外支持：完整传输控制协议、Unix 域套接字控制、FTP 客户端及扩展数学函数。</li>
<li>自带<code>where</code>命令，其与<code>which</code>命令类似，但是显示指定于<code>$PATH</code>中所指定指令的全部位置，而不是仅显示所使用指令的位置。</li>
<li>目录名称。此功能可让用户设置快捷方式，（如<code>~mydir</code>，与<code>~</code>及<code>~user</code>的工作方式相似）。</li>
</ul>
<p>我认识 Zsh 是在 macOS 从<strong>bash</strong>转换为<strong>zsh</strong>的时候，最开始是好奇这个 shell/bash/zsh 到底有什么不同：<a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells">终端有什么不同</a>。后来发现了有 Oh My Zsh 的框架，主题倒是非常好看。</p>
<h2 id="2-Oh-My-Zsh-是什么？"><a href="#2-Oh-My-Zsh-是什么？" class="headerlink" title="2-Oh-My-Zsh 是什么？"></a>2-Oh-My-Zsh 是什么？</h2><p><em>Oh My Zsh is an open source, community-driven framework for managing your zsh configuration.</em></p>
<p>Oh My Zsh 是一个开源的、由社区驱动的 zsh 管理框架。</p>
<p><em>Sounds boring. Let’s try again.</em></p>
<p>听起来没什么大不了的，来一起试一试。</p>
<p><em>Oh My Zsh will not make you a 10x developer…but you may feel like one.</em></p>
<p>Oh My Zsh 不能让你变成 10 倍的开发人员，但你很可能有这个感觉。</p>
<p><em>Once installed, your terminal shell will become the talk of the town or your money back! With each keystroke in your command prompt, you’ll take advantage of the hundreds of powerful plugins and beautiful themes. Strangers will come up to you in cafés and ask you, “that is amazing! are you some sort of genius?”</em></p>
<p>当你安装好之后，你的终端界面将成为别人讨论的话题，不信给你钱！在命令提示符中的每次击键操作中，您将利用数百个功能强大的插件和精美的主题。陌生人会到咖啡馆来找你，问你：“这太帅了！你是不是天才？”</p>
<p><em>Finally, you’ll begin to get the sort of attention that you have always felt you deserved. …or maybe you’ll use the time that you’re saving to start flossing more often.</em></p>
<p>最后，你将开始得到你一直以来应该得到的关注……或者你将用省下来的时间多用牙线清洁下牙齿？</p>
<p><strong>简单来说</strong>，Oh My Zsh 就是一个用来管理 zsh 的一个框架，有许多的插件、主题还有庞大的社区支持。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-07-13-22.51.50.png" alt="截屏2020-07-13-22.51.50"></p>
<h2 id="3-Zsh-的安装"><a href="#3-Zsh-的安装" class="headerlink" title="3-Zsh 的安装"></a>3-Zsh 的安装</h2><p>在 macOS 中，新版已经自动把终端设置为 Zsh 了，如果没有，可以通过<a href="https://brew.sh/"><strong>HomeBrew</strong></a>进行安装：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">brew install zsh</span><br></pre></td></tr></table></figure>

<p>苹果官方帮助页面：<a href="https://support.apple.com/zh-cn/HT208050">在 Mac 上将 zsh 用作默认 Shell</a></p>
<hr>
<p>在 Linux 系统中：</p>
<ol>
<li><p>查看内置 shell:</p>
<p><code>cat /etc/shells</code></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-07-13-23.00.57.png" alt="截屏2020-07-13-23.00.57"></p>
</li>
<li><p>用包管理软件进行安装：</p>
<p><code>sudo apt-get install zsh</code></p>
</li>
<li><p>安装 Oh-My-Zsh：</p>
<p><em>通过 curl</em></p>
<p><code>sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</code></p>
<p><em>通过 wget</em></p>
<p><code>sh -c &quot;$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)&quot;</code></p>
<p><strong><code>raw.github.com</code>页面可能被 DNS 污染，国内用户自行解决</strong></p>
</li>
<li><p>安装完成后会自动切换到 Zsh</p>
</li>
</ol>
<h2 id="4-主题配置"><a href="#4-主题配置" class="headerlink" title="4-主题配置"></a>4-主题配置</h2><p>内置了许多、各种各样的主题文件，详见<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">官方 Wiki</a>。</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 修改zsh配置文件</span></span><br><span class="line">nano ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改主题文件指向</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;robbyrussell&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重置Zsh配置</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-07-13-23.11.40.png" alt="截屏2020-07-13-23.11.40"></p>
<p><strong>主题肯定是要自己改改的</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 以robbyrussell主题为例</span></span><br><span class="line">nano ~/.oh-my-zsh/themes/robbyrussell.zsh-theme</span><br></pre></td></tr></table></figure>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-07-13-23.21.23.png" alt="截屏2020-07-13-23.21.23"></p>
<p><strong>主要是前两行</strong>我的配置参考：</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line">PROMPT=<span class="string">&quot;%(?:%&#123;$fg_bold[green]%&#125;➜ :%&#123;$fg_bold[red]%&#125;➜ )&quot;</span></span><br><span class="line">PROMPT+=<span class="string">&quot;%&#123;$fg[red]%&#125;(%T)%&#123;$fg[cyan]%&#125;[%~]$ %&#123;$reset_color%&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>可以自定义修改提示符，其中：</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>%T</td>
<td>系统时间（时：分）</td>
</tr>
<tr>
<td>%*</td>
<td>系统时间（时：分：秒）</td>
</tr>
<tr>
<td>%D</td>
<td>系统日期（年-月-日）</td>
</tr>
<tr>
<td>%n</td>
<td>你的用户名</td>
</tr>
<tr>
<td>%B - %b</td>
<td>开始到结束使用粗体打印</td>
</tr>
<tr>
<td>%U - %u</td>
<td>开始到结束使用下划线打印</td>
</tr>
<tr>
<td>%d</td>
<td>你目前的工作目录</td>
</tr>
<tr>
<td>%~</td>
<td>你目前的工作目录相对于 Home 的相对路径</td>
</tr>
<tr>
<td>%M</td>
<td>计算机的主机名</td>
</tr>
<tr>
<td>%m</td>
<td>计算机的主机名（在第一个句号之前截断）</td>
</tr>
<tr>
<td>%l</td>
<td>你当前的 tty</td>
</tr>
</tbody></table>
<p>效果如下：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-07-13-23.37.49.png" alt="截屏2020-07-13-23.37.49"></p>
<h2 id="5-后记"><a href="#5-后记" class="headerlink" title="5-后记"></a>5-后记</h2><p>本文也算是我自己的一个记录，我比较习惯各个设备上的样式尽可能的保持统一，所以我需要在不同设备上安装 Zsh，并且保持几乎一致的主题配置。</p>
<p>本篇文章可能干货不算很多，建议有兴趣的朋友去官方 wiki 网站查看一下更加详细的主题、插件配置方法。</p>
<p>如果自己写出了很漂亮的主题配置，欢迎下方评论留言一起分享哦～</p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Zsh</tag>
        <tag>Terminal</tag>
        <tag>Console</tag>
      </tags>
  </entry>
  <entry>
    <title>使用Scrcpy连接手机与电脑</title>
    <url>/2020/06/scrcpy/</url>
    <content><![CDATA[<h1 id="使用-Scrcpy-连接手机与电脑"><a href="#使用-Scrcpy-连接手机与电脑" class="headerlink" title="使用 Scrcpy 连接手机与电脑"></a>使用 Scrcpy 连接手机与电脑</h1><blockquote>
<p>要想在电脑上运行手机应用，最多的做法是采用虚拟机，但是有许多应用并不支持 x86 架构，导致了模拟器的应用体验极差。</p>
<p>这样一款应用能够解决这个问题，采用 ADB 连接电脑与你的 Android 手机，并且还能流畅的操控，这就是 Scrcpy。</p>
<p>Scrcpy 是一款开源应用，能够支持在不同平台的电脑上连接和操控 Android 设备。有理由怀疑华为的“多屏协同”也来自于此。</p>
</blockquote>
<span id="more"></span>

<h2 id="1-官方文档"><a href="#1-官方文档" class="headerlink" title="1-官方文档"></a>1-官方文档</h2><p>Scrcpy 在 Github 的项目地址为：<a href="https://github.com/Genymobile/scrcpy">github.com/Genymobile/scrcpy</a></p>
<p>基本的安装和命令在官方文档中已经十分详细，适合有经验的朋友自行摸索，这里提供适合大众阅读的安装和使用介绍。</p>
<h2 id="2-安装"><a href="#2-安装" class="headerlink" title="2-安装"></a>2-安装</h2><blockquote>
<p>本人目前的平台是 macOS，所以配图是 macOS 平台的，其他平台我也会讲述，大体上一致。</p>
</blockquote>
<h3 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h3><p>推荐使用<code>Homebrew</code>进行安装，什么？没有<strong>Homebrew</strong>？</p>
<ul>
<li><p><code>Homebrew</code>的安装：<a href="https://brew.sh/index_zh-cn">官方说明</a></p>
<p>在终端中运行命令：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装完成后，在终端中输入：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装Scrcpy</span></span><br><span class="line">brew install scrcpy</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装ADB</span></span><br><span class="line">brew cask install android-platform-tools</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开你的 Android 设备的<strong>开发者选项</strong>，并打开<strong>USB 调试</strong></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-06-20-17.03.04.png" alt="截屏2020-06-20-17.03.04"></p>
</li>
<li><p>在终端中输入<code>adb devices</code>；adb 将会列出设备，在设备上点击“允许”（一律允许此计算机调试）。</p>
</li>
<li><p>再次输入<code>adb devices</code>；如果一切正常，将会显示：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-06-20-17.10.16.png" alt="截屏2020-06-20-17.10.16"></p>
</li>
<li><p>在终端中输入<code>scrcpy</code>即可连接上你的 Android 设备啦～</p>
</li>
</ul>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>在<a href="https://github.com/Genymobile/scrcpy/releases">Releases 页面</a>下载最新的 zip 格式文件。</p>
<p>解压后在当前目录打开<strong>cmd 或 PowerShell</strong></p>
<p>按照上述命令即可执行。</p>
<h2 id="3-快捷键"><a href="#3-快捷键" class="headerlink" title="3-快捷键"></a>3-快捷键</h2><table>
<thead>
<tr>
<th>动作</th>
<th align="left">Windows 按键</th>
<th align="left">macOS 按键</th>
</tr>
</thead>
<tbody><tr>
<td>Switch fullscreen mode</td>
<td align="left"><code>Ctrl</code>+<code>f</code></td>
<td align="left"><code>Cmd</code>+<code>f</code></td>
</tr>
<tr>
<td>左旋屏幕</td>
<td align="left"><code>Ctrl</code>+<code>←</code> <em>(left)</em></td>
<td align="left"><code>Cmd</code>+<code>←</code> <em>(left)</em></td>
</tr>
<tr>
<td>右旋屏幕</td>
<td align="left"><code>Ctrl</code>+<code>→</code> <em>(right)</em></td>
<td align="left"><code>Cmd</code>+<code>→</code> <em>(right)</em></td>
</tr>
<tr>
<td>屏幕 1:1 显示</td>
<td align="left"><code>Ctrl</code>+<code>g</code></td>
<td align="left"><code>Cmd</code>+<code>g</code></td>
</tr>
<tr>
<td>Resize window to remove black borders</td>
<td align="left"><code>Ctrl</code>+<code>x</code> | <em>Double-click¹</em></td>
<td align="left"><code>Cmd</code>+<code>x</code> | <em>Double-click¹</em></td>
</tr>
<tr>
<td>点击主页键</td>
<td align="left"><code>Ctrl</code>+<code>h</code> | <em>Middle-click</em></td>
<td align="left"><code>Ctrl</code>+<code>h</code> | <em>Middle-click</em></td>
</tr>
<tr>
<td>点击返回键</td>
<td align="left"><code>Ctrl</code>+<code>b</code> | <em>Right-click²</em></td>
<td align="left"><code>Cmd</code>+<code>b</code> | <em>Right-click²</em></td>
</tr>
<tr>
<td>点击应用切换器键</td>
<td align="left"><code>Ctrl</code>+<code>s</code></td>
<td align="left"><code>Cmd</code>+<code>s</code></td>
</tr>
<tr>
<td>点击菜单键</td>
<td align="left"><code>Ctrl</code>+<code>m</code></td>
<td align="left"><code>Ctrl</code>+<code>m</code></td>
</tr>
<tr>
<td>点击音量增加键</td>
<td align="left"><code>Ctrl</code>+<code>↑</code> <em>(up)</em></td>
<td align="left"><code>Cmd</code>+<code>↑</code> <em>(up)</em></td>
</tr>
<tr>
<td>点击音量减少键</td>
<td align="left"><code>Ctrl</code>+<code>↓</code> <em>(down)</em></td>
<td align="left"><code>Cmd</code>+<code>↓</code> <em>(down)</em></td>
</tr>
<tr>
<td>点击电源键</td>
<td align="left"><code>Ctrl</code>+<code>p</code></td>
<td align="left"><code>Cmd</code>+<code>p</code></td>
</tr>
<tr>
<td>开机</td>
<td align="left"><em>Right-click²</em></td>
<td align="left"><em>Right-click²</em></td>
</tr>
<tr>
<td>关闭屏幕并保持投屏</td>
<td align="left"><code>Ctrl</code>+<code>o</code></td>
<td align="left"><code>Cmd</code>+<code>o</code></td>
</tr>
<tr>
<td>开启屏幕</td>
<td align="left"><code>Ctrl</code>+<code>Shift</code>+<code>o</code></td>
<td align="left"><code>Cmd</code>+<code>Shift</code>+<code>o</code></td>
</tr>
<tr>
<td>旋转屏幕方向</td>
<td align="left"><code>Ctrl</code>+<code>r</code></td>
<td align="left"><code>Cmd</code>+<code>r</code></td>
</tr>
<tr>
<td>展开通知面板</td>
<td align="left"><code>Ctrl</code>+<code>n</code></td>
<td align="left"><code>Cmd</code>+<code>n</code></td>
</tr>
<tr>
<td>收起通知面板</td>
<td align="left"><code>Ctrl</code>+<code>Shift</code>+<code>n</code></td>
<td align="left"><code>Cmd</code>+<code>Shift</code>+<code>n</code></td>
</tr>
<tr>
<td>将设备剪贴板拷贝到电脑</td>
<td align="left"><code>Ctrl</code>+<code>c</code></td>
<td align="left"><code>Cmd</code>+<code>c</code></td>
</tr>
<tr>
<td>将电脑剪贴板拷贝到设备</td>
<td align="left"><code>Ctrl</code>+<code>v</code></td>
<td align="left"><code>Cmd</code>+<code>v</code></td>
</tr>
<tr>
<td>将电脑剪贴板拷贝到设备并粘贴</td>
<td align="left"><code>Ctrl</code>+<code>Shift</code>+<code>v</code></td>
<td align="left"><code>Cmd</code>+<code>Shift</code>+<code>v</code></td>
</tr>
<tr>
<td>控制台中开关 FPS 计数</td>
<td align="left"><code>Ctrl</code>+<code>i</code></td>
<td align="left"><code>Cmd</code>+<code>i</code></td>
</tr>
</tbody></table>
<p><em>¹</em>双击黑边可隐藏</p>
<p>²Right-click turns the screen on if it was off, presses BACK otherwise.</p>
<h2 id="4-常用命令"><a href="#4-常用命令" class="headerlink" title="4-常用命令"></a>4-常用命令</h2><p>全部命令请参照<a href="https://github.com/Genymobile/scrcpy/blob/master/README.md">官方文档</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 调整显示分辨率（最宽处）为 1024 pixel</span></span><br><span class="line">scrcpy -m 1024</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调整镜像码率为 2Mbps</span></span><br><span class="line">scrcpy -b 2M</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 限制最大帧率为 30fps</span></span><br><span class="line">scrcpy --max-fps 30</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 锁定屏幕旋转</span></span><br><span class="line">scrcpy --lock-video-orientation 0   # 初始方向</span><br><span class="line">scrcpy --lock-video-orientation 1   # 90° 逆时针</span><br><span class="line">scrcpy --lock-video-orientation 2   # 180°</span><br><span class="line">scrcpy --lock-video-orientation 3   # 90° 顺时针</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 录屏到 rec.mp4</span></span><br><span class="line">scrcpy -r rec.mp4</span><br><span class="line"><span class="meta">#</span><span class="bash"> 停止录屏使用：Ctrl + C</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只投屏，不操作</span></span><br><span class="line">scrcpy -n</span><br></pre></td></tr></table></figure>

<h2 id="5-Enjoy"><a href="#5-Enjoy" class="headerlink" title="5-Enjoy!"></a>5-Enjoy!</h2>]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>note</tag>
      </tags>
  </entry>
  <entry>
    <title>App对你的手机做了什么？</title>
    <url>/2020/06/app%E5%AF%B9%E4%BD%A0%E7%9A%84%E6%89%8B%E6%9C%BA%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88/</url>
    <content><![CDATA[<h1 id="App-对你的手机做了什么？"><a href="#App-对你的手机做了什么？" class="headerlink" title="App 对你的手机做了什么？"></a>App 对你的手机做了什么？</h1><p>前段时间，央视新闻频道播出了一则<a href="http://m.news.cctv.com/2020/06/08/ARTImcAiqsUb3bPRnKMS8nBk200608.shtml"><strong>手机 App 频繁自启动 收集个人隐私触目惊心</strong>的新闻</a>，报告出多款常用的手机 App 在后台有自启动、读取照片文件、读取手机信息和读取定位信息的行为。这则新闻再次引起了很多人的关注。虽然在手机普及的信息时代，信息的互通给大家带来了极大的便利，但是个人的隐私信息是否能够”守得住“需要引起更大关注。</p>
<p>下面我将基于 Android 平台，以开发者的身份深入解析：<strong>App 到底在后台对你的手机做了什么</strong>。</p>
<blockquote>
<p>Android = 安卓</p>
<p>App = 应用</p>
</blockquote>
<center>本文是由Steven Yan原创</center>

<center>转载或引用请注明作者和出处👉<a href="https://ryzenx.com/2020/06/app对你的手机做了什么/">RyzenX.com</a></center>

<span id="more"></span>

<h2 id="1-App-能“偷窥”些什么？"><a href="#1-App-能“偷窥”些什么？" class="headerlink" title="1-App 能“偷窥”些什么？"></a>1-App 能“偷窥”些什么？</h2><p>打开你的安卓手机，进入：<strong>设置-&gt;应用/应用管理/应用设置-&gt;找到你一个常用的 app-&gt;点击 app 图标-&gt;点击“权限/权限管理”</strong>，你就能看到这个 App 向你的手机申请了多少权限。下面将以<strong>微信</strong>为示例，介绍 App 拿到这些权限一般会做什么？</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200611_175752.jpg" style="zoom:50%;" />

<center>这是一张微信的权限示例图</center>

<h3 id="什么是权限？"><a href="#什么是权限？" class="headerlink" title="什么是权限？"></a>什么是权限？</h3><p>在 Google Android 开发者文档中，这样描述<strong>权限(Permissions)</strong></p>
<blockquote>
<p>The purpose of a <em>permission</em> is to protect the privacy of an Android user. Android apps must request permission to access sensitive user data (such as contacts and SMS), as well as certain system features (such as camera and internet). Depending on the feature, the system might grant the permission automatically or might prompt the user to approve the request.</p>
</blockquote>
<p>设置“权限”的目的是为了保护安卓用户的隐私。安卓应用必须先请求用户同意才能获得如“读取通讯录”“读取短信”这样的敏感权限，或者获得某些如“访问相机”和“访问网络“等的系统功能的许可。取决于某些功能特性，系统会默认许可一部分权限或者建议用户同意某些权限请求。</p>
<p>简单来说，手机应用想要读取用户的信息和访问某些功能是需要用户手动同意的。这种“权限”是强制要求应用“先申请，后使用”，目的肯定是想要尽可能把控制权交给用户自己，可是为什么现在的应用都无视这个设置了呢？权限有什么用呢？</p>
<p>谷歌将安卓应用的权限分为三个级别：普通权限(<em>Normal permissions</em>)、签名权限(<em>Signature permissions</em>)、危险权限(<em>Dangerous permissions</em>)。</p>
<ul>
<li>普通权限表示一些不会影响到用户隐私的权限，例如访问互联网、访问网络状态、显示通知等等。</li>
<li>签名权限一般和某些系统应用联动，例如更换桌面图标，就需要桌面启动器提供的权限。</li>
<li>危险权限表示可能影响到设备功能和用户隐私的权限，例如录音录像、访问照片文件、发送短信彩信等等。这类权限几乎都需要用户手动确认。</li>
</ul>
<h3 id="App-会拿这些权限做些什么？"><a href="#App-会拿这些权限做些什么？" class="headerlink" title="App 会拿这些权限做些什么？"></a>App 会拿这些权限做些什么？</h3><p>回到刚刚微信的权限示例截图，来具体分析一下。</p>
<ul>
<li>发送短信/彩信：这一项权限大家应该不陌生，会想大约五年以前，可能你的手机中病毒后第一件事就是“帮”你向运营商订购一大堆“彩铃”“礼包”“游戏充值卡”，由此来获利；而且以前的手机病毒还通过手机短信群发病毒链接，以此来进行传播。那么微信拿它有什么用呢？其实是在你<strong>注册微信/验证微信密保/重置微信密码</strong>时，“帮助”你发送一条校验短信的，当然这条短信可以自己手动发出，所以这项权限——<strong>拒绝</strong></li>
<li>读取联系人/修改联系人：发现微信在给你推荐通讯录好友了吗？是的，微信拿这一项权限就是用来实现这个功能的。当然我们可以猜测，微信可能会利用你的通讯录实现信息联网，如果你并不需要推荐手机通讯录微信好友的功能，那么建议——<strong>拒绝</strong></li>
<li>定位：不必多说，在你向好友共享位置的时候就会用到它，如果你不想时时刻刻让微信了解你的行踪，在 Android 10 及以上的系统中，可以选择——<strong>仅在使用过程中允许</strong></li>
<li>获取手机信息/获取应用列表/访问手机账户：这一般是为了让应用识别你的登陆手机是否是常用手机，避免盗号风险，不过还是那句话，你也不知道应用会在后台拿你的数据干嘛。获取手机信息——<strong>允许</strong>；获取应用列表/访问手机账户——<strong>拒绝</strong></li>
<li>相机/录音：这两个是最容易出现隐私泄露风险的，但是你也不得不允许的权限。你想在朋友圈分享小视频，你需要允许微信访问相机；你想给好友发送语音，你需要允许微信录音。所以为了不牺牲功能还是选择——<strong>允许</strong></li>
<li>读写手机存储：这是一项非常有争议的功能，想了解详细的说明请<strong>继续阅读</strong>。你只需要知道，本来你不需要给这个权限你也能正常使用，但是你不得不给这个权限。我们妥协吧，选择——<strong>允许</strong></li>
<li>“设置相关”：这些权限可以按照需求开启，一般允许<strong>显示悬浮窗</strong>和<strong>常驻通知</strong>，因为这两个权限在屏幕上都能看得到的，而且不会对隐私有关。所以按照需求可以——<strong>选择性开启</strong></li>
</ul>
<h2 id="2-App-为什么能拖慢手机运行速度？"><a href="#2-App-为什么能拖慢手机运行速度？" class="headerlink" title="2-App 为什么能拖慢手机运行速度？"></a>2-App 为什么能拖慢手机运行速度？</h2><p>App 运行的时候会占用系统资源，这我们都知道，但是为什么我没有用这些 App 的时候，手机还是很卡顿、耗电还是很高？</p>
<p>这就牵扯到应用在安卓系统中的一项功能——<strong>自启动</strong></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/ysxw-2020-06-11-1.png" alt="ysxw-2020-06-11-1"></p>
<p><strong>自启动</strong>本身并不是一个坏东西，你的手机电脑启动的时候，就会自动启动一些系统应用：启动桌面应用，这样你才能看到应用图标；启动设置，这样你的手机才能自动连接上无线网络和蓝牙。也就是说，合理利用“自启动”这个功能是能够方便用户的使用的，但是错就错在很多应用<strong>滥用</strong>了“自启动”功能。</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>自启动可以按照启动对象分为：<strong>系统唤醒</strong>和<strong>关联唤醒</strong></p>
<h4 id="系统唤醒"><a href="#系统唤醒" class="headerlink" title="系统唤醒"></a>系统唤醒</h4><p>系统自启动是使用了 Android 提供的：Broadcast 系统广播和 Receiver 广播接收类来完成的。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/boardcast.actions.png" alt="boardcast.actions"></p>
<center>Android 9广播通知多达219种</center>

<p>系统广播可以说是知无不言，可以理解为安卓系统对着所有 App 用大喇叭喊道：</p>
<ul>
<li>我开机啦！</li>
<li>我在充电啦！</li>
<li>我充电完成啦！</li>
<li>我连接上网络啦！</li>
<li>我的下载任务完成啦！</li>
<li>我安装好应用啦！</li>
<li>…………</li>
</ul>
<p>那么既然系统都这么喊了，我应用是不是应该做点什么？于是应用就添加了相应行为(<em>action</em>)的接收器，当应用一旦接收到系统的广播，就会开始执行自启动，这就是为什么你没有点击应用图标，应用却还能照常运行。</p>
<p>示例 MyBroadcastReceiver.java 代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBroadcastReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_BOOT = <span class="string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_SCREEN_ON = <span class="string">&quot;android.intent.ACTION_SCREEN_ON&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_SCREEN_OFF = <span class="string">&quot;android.intent.ACTION_SCREEN_OFF&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_CONNECTION_CHANGED = <span class="string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_WIFI_CHANGED = <span class="string">&quot;android.net.wifi.WIFI_STATE_CHANGED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_ADDED_APP = <span class="string">&quot;android.intent.action.PACKAGE_ADDED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_REMOVED_APP = <span class="string">&quot;android.intent.action.PACKAGE_REMOVED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_MEDIA_MOUNTED = <span class="string">&quot;android.intent.action.MEDIA_MOUNTED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_MEDIA_REMOVED = <span class="string">&quot;android.intent.action.MEDIA_REMOVED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_POWER_CON = <span class="string">&quot;android.intent.action.ACTION_POWER_CONNECTED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_POWER_DISCON = <span class="string">&quot;android.intent.action.ACTION_POWER_DISCONNECTED&quot;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String ACTION_WALLPAPER_CHANGED = <span class="string">&quot;android.intent.action.WALLPAPER_CHANGED&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (intent.getAction().equals(ACTION_BOOT))&#123;</span><br><span class="line">            TipsUtils.notify(context, <span class="string">&quot;开机完成&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_SCREEN_ON)) &#123;</span><br><span class="line">            TipsUtils.notify(context, <span class="string">&quot;屏幕打开&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_ADDED_APP)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已安装应用&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_REMOVED_APP)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已卸载应用&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_WIFI_CHANGED)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;WiFi连接变化&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_CONNECTION_CHANGED)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;网络连接变化&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_MEDIA_MOUNTED)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已挂载存储介质&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(intent.getAction().equals(ACTION_MEDIA_REMOVED)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已移除存储介质&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_POWER_CON)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已连接电源&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_POWER_DISCON)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已断开电源&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (intent.getAction().equals(ACTION_WALLPAPER_CHANGED)) &#123;</span><br><span class="line">            TipsUtils.notify(context,<span class="string">&quot;已更换壁纸&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="关联唤醒"><a href="#关联唤醒" class="headerlink" title="关联唤醒"></a>关联唤醒</h4><p>顾名思义，关联启动就是已经运行的应用去启动其他应用的行为，要是说现在的定制安卓系统能够防止系统唤醒，可是关联唤醒可是不那么容易防止的。因为很多时候关联唤醒的必要的，比如你想在”图库”中分享图片到”QQ”，那么图库就必须唤醒 QQ，你想在”淘宝”中支付，淘宝就必须唤醒支付宝。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/zfb-被关联启动.png" alt="zfb-被关联启动" style="zoom:50%;" />

<center>在某手机管家中显示支付宝被关联启动的情况</center>

<p>Android 操作系统启动就是上文说的“系统唤醒”；</p>
<p>手机淘宝想要启动支付宝付款我知道，还有那么多奇奇怪怪的应用，干嘛要启动支付宝？</p>
<p>其实并不是应用要主动启动支付宝，故意拖慢你手机速度。实际上是其他应用使用了支付宝的 SDK，也就是内嵌了支付宝的一部分用来方便用户通过支付宝支付。但是其他应用没办法控制 SDK 的行为，这相当于霸王条款：你想用我的功能，就别管我做什么。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/ysxw-2020-06-11-2.png" alt="ysxw-2020-06-11-2"></p>
<p>除了阿里系的 SDK，还有腾讯系的 SDK、百度系的 SDK、头条系的 SDK 等等，很多应用都使用了这些 SDK 来便捷化应用的开发。比如我想实现地图导航，采取高德地图的 SDK 就可以，不需要开发者自己去设计地图、设计路线，但是这个高德地图 SDK 具体除了实现地图导航，还要干些什么，那开发者也是不得而知的。</p>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>App 想要自启动，在后台一直运行的目的其实挺复杂。</p>
<p>往好的方面说：你可以及时收到消息，能够在应用间更加流畅的使用不同的功能；</p>
<p>往坏的方面说：应用在后台收集你的数据，用来实现用户画像或者干脆直接出售。</p>
<h2 id="3-App-做的这些事情有必要吗？"><a href="#3-App-做的这些事情有必要吗？" class="headerlink" title="3-App 做的这些事情有必要吗？"></a>3-App 做的这些事情有必要吗？</h2><p>很明确的说：<strong>大多数是没必要的</strong></p>
<p>也就是说，很多权限不给应用，应用不需要后台自启动，你的使用上不会有任何影响。</p>
<p>就拿上文说的<strong>读写手机存储</strong>，对于大多数应用来说，根本不需要这一项权限，但是事实上大多数应用都会向你请求这一权限，<strong>不允许还没法用！</strong>应用会给出各种各样的理由：不给权限没办法保存图片；不给权限您不能上传图片；不给权限您不能下载音乐……</p>
<p>事实：</p>
<p>想要访问相册？安卓提供了通过“图库”应用获得你图片的方法，你可以选择图片或者视频，应用也只能读取到你所选择的图片，给予应用<strong>读写手机存储</strong>的权限之后，它能够读取你<strong>所有</strong>的照片。</p>
<p>没法保存数据？安卓为应用在存储中专门划分了独立的存储空间，就在<code>Android/data</code>中，按照应用分成文件夹，互不干扰不杂乱，给予应用<strong>读写手机存储</strong>的权限后，应用想保存在哪里就保存在哪里，想创建多少个文件夹就创建多少个文件夹，垃圾数据想存多少就存多少，而且卸载了应用还是不能完全删除。</p>
<p>想要发送通知？GMS 提供了统一的通知发送 API，应用不需要持续运行也能发送通知。没有 GMS？国内也有统一通知平台，比如 MiPush。</p>
<p>本来能够通过官方的渠道实现某一项功能，反而大费周章想你索取权限，这些 App 的目的实在让人琢磨不透。</p>
<h2 id="4-国内-App-乱象"><a href="#4-国内-App-乱象" class="headerlink" title="4-国内 App 乱象"></a>4-国内 App 乱象</h2><p>很有意思的是，网络上那些最“讨厌”的 App，往往是大家常用的国产 App。反而国外的 App 十分“乖巧”。</p>
<p>而且国内的 App 功能相当复杂：购物、聊天、直播、新闻、小视频……结果就是<strong>App 容量大幅增大</strong>，你是否已经习惯了只用来支付的支付宝占用 270MB 的容量？是否习惯了只用来聊天看朋友圈的微信占用 530MB 的容量？你是否习惯了网络购物的淘宝占用 430MB 的容量？</p>
<p>曾几何时，内存 1GB 不卡、2GB 流畅、4GB 全能；存储空间 8GB 够用、16GB 随心、32GB 海量。而现在的国产手机高配版直接内存 12GB、存储高达 512GB，甚至内存低于 6GB 就会被认为太小无法流畅运行。</p>
<p>几年之前诺基亚手机回归，诺基亚为中国市场推出的 8GB 大内存版本的做法不知是喜是忧。要知道除了不能打电话其他啥都能干的 Windows，仅仅 2GB 的内存就能运行，4GB 内存就能流畅运行办公软件；而现在手机的内存和存储容量，比大多数普通笔记本电脑还要大。但是你依然会觉得卡顿。</p>
<p>要知道在印度，很多人的手机内存还只有 2GB，存储空间也才仅仅 16GB，然而他们跟我们享受着同一个互联网生活：网购、发照片、导航、直播……</p>
<p><strong>应该反思这究竟是我们的软件厂商“技术很好”还是“技术很差”？</strong></p>
<h2 id="5-我想做手机的主人？"><a href="#5-我想做手机的主人？" class="headerlink" title="5-我想做手机的主人？"></a>5-我想做手机的主人？</h2><p>很抱歉，目前甚至之后的很多年，国内安卓圈依然会保持这样一个乱象，App 为了抢占你手机的隐私数据费劲心机。一方面是国家没有针对性的法律条文，一方面是互联网公司的利益驱使。</p>
<p>最近，小米和华为都主动向应用的“流氓”行为作出了行动，MIUI 和 EMUI 内置的权限管理能够显示 App 的后台行为，并且制止其读取用户隐私数据。可以说开了一个好头，我也希望能有更多的厂商能够加入，尽快实现安卓手机 App 的法律化、规范化、合理化。</p>
<p>当然，如果你现在实在受不了 App 采集你的隐私，可以换用 iPhone。iOS 生态圈的应用将会严格进行审核，几乎没有上述的问题：不会不经允许读取个人信息，不会后台占用，不会产生垃圾数据……</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>公众号文章</tag>
      </tags>
  </entry>
  <entry>
    <title>git忽略文件换行/回车符和权限</title>
    <url>/2020/06/git-ignore-crlf/</url>
    <content><![CDATA[<h1 id="git-忽略换行符和权限变化"><a href="#git-忽略换行符和权限变化" class="headerlink" title="git 忽略换行符和权限变化"></a>git 忽略换行符和权限变化</h1><blockquote>
<p>由于我经常在多平台写代码，Windows/macOS/Linux，每个系统的换行符又不一样，导致git提交的时候会由一大堆的变化，当然这些变化都是没必要的。故在此备忘。</p>
</blockquote>
<span id="more"></span>



<h2 id="1-什么是换行符"><a href="#1-什么是换行符" class="headerlink" title="1-什么是换行符"></a>1-什么是换行符</h2><p><code>&quot;\r&quot;</code>是回车：使光标到行首（carriage return）</p>
<p><code>&quot;\n&quot;</code>是换行：使光标下移一格（line feed）</p>
<p><code>\r</code> 是回车（return）</p>
<p><code>\n</code> 是换行，（newline）</p>
<p>对于换行这个动作，unix下一般只有一个0x0A表示换行(“\n”），Windows下一般都是0x0D和0x0A两个字符(“\r\n”)，macOS则采用回车符CR表示下一行(\r)，Unix系统里，每行结尾只有“&lt;换行&gt;”，即“\n”；Windows系统里面，每行结尾是“&lt;回车&gt;&lt;换行&gt;”，即“\r\n”；Mac系统里，每行结尾是“&lt;回车&gt;”,即“\r”。</p>
<p>windows采用回车+换行CR/LF表示下一行,即^M$ </p>
<h2 id="2-git如何忽略"><a href="#2-git如何忽略" class="headerlink" title="2-git如何忽略"></a>2-git如何忽略</h2><ul>
<li><p>忽略换行符：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf false</span><br><span class="line">git config --global core.safecrlf true</span><br></pre></td></tr></table></figure>
</li>
<li><p>忽略权限变化：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global core.filemode false</span><br></pre></td></tr></table></figure>





</li>
</ul>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Fiil CC 半入耳式蓝牙无线耳机开箱</title>
    <url>/2020/06/fiil-cc/</url>
    <content><![CDATA[<h1 id="Fill-CC-蓝牙无线耳机开箱"><a href="#Fill-CC-蓝牙无线耳机开箱" class="headerlink" title="Fill CC 蓝牙无线耳机开箱"></a>Fill CC 蓝牙无线耳机开箱</h1><blockquote>
<p>FIIL 耳机是摇滚音乐人汪峰亲自参与创立的耳机品牌，中文名斐耳。这是一个生造的英文词，是“fill”和“feel”的谐音联合体。</p>
<p>这款耳机最吸引我的一点是它的外观设计，在市场上无数果味的蓝牙真无线耳机之中显得十分的好看。</p>
<p>毕竟想要摆脱果味实在太难了( ´▽ ｀)</p>
</blockquote>
<span id="more"></span>

<h2 id="1-开箱"><a href="#1-开箱" class="headerlink" title="1-开箱"></a>1-开箱</h2><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200605_103150.jpg" style="zoom:50%;" />

<center>包装正面</center>

<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200605_103157.jpg" style="zoom:50%;" />

<center>包装背面</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200605_103308.jpg" alt=""></p>
<center>全部内容物品</center>

<p>包含<strong>耳机一对</strong>、<strong>充电盒一个</strong>、<strong>快速入门卡片</strong>、<strong>说明书</strong>、<strong>USB-C 充电线</strong>。</p>
<h2 id="2-外观"><a href="#2-外观" class="headerlink" title="2-外观"></a>2-外观</h2><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/20200326162313_96.jpg" style="zoom:67%;" />

<p>不同于市面上一堆一堆的果味无线耳机，这款耳机的外观着实不错。四周为磨砂质感的金属外壳，正面开了一个窗口，能够方便地使用拇指推出耳机；底面为 USB-C 接口，没有用 Micro-USB 实在是很棒。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200605_172201.jpg" style="zoom: 50%;" />

<p>耳机主体为圆角四棱柱，十分具有特色；半入耳式的耳机头是 EarPods 的设计，十分适合大部分人的佩戴，而且也不容易掉落。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200605_105403.jpg" style="zoom:50%;" />

<h2 id="3-功能"><a href="#3-功能" class="headerlink" title="3-功能"></a>3-功能</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-06-05%2017.32.53.png" alt=""></p>
<ul>
<li><p>这款耳机采用<strong>Bluetooth 5.0</strong>技术，能够有更好的传输带宽和更快的连接速度。</p>
</li>
<li><p>在小米 10 青春版中实测能够支持 AAC 格式的无线音频传输。</p>
</li>
<li><p>支持低延迟模式（<a href="#4-App功能">App 中调节</a>）有音乐模式（更好的音质）、视频模式（音质和延迟均衡）、游戏模式（低延时｜牺牲音质）。</p>
</li>
<li><p>ENC 通话降噪。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-06-05%2017.37.16.png" alt=""></p>
</li>
<li><p>触控功能（<a href="#4-App功能">App 中调节</a>）。</p>
</li>
<li><p>定制的 13.1mm 动圈，据说音质很不错，我不是追求音质党，所以感知不强。</p>
</li>
<li><p>单耳机可听歌 3 小时，充电盒支持额外充电 4 次。</p>
</li>
</ul>
<h2 id="4-App-功能"><a href="#4-App-功能" class="headerlink" title="4-App 功能"></a>4-App 功能</h2><p>FIIL 耳机还有一个适配的移动端 App，功能还是很齐全。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2020-06-05-10-56-14-272_com.fengeek.f0.jpg" alt=""></p>
<p>此外，还提供服务功能。内置“煲机”功能和音乐播放器。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2020-06-05-10-56-51-036_com.fengeek.f0.jpg" alt=""></p>
<h2 id="5-简单体验"><a href="#5-简单体验" class="headerlink" title="5-简单体验"></a>5-简单体验</h2><h3 id="5-1-舒适度"><a href="#5-1-舒适度" class="headerlink" title="5-1-舒适度"></a>5-1-舒适度</h3><p>单耳机只有 4g，而且很适合我的耳朵，几乎能做到和 AirPods 相似的“无感”体验。但是耳机主体部分比较宽，侧卧时还是不是很舒服，有点压耳。</p>
<h3 id="5-2-操作"><a href="#5-2-操作" class="headerlink" title="5-2-操作"></a>5-2-操作</h3><p>由于耳机的充电盒采用了无盖式设计，所以有甩动导致耳机调出的问题，不过一般情况还是不容易掉出啦。</p>
<p>相比于其他耳机打开耳机一个一个拿出来，这样的设计能够实现拇指同时推出的动作，还是方便了不少。</p>
<p>虽然耳机支持“全能操控模式”但是单击操作还是容易误触，一般情况我没有开启，在长时间听歌的时候（出行、运动）打开“全能操控模式”能够方便进行歌曲切换和音量调节功能。</p>
<h3 id="5-3-聆听效果"><a href="#5-3-聆听效果" class="headerlink" title="5-3-聆听效果"></a>5-3-聆听效果</h3><p>连接速度还是很快，几乎是秒连接了。在 App 中可以调节 EQ 效果，聆听效果还是很明显变化。</p>
<p>耳机延迟测试没有试过，据说能降低 70ms 的延迟。</p>
<h2 id="6-值不值得买？"><a href="#6-值不值得买？" class="headerlink" title="6-值不值得买？"></a>6-值不值得买？</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/%E6%88%AA%E5%B1%8F2020-06-05%2018.05.27.png" alt=""></p>
<p>官网售价 ¥399，618 活动价格 ¥349。总体来说功能还是非常全面，主要是外形设计就很棒。</p>
<p>如果特别想要个别功能：低延迟、好音质、长续航，这个价位还是有很多选择。</p>
<p>如果对特别功能没有什么需求，这款别样的外观的真无线蓝牙耳机就很合适。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>开箱</tag>
        <tag>蓝牙耳机</tag>
      </tags>
  </entry>
  <entry>
    <title>JS声明函数的三种方式</title>
    <url>/2020/06/js-create-function/</url>
    <content><![CDATA[<h1 id="JavaScript-声明函数"><a href="#JavaScript-声明函数" class="headerlink" title="JavaScript 声明函数"></a>JavaScript 声明函数</h1><blockquote>
<p>2022-01-10 更新</p>
</blockquote>
<span id="more"></span>

<h2 id="1-函数声明"><a href="#1-函数声明" class="headerlink" title="1. 函数声明"></a>1. 函数声明</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函数式声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">args</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/* function body */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数声明创建了一个变量，在当前作用域，这个变量就是函数的名称，而且是一个函数对象。这个函数变量存在变量提升，它会提到当前作用域的顶部，也就是说，在函数声明之前可以调用。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(foo);</span><br><span class="line"><span class="comment">// -&gt; [Function: foo]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>注意，这种函数声明并不能覆盖已声明的变量。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="string">&quot;string&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fn);</span><br><span class="line"><span class="comment">// -&gt; string</span></span><br></pre></td></tr></table></figure>



<h2 id="2-函数表达式"><a href="#2-函数表达式" class="headerlink" title="2. 函数表达式"></a>2. 函数表达式</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表达式声明</span></span><br><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/* function body */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>函数表达式创建了一个函数对象。</p>
<h2 id="3-箭头函数"><a href="#3-箭头函数" class="headerlink" title="3. 箭头函数"></a>3. 箭头函数</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="params">arg</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">/* function body */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>箭头函数不创建自己的上下文，<code>this</code>指向上文中的<code>this</code>。箭头函数是匿名函数。</p>
<h2 id="4-构造函数"><a href="#4-构造函数" class="headerlink" title="4. 构造函数"></a>4. 构造函数</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用Funcion构造函数</span></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;arg1&quot;</span>, <span class="string">&quot;arg2&quot;</span>, <span class="string">&quot;return arg1 + arg2&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(baz(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// -&gt; 3</span></span><br></pre></td></tr></table></figure>

<p>这种方式创建的函数不能访问当前的作用域，因为没办法创建闭包。他们总是在全局作用域内创建的。</p>
<p>可以通过这种方式获得浏览器全局对象：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">	&#x27;use strict&#x27;</span>;</span><br><span class="line">4<span class="keyword">var</span> <span class="built_in">global</span> = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&#x27;return this&#x27;</span>)();</span><br><span class="line">4<span class="built_in">console</span>.log(<span class="built_in">global</span> == <span class="built_in">window</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure>





<hr>
<h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><p>　　foobar广泛用在示例代码中是怎么回事呢？foobar相信大家都很熟悉，但是foobar广泛用在示例代码中是怎么回事呢，下面就让小编带大家一起了解吧。<br>　　foobar广泛用在示例代码中，其实就是foobar就如同中文的张三李四，大家可能会很惊讶foobar怎么会广泛用在示例代码中呢？但事实就是这样，小编也感到非常惊讶。<br>　　这就是关于foobar广泛用在示例代码中的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！</p>
<p>常见的代称有：</p>
<ul>
<li><p><code>foobar</code>：常常单独使用，如同中文中“某某”</p>
</li>
<li><p><code>foo</code>：如同“张三”</p>
</li>
<li><p><code>bar</code>：如同“李四”</p>
</li>
<li><p><code>baz</code>：如同“王五”</p>
</li>
<li><p><code>qux</code>：如同“赵六”</p>
</li>
</ul>
<p>参考<a href="https://cloud.tencent.com/developer/article/1360988">文章</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL在macOS上的安装</title>
    <url>/2020/05/install-mysql-on-macOS/</url>
    <content><![CDATA[<h1 id="MySQL-在-macOS-上的安装"><a href="#MySQL-在-macOS-上的安装" class="headerlink" title="MySQL 在 macOS 上的安装"></a>MySQL 在 macOS 上的安装</h1><blockquote>
<p>System version: macOS Catalina 10.15.5</p>
<p>MySQL cersion: 8.0.20</p>
<p>MySQL offical download site: <a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p>
</blockquote>
<span id="more"></span>

<h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1-安装"></a>1-安装</h2><p>前往 MySQL 的官方网站下载安装 MySQL Community Server（免费版）</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/20200531185157.png" alt=""></p>
<p>选择<code>DMG Archive</code>或者<code>Compressed TAR Archive</code>均可。这里选择 dmg 格式的包。</p>
<p>下载，打开压缩包，双击运行<strong>pkg</strong>安装包。</p>
<p>如果出现“无法验证开发者”的情况，前往<code>系统偏好设置-&gt;安全性与隐私-&gt;通用-&gt;仍要打开</code></p>
<p>之后按照提示下一步。</p>
<p>最后安装完成需要你设置 root 用户的密码，自行设置密码后牢记。</p>
<p>建议安装后选择<strong>自动启动 MySQL Server 服务</strong>，否则请按照<a href="#3-启动与停止">启动与停止</a>启动服务。</p>
<h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2-使用"></a>2-使用</h2><p>如果你在 Mac 上的<strong>终端</strong>上输入<code>mysql</code>后提示<code>command not found</code>，那么请这样做：</p>
<ul>
<li>打开终端</li>
<li>切换目录：<code>cd /usr/local/bin</code></li>
<li>设置软链：<code>ln -fs /usr/local/mysql/bin/mysql mysql</code></li>
<li>完成。只需要在终端中输入：<code>mysql -u root -p</code>即可使用 MySQL。</li>
</ul>
<h2 id="3-启动与停止"><a href="#3-启动与停止" class="headerlink" title="3-启动与停止"></a>3-启动与停止</h2><h3 id="启动："><a href="#启动：" class="headerlink" title="启动："></a>启动：</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo /usr/local/MySQL/support-files/mysql.server start</span><br></pre></td></tr></table></figure>

<h3 id="停止："><a href="#停止：" class="headerlink" title="停止："></a>停止：</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo /usr/local/mysql/support-files/mysql.server stop</span><br></pre></td></tr></table></figure>

<h3 id="重启："><a href="#重启：" class="headerlink" title="重启："></a>重启：</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo /usr/local/mysql/support-files/mysql.server restart</span><br></pre></td></tr></table></figure>

<h3 id="通过系统偏好设置："><a href="#通过系统偏好设置：" class="headerlink" title="通过系统偏好设置："></a>通过系统偏好设置：</h3><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/20200531190500.png" alt=""></p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome 十个高效扩展程序</title>
    <url>/2020/05/Chrome-10-extensions/</url>
    <content><![CDATA[<h1 id="Chrome-十个高效扩展程序"><a href="#Chrome-十个高效扩展程序" class="headerlink" title="Chrome 十个高效扩展程序"></a>Chrome 十个高效扩展程序</h1><blockquote>
<p>Google Chrome 能一越成为浏览器的霸主，不仅仅是其优秀的渲染引擎 Blink 和高效的脚本引擎 V8，更因为是其拥有丰富的扩展插件，为浏览器开启了更多的功能。</p>
</blockquote>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/chrome_img_1.png" style="zoom:50%;" />

<p>下面，将介绍 10 个扩展 chrome 浏览器功能的扩展程序，它们都可以在<strong>Chrome 网上商店找到</strong>。</p>
<span id="more"></span>

<h2 id="1-Google-Translate-谷歌翻译"><a href="#1-Google-Translate-谷歌翻译" class="headerlink" title="1. Google Translate 谷歌翻译"></a>1. Google Translate 谷歌翻译</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517210754274.png" alt=""></p>
<p>众所周知，Chrome 的“传统艺能”就是有内置的 Google Translate，可以帮你翻译整个网页，这一点使得 Chrome 成为研究人士、在校学生和老师的首选浏览器。既然 Chrome 内置了网页翻译，为什么我还要再推荐一次谷歌翻译扩展程序呢？</p>
<p>网页整页翻译经常会出现：翻译不连贯、专有名词错误、排版错误、翻译结果“过于机械”的问题，特别是在学术性、专业性的网页上。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517210943296.png" alt=""></p>
<p>而扩展版谷歌翻译，你可以在网页上选择一句话、一个词语，然后点击悬浮在鼠标上方的谷歌翻译图标、或者右键选择谷歌翻译、又或者点击菜单栏中的谷歌翻译图标，谷歌翻译就会告诉你这句话或者这个词语的意思，还能达到学习外语的辅助作用。</p>
<h2 id="2-Video-Speed-Controller-视频速度控制器"><a href="#2-Video-Speed-Controller-视频速度控制器" class="headerlink" title="2. Video Speed Controller 视频速度控制器"></a>2. Video Speed Controller 视频速度控制器</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211058955.png" alt=""></p>
<p>这个扩展程序即可帮你对视频进行倍数播放，虽然日常用得不多，但是我们都知道，有些时候可缺少不得。</p>
<p><em>16 倍速刷完视频课，太爽啦～</em></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211315221.png" alt=""></p>
<p>而这个扩展程序的功能设置项也很丰富，可以自定义一档的间隔、静音、设置关键点等，它会在识别到视频之后在视频的左上角显示一个半透明的控制按钮，经过测试最高可以到 16 倍速。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211355988.png" alt=""></p>
<p>需要注意的是，这个扩展只能调整 HTML5 的视频，不能调整 Flash 视频。</p>
<h2 id="3-DownThemAll-全部下载！"><a href="#3-DownThemAll-全部下载！" class="headerlink" title="3. DownThemAll! 全部下载！"></a>3. DownThemAll! 全部下载！</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211439471.png" alt=""></p>
<p>听名字就知道，这是一个能够下载页面上资源文件的一个扩展。虽然在调试控制台的<strong>source</strong>中可以找到这些资源文件，但是这个扩展显然对普通用户更加友好。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211729525.png" alt=""></p>
<p>你只需要在菜单栏点击 DownThemAll! 即可检测所有的资源文件，并按照类型进行分类，同时支持正则表达式进行筛选。</p>
<p>当然了，现在的网站对自己网站的资源文件可谓是层层防护加密；所以对于有些资源文件，这个扩展可能没有办法检测到了。</p>
<h2 id="4-Color-Picker-颜色拾取器"><a href="#4-Color-Picker-颜色拾取器" class="headerlink" title="4. Color Picker 颜色拾取器"></a>4. Color Picker 颜色拾取器</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211824062.png" alt=""></p>
<p>现在的网页设计是越来越漂亮了，想取一下网页的某个颜色，就可以尝试用这个扩展插件。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211923968.png" alt=""></p>
<p>安装它后，你可以在菜单栏找到它，点击它再点击<strong>Pick color from web page</strong>，你的光标下方就会会出现一个小方框，里面是当前像素的颜色，而网页的右下方将出现一个颜色提示框，会为你自动转换成<strong>网页十六进制颜色、RGB 颜色</strong>代码。还不够？</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517211954497.png" alt=""></p>
<p>点击你想要选择的颜色之后，扩展插件会自动帮你保存，点击菜单栏的 Color Picker 图标，在<strong>Selected color</strong>下就有多种格式的颜色代码，复制后即可使用。</p>
<h2 id="5-What-The-Font-什么字体"><a href="#5-What-The-Font-什么字体" class="headerlink" title="5. What The Font 什么字体"></a>5. What The Font 什么字体</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212057444.png" alt=""></p>
<p>这也是一个设计师喜欢的扩展，现在很多网站都会自定义字体，使用这个扩展即可自动为你从网页源代码中提取字体名称。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212211717.png" alt=""></p>
<p>这也算是个平常用不着，需要的时候又不可或缺的扩展。</p>
<h2 id="6-Whatruns-什么在运行"><a href="#6-Whatruns-什么在运行" class="headerlink" title="6. Whatruns 什么在运行"></a>6. Whatruns 什么在运行</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212332165.png" alt=""></p>
<p>这个扩展程序则是前段设计师最喜欢的，它会帮你分析支持网页所运行的：<strong>CDN / 框架 / 跟踪器 / 字体 / 通信服务 /脚本 / 插件 等等</strong>。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212258428.png" alt=""></p>
<p>你需要做的只是在网页正常加载之后，点击工具栏的 Whatruns 图标。</p>
<h2 id="7-FireShot-网页截图"><a href="#7-FireShot-网页截图" class="headerlink" title="7. FireShot 网页截图"></a>7. FireShot 网页截图</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212429589.png" alt=""></p>
<p>FireShot 算是在 Chrome 扩展中非常闻名的扩展插件了，虽然现在系统都内置了屏幕截图，但是这个扩展插件在网页截图上仍然难以替代。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212615349.png" alt=""></p>
<p>FireShot 支持三种截图方式：<strong>捕捉选定区域、捕捉整个页面、捕捉可见部分</strong>；对截图可以进行：<strong>另存为图片、另存为 PDF、Email 发送、复制到剪贴板和打印</strong>。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212556253.png" alt=""></p>
<p><strong>捕捉整个页面</strong>是特色功能，点击后它会帮助你直接完整截图整个网页，这是大多数系统内置的截图功能无法实现的功能。</p>
<h2 id="8-OneTab-标签页集合"><a href="#8-OneTab-标签页集合" class="headerlink" title="8. OneTab 标签页集合"></a>8. OneTab 标签页集合</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212705539.png" alt=""></p>
<p>在很多情况下，我们需要打开很多标签页，进行资料的对比和收集整理。多标签页的 Chrome 就是个“内存猛兽”分分钟占用完你的 64GB 海量内存，但是有的标签页又需要留着备用。那么这个 OneTab 就能拯救你的 Chrome 内存。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212801229.png" alt=""></p>
<p>首先，右键固定你必须要用的标签页；在菜单栏中点击 OneTab，它会帮你把你暂时不需要的页面集合到一个页面中；你需要打开时，只需要在 OneTab 页面中点击即可。</p>
<h2 id="9-Tab-Resize-标签页分屏"><a href="#9-Tab-Resize-标签页分屏" class="headerlink" title="9. Tab Resize 标签页分屏"></a>9. Tab Resize 标签页分屏</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212859294.png" alt=""></p>
<p>如果你喜欢上一个 OneTab 扩展，那么这个 Tab Resize 也绝对很适合你。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517212928211.png" alt=""></p>
<p>Tab Resize 会自动新建页面将 Chrome 分屏，预设的有：<strong>2x2 / 2x1 / 1x2 / 1x1</strong>，当然你也可以自定义行列分屏个数。在大屏电脑上能够方便地在各个常用页面进行浏览和对比。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517213015476.png" alt=""></p>
<p>这个扩展在<strong>macOS / Linux</strong>系统上尤为好用，因为 macOS/Linux 还没有像 Windows 平台那样方便好用的窗口管理。</p>
<h2 id="10-Tampermonkey-油猴"><a href="#10-Tampermonkey-油猴" class="headerlink" title="10. Tampermonkey 油猴"></a>10. Tampermonkey 油猴</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517213317089.png" alt=""></p>
<p>最后一定要来一个重磅扩展插件，Tampermonkey，习惯叫它油猴，是一个能够自定义运行浏览器 UserScript 的扩展。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517213405731.png" alt=""></p>
<p>油猴的强大之处不是它本身能干什么，而是借助它，你能做各种各样的事，因为它本身只是一个运行平台，你需要自己往其中添加脚本。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200517213447136.png" alt=""></p>
<p>你可以：</p>
<ul>
<li>屏蔽广告</li>
<li>破除网页复制限制</li>
<li>提取网页视频文件</li>
<li>电商平台自动比价</li>
<li>…………</li>
</ul>
<p>它有大量的活跃脚本开发者，创造了各种各样的 UserScript，油猴就是 Chrome 的百宝箱。</p>
<h2 id="EFO"><a href="#EFO" class="headerlink" title="EFO"></a>EFO</h2><p>还有推荐的 Chrome 扩展，可以在下方评论留言哦~</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>Chrome</tag>
        <tag>note</tag>
      </tags>
  </entry>
  <entry>
    <title>(RPi#1) Raspberry Pi 搭建支持苹果AirPlay的播放器</title>
    <url>/2020/05/airplay-on-rpi/</url>
    <content><![CDATA[<h1 id="RPi-1-Raspberry-Pi-搭建支持苹果-AirPlay-的播放器"><a href="#RPi-1-Raspberry-Pi-搭建支持苹果-AirPlay-的播放器" class="headerlink" title="(RPi#1) Raspberry Pi 搭建支持苹果 AirPlay 的播放器"></a>(RPi#1) Raspberry Pi 搭建支持苹果 AirPlay 的播放器</h1><blockquote>
<p>Raspberry Pi 4B 内置了 Bluetooth 5.0，按道理说可以把它变成一个蓝牙音响的接收器。不过苹果的 Bonjour 协议是真的好用，可以在局域网内共享音视频播放。</p>
</blockquote>
<span id="more"></span>

<h2 id="准备工作（一堆废话）"><a href="#准备工作（一堆废话）" class="headerlink" title="准备工作（一堆废话）"></a>准备工作（一堆废话）</h2><h3 id="1-联网"><a href="#1-联网" class="headerlink" title="1. 联网"></a>1. 联网</h3><p>确保你的 RPi 链接上了跟你的 Apple 设备同一个网络。</p>
<h3 id="2-连接树莓派"><a href="#2-连接树莓派" class="headerlink" title="2. 连接树莓派"></a>2. 连接树莓派</h3><ul>
<li><p>ssh 连接：</p>
<p>​ <code>ssh pi@&lt;ip addr&gt;</code></p>
</li>
<li><p>vnc 连接：</p>
<p><code>vnc://&lt;ip addr&gt;</code></p>
</li>
</ul>
<h3 id="3-更新源"><a href="#3-更新源" class="headerlink" title="3. 更新源"></a>3. 更新源</h3><p>根据个人需要可以换源：<code>sudo vim /etc/apt/sources.list</code></p>
<p>已知问题：通过代理下载包经常 wait for header 等很久</p>
<p><code>sudo apt-get update</code></p>
<h2 id="下载源代码"><a href="#下载源代码" class="headerlink" title="下载源代码"></a>下载源代码</h2><p>项目名称是<strong>shairplay</strong></p>
<p><code>git clone https:*//github.com/juhovh/shairplay.git &amp;&amp; cd shairplay</code></p>
<h2 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get -y install autoconf automake libtool</span><br><span class="line">sudo apt-get -y install libltdl-dev libao-dev libavahi-compat-libdnssd-dev</span><br><span class="line">sudo apt-get -y install avahi-daemon</span><br></pre></td></tr></table></figure>

<h2 id="在本地编译并安装"><a href="#在本地编译并安装" class="headerlink" title="在本地编译并安装"></a>在本地编译并安装</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./autogen.sh</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>如果上几步没有错误就能运行了，程序会在运行时输出日志，建议开个 screen 运行。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">shairplay -a &lt;your_server_name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 比如我的server_name 就是 RPi</span></span><br></pre></td></tr></table></figure>

<p>在 Apple 设备播放音乐的时候选择<your_server_name>就好了</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/RPi-airplay.jpg" alt=""></p>
<h2 id="按照需求设置开机自启动"><a href="#按照需求设置开机自启动" class="headerlink" title="按照需求设置开机自启动"></a>按照需求设置开机自启动</h2><p>Linux 设置自启动方法有多种，写一个最简单的。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 修改文件rc.local</span></span><br><span class="line">sudo vim /etc/rc.local</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 <span class="built_in">exit</span> 0 之前加命令</span></span><br><span class="line">shairplay -a &lt;your_server_name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 退出编辑模式</span></span><br><span class="line">&#123;esc&#125;</span><br><span class="line">:wq</span><br><span class="line"><span class="meta">#</span><span class="bash"> 增加运行权限</span></span><br><span class="line">sudo chmod +x /etc/rc.local</span><br></pre></td></tr></table></figure>

<h2 id="可能出现的问题"><a href="#可能出现的问题" class="headerlink" title="可能出现的问题"></a>可能出现的问题</h2><ul>
<li><p>开机后执行<code>shairplay</code>命令提示 key 没有放到正确的目录</p>
<p>解决方法：在 shairplay 源代码目录中执行：<code>shairplay -a &lt;server_name&gt;</code></p>
</li>
<li><p>播放过程中，音乐中断：</p>
<p>解决办法：点亮屏幕就恢复播放了。是休眠了还是网络原因不得而知。</p>
</li>
</ul>
<h2 id="Enjoy"><a href="#Enjoy" class="headerlink" title="Enjoy!"></a>Enjoy!</h2><p>Raspberry Pi (RPi) 玩法第一节 (#1)</p>
<p>后续继续更新…</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>Raspberry Pi</tag>
        <tag>AirPlay</tag>
      </tags>
  </entry>
  <entry>
    <title>Microsoft NNI 样例分析</title>
    <url>/2020/05/NNI-example/</url>
    <content><![CDATA[<h1 id="NNI-样例分析"><a href="#NNI-样例分析" class="headerlink" title="NNI 样例分析"></a>NNI 样例分析</h1><blockquote>
<p>NNI (<a href="https://github.com/microsoft/nni">Neural Network Intelligence</a>) 是微软亚洲研究院开源的自动机器学习工具。</p>
<p>分析样例：<code>nni/examples/trials/mnist-tfv2</code></p>
</blockquote>
<span id="more"></span>

<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 作者名字</span></span><br><span class="line"><span class="attr">authorName:</span> <span class="string">StevenOS</span></span><br><span class="line"><span class="comment"># 实验名称</span></span><br><span class="line"><span class="attr">experimentName:</span> <span class="string">Test</span></span><br><span class="line"><span class="comment"># 定义trial的数量，一般不大于空闲GPU的数量</span></span><br><span class="line"><span class="attr">trialConcurrency:</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># 定义此实验的最长执行时间，单位有:s, m, h, d</span></span><br><span class="line"><span class="attr">maxExecDuration:</span> <span class="string">1h</span></span><br><span class="line"><span class="comment"># 最大trail的数量</span></span><br><span class="line"><span class="attr">maxTrialNum:</span> <span class="number">10</span></span><br><span class="line"><span class="comment"># choices: local, remote, pai</span></span><br><span class="line"><span class="comment"># 运行此nni服务的位置：</span></span><br><span class="line"><span class="comment"># local: 本地</span></span><br><span class="line"><span class="comment"># remote: ssh链接到的远程计算机</span></span><br><span class="line"><span class="comment"># pai: 提交任务到微软开源的 OpenPAI 上。</span></span><br><span class="line"><span class="attr">trainingServicePlatform:</span> <span class="string">local</span></span><br><span class="line"><span class="comment"># 搜索空间路径</span></span><br><span class="line"><span class="attr">searchSpacePath:</span> <span class="string">search_space.json</span></span><br><span class="line"><span class="comment"># 定义使用标记来分析代码并生成搜索空间。使用Annotation则设置为true</span></span><br><span class="line"><span class="attr">useAnnotation:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">tuner:</span></span><br><span class="line">44<span class="comment"># 系统Tuner的名字</span></span><br><span class="line">44<span class="comment"># choices: TPE, Random, Anneal, Evolution, BatchTuner, MetisTuner,</span></span><br><span class="line">44<span class="comment">#          GPTuner, SMAC (SMAC should be installed through nnictl)</span></span><br><span class="line">    <span class="attr">builtinTunerName:</span> <span class="string">TPE</span></span><br><span class="line">    <span class="comment"># Tuner算法的参数</span></span><br><span class="line">    <span class="attr">classArgs:</span></span><br><span class="line">    		<span class="comment"># choices: maximize, minimize</span></span><br><span class="line">        <span class="attr">optimize_mode:</span> <span class="string">maximize</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># trail配置</span></span><br><span class="line"><span class="attr">trial:</span></span><br><span class="line">4<span class="comment"># trial执行命令</span></span><br><span class="line">  <span class="attr">command:</span> <span class="string">python3</span> <span class="string">mnist.py</span></span><br><span class="line">  <span class="comment"># 代码相对路径</span></span><br><span class="line">  <span class="attr">codeDir:</span> <span class="string">.</span></span><br><span class="line">  <span class="comment"># 设置GPU个数</span></span><br><span class="line">  <span class="attr">gpuNum:</span> <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="参数定义"><a href="#参数定义" class="headerlink" title="参数定义"></a>参数定义</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">params = &#123;</span><br><span class="line">        <span class="string">&quot;dropout_rate&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">        <span class="string">&quot;conv_size&quot;</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="string">&quot;hidden_size&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">        <span class="string">&quot;batch_size&quot;</span>: <span class="number">32</span>,</span><br><span class="line">        <span class="string">&quot;learning_rate&quot;</span>: <span class="number">1e-4</span>,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取参数"><a href="#获取参数" class="headerlink" title="获取参数"></a>获取参数</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = MnistModel(</span><br><span class="line">        conv_size=params[<span class="string">&quot;conv_size&quot;</span>],</span><br><span class="line">        hidden_size=params[<span class="string">&quot;hidden_size&quot;</span>],</span><br><span class="line">        dropout_rate=params[<span class="string">&quot;dropout_rate&quot;</span>],</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h3 id="模型训练"><a href="#模型训练" class="headerlink" title="模型训练"></a>模型训练</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model.fit(</span><br><span class="line">        x_train,</span><br><span class="line">        y_train,</span><br><span class="line">        batch_size=params[<span class="string">&quot;batch_size&quot;</span>],</span><br><span class="line">        epochs=<span class="number">10</span>,</span><br><span class="line">        verbose=<span class="number">0</span>,</span><br><span class="line">        callbacks=[ReportIntermediates()],</span><br><span class="line">        validation_data=(x_test, y_test),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h3 id="加载数据集"><a href="#加载数据集" class="headerlink" title="加载数据集"></a>加载数据集</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_dataset</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Download and reformat MNIST dataset&quot;&quot;&quot;</span></span><br><span class="line">    mnist = tf.keras.datasets.mnist</span><br><span class="line">    (x_train, y_train), (x_test, y_test) = mnist.load_data()</span><br><span class="line">    x_train, x_test = x_train / <span class="number">255.0</span>, x_test / <span class="number">255.0</span></span><br><span class="line">    x_train = x_train[..., tf.newaxis]</span><br><span class="line">    x_test = x_test[..., tf.newaxis]</span><br><span class="line">    <span class="keyword">return</span> (x_train, y_train), (x_test, y_test)</span><br></pre></td></tr></table></figure>

<h3 id="提交中间结果"><a href="#提交中间结果" class="headerlink" title="提交中间结果"></a>提交中间结果</h3><blockquote>
<p>主要代码：</p>
<p><code>nni.report_intermediate_result()</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_epoch_end</span>(<span class="params">self, epoch, logs=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Reports intermediate accuracy to NNI framework&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;val_acc&quot;</span> <span class="keyword">in</span> logs:</span><br><span class="line">            nni.report_intermediate_result(logs[<span class="string">&quot;val_acc&quot;</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nni.report_intermediate_result(logs[<span class="string">&quot;val_accuracy&quot;</span>])</span><br></pre></td></tr></table></figure>

<h3 id="提交最终结果"><a href="#提交最终结果" class="headerlink" title="提交最终结果"></a>提交最终结果</h3><blockquote>
<p>主要代码</p>
<p><code>nni.report_final_result()</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loss, accuracy = model.evaluate(x_test, y_test, verbose=<span class="number">0</span>)</span><br><span class="line">  nni.report_final_result(accuracy)  <span class="comment"># send final accuracy to NNI tuner and web UI</span></span><br><span class="line">  _logger.info(<span class="string">&quot;Final accuracy reported: %s&quot;</span>, accuracy)</span><br></pre></td></tr></table></figure>

<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ol>
<li>从配置文件中的<code>searchSpacePath</code>中读取超级参数和搜索范围字典文件：<code>search_space.json</code></li>
<li>获得命令行参数，或者采用默认参数</li>
<li>加载参数，用以产生 2D 图表</li>
<li>若需要将每次实验结果上报，则使用：<br><code>nni.report_intermediate_result(metric)</code></li>
<li>若要上报最终结果（以此最终结果作为参数选择的参考），则使用：<br><code>nni.report_final_result(metric)</code></li>
<li>每次 Trial 重复实现，直到达到配置文件中的<code>maxTrialNum</code></li>
</ol>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200510204056750.png" alt=""></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200510204115621.png" alt=""></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200510204131183.png" alt=""></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200510204148149.png" alt=""></p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>Microsoft</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux tar 命令</title>
    <url>/2020/05/linux-tar/</url>
    <content><![CDATA[<h1 id="Linux-tar-命令备忘"><a href="#Linux-tar-命令备忘" class="headerlink" title="Linux tar 命令备忘"></a>Linux tar 命令备忘</h1><blockquote>
<p>tar</p>
<p>​    -c: 建立压缩档案<br>​    -x：解压<br>​    -t：查看内容<br>​    -r：向压缩归档文件末尾追加文件<br>​    -u：更新原压缩包中的文件</p>
</blockquote>
<span id="more"></span>

<p>下面的参数是根据需要在压缩或解压档案时可选的。</p>
<p>-z：有gzip属性的<br>-j：有bz2属性的<br>-Z：有compress属性的<br>-v：显示所有过程<br>-O：将文件解开到标准输出</p>
<p>下面的参数-f是必须的</p>
<p>-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。</p>
<p># tar -cf all.tar *.jpg<br>这条命令是将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名。</p>
<p># tar -rf all.tar *.gif<br>这条命令是将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思。</p>
<p># tar -uf all.tar logo.gif<br>这条命令是更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思。</p>
<p># tar -tf all.tar<br>这条命令是列出all.tar包中所有文件，-t是列出文件的意思</p>
<p># tar -xf all.tar<br>这条命令是解出all.tar包中所有文件，-x是解开的意思</p>
<h2 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h2><ul>
<li>tar –cvf jpg.tar *.jpg 将目录里所有jpg文件打包成tar.jpg</li>
<li>tar –czf jpg.tar.gz *.jpg  将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，生成一个gzip压缩过的包，命名为jpg.tar.gz</li>
<li>tar –cjf jpg.tar.bz2 *.jpg 将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，生成一个bzip2压缩过的包，命名为jpg.tar.bz2</li>
<li>tar –cZf jpg.tar.Z *.jpg  将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，生成一个umcompress压缩过的包，命名为jpg.tar.Z</li>
<li>rar a jpg.rar *.jpg rar格式的压缩，需要先下载rar for linux</li>
<li>zip jpg.zip *.jpg  zip格式的压缩，需要先下载zip for linux</li>
</ul>
<h2 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h2><ul>
<li>tar –xvf file.tar 解压 tar包</li>
<li>tar -xzvf file.tar.gz 解压tar.gz</li>
<li>tar -xjvf file.tar.bz2  解压 tar.bz2</li>
<li>tar –xZvf file.tar.Z  解压tar.Z</li>
<li>unrar e file.rar 解压rar</li>
<li>unzip file.zip 解压zip</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>*.tar 用 tar –xvf 解压</li>
<li>*.gz 用 gzip -d或者gunzip 解压</li>
<li><em>.tar.gz和</em>.tgz 用 tar –xzf 解压</li>
<li>*.bz2 用 bzip2 -d或者用bunzip2 解压</li>
<li>*.tar.bz2用tar –xjf 解压</li>
<li>*.Z 用 uncompress 解压</li>
<li>*.tar.Z 用tar –xZf 解压</li>
<li>*.rar 用 unrar e解压</li>
<li>*.zip 用 unzip 解压</li>
</ol>
<p>1．命令格式：</p>
<p>tar[必要参数][选择参数][文件] </p>
<p>2．命令功能：</p>
<p>用来压缩和解压文件。tar本身不具有压缩功能。他是调用压缩功能实现的 </p>
<p>3．命令参数：</p>
<p>必要参数有如下：</p>
<p>-A 新增压缩文件到已存在的压缩</p>
<p>-B 设置区块大小</p>
<p>-c 建立新的压缩文件</p>
<p>-d 记录文件的差别</p>
<p>-r 添加文件到已经压缩的文件</p>
<p>-u 添加改变了和现有的文件到已经存在的压缩文件</p>
<p>-x 从压缩的文件中提取文件</p>
<p>-t 显示压缩文件的内容</p>
<p>-z 支持gzip解压文件</p>
<p>-j 支持bzip2解压文件</p>
<p>-Z 支持compress解压文件</p>
<p>-v 显示操作过程</p>
<p>-l 文件系统边界设置</p>
<p>-k 保留原有文件不覆盖</p>
<p>-m 保留文件不被覆盖</p>
<p>-W 确认压缩文件的正确性</p>
<p>可选参数如下：</p>
<p>-b 设置区块数目</p>
<p>-C 切换到指定目录</p>
<p>-f 指定压缩文件</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>4．常见解压/压缩命令</p>
<p>tar<br>解包：tar xvf FileName.tar<br>打包：tar cvf FileName.tar DirName<br>（注：tar是打包，不是压缩！）</p>
<p>.gz<br>解压1：gunzip FileName.gz<br>解压2：gzip -d FileName.gz<br>压缩：gzip FileName</p>
<p>.tar.gz 和 .tgz<br>解压：tar zxvf FileName.tar.gz<br>压缩：tar zcvf FileName.tar.gz DirName</p>
<p>.bz2<br>解压1：bzip2 -d FileName.bz2<br>解压2：bunzip2 FileName.bz2<br>压缩： bzip2 -z FileName</p>
<p>.tar.bz2<br>解压：tar jxvf FileName.tar.bz2<br>压缩：tar jcvf FileName.tar.bz2 DirName</p>
<p>.bz<br>解压1：bzip2 -d FileName.bz<br>解压2：bunzip2 FileName.bz<br>压缩：未知</p>
<p>.tar.bz<br>解压：tar jxvf FileName.tar.bz<br>压缩：未知</p>
<p>.Z<br>解压：uncompress FileName.Z<br>压缩：compress FileName</p>
<p>.tar.Z<br>解压：tar Zxvf FileName.tar.Z<br>压缩：tar Zcvf FileName.tar.Z DirName</p>
<p>.zip<br>解压：unzip FileName.zip<br>压缩：zip FileName.zip DirName</p>
<p>.rar<br>解压：rar x FileName.rar<br>压缩：rar a FileName.rar DirName</p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Command</tag>
      </tags>
  </entry>
  <entry>
    <title>小米10青春版开箱</title>
    <url>/2020/05/mi10-lite-room/</url>
    <content><![CDATA[<h1 id="小米-10-青春版开箱"><a href="#小米-10-青春版开箱" class="headerlink" title="小米 10 青春版开箱"></a>小米 10 青春版开箱</h1><blockquote>
<p>小米 10 青春版是小米公司旗下的手机，是“一部专为年轻人打造的 5G 手机”，搭载高通骁龙 765G 双模 5G 平台，支持双卡双待，采用三星 AMOLED 钻石排列屏，搭载后置 4 摄，潜望式长焦镜头，最高支持 50 倍变焦。</p>
</blockquote>
<span id="more"></span>

<h2 id="01-前言"><a href="#01-前言" class="headerlink" title="01-前言"></a>01-前言</h2><p>这次购买的<strong>小米 10 青春版</strong>也叫<strong>Mi 10 Lite Room</strong>，听名字也就知道这部手机的卖点是潜望式摄像头，支持 5x 光学变焦。而这部手机也算是我购买得“最及时”的一部手机，几乎是在预售已开始就购买了。</p>
<p>选择这部手机的原因也比较简单，就是以前的旧手机已经有卡顿迹象了，而且潜望式变焦也是我想体验的一个功能，还能赶在 2020 的春天用上 5G。我知道这部手机的缺点其实不少，比如最坑人的<strong>高通骁龙 765G</strong>和<strong>LPDDR4X+UFS2.1</strong>，这些方面在今年属实有些落伍。请看下方详细体验后，可以自行决定是否值得购买。</p>
<h2 id="02-配置"><a href="#02-配置" class="headerlink" title="02-配置"></a>02-配置</h2><center><p style="font-size:14px;">以下数据来自小米商城官网</p></center>

<h3 id="02-01-颜色"><a href="#02-01-颜色" class="headerlink" title="02-01-颜色"></a>02-01-颜色</h3><p>小米 10 青春版一共提供了五种颜色：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/mi-store-screenshots-1.png" alt=""></p>
<ul>
<li>黑巧风暴（深空灰）</li>
<li>蓝莓薄荷（蓝绿渐变）</li>
<li>桃子西柚（橙色）</li>
<li>四季春奶绿（绿色）</li>
<li>白桃乌龙（粉白渐变）</li>
</ul>
<p>但是在首发预售中只提供了：<em>黑巧风暴、蓝莓薄荷、白桃乌龙</em>三种颜色，不过我个人认为<strong>四季春奶绿</strong>是最好看的配色了。</p>
<h2 id="02-02-处理器"><a href="#02-02-处理器" class="headerlink" title="02-02-处理器"></a>02-02-处理器</h2><p>骁龙 765G 5G 处理器</p>
<p>CPU 架构工艺：Kryo 475 架构，7nm EUV 工艺制程</p>
<p>CPU 主频：八核处理器，最高主频可达：2.4GHz；</p>
<p>高通三丛集设计：1x2.4GHz，1x2.2GHz，6x1.80GHz</p>
<p>GPU ：Adreno 620 图形处理器，最高频率可达 625MHz</p>
<p>AIE：第五代 AI 引擎</p>
<h3 id="02-03-内存与存储空间"><a href="#02-03-内存与存储空间" class="headerlink" title="02-03-内存与存储空间"></a>02-03-内存与存储空间</h3><p>运行内存：6GB / 8GB LPDDR4X 高速内存</p>
<p>机身存储：64GB / 128GB / 256GB UFS 2.1 高速存储</p>
<h3 id="02-04-屏幕"><a href="#02-04-屏幕" class="headerlink" title="02-04-屏幕"></a>02-04-屏幕</h3><p>6.57″ 三星 AMOLED 原色屏</p>
<p>180Hz 采样率丨屏下光学指纹</p>
<p>分辨率 2400 x 1080 FHD+</p>
<p>屏幕亮度 800nit（峰值亮度）<em>/ 600nit（HBM）</em></p>
<p>对比度 4,300,000 : 1</p>
<p>支持 HDR10/ 10+ 视频播放</p>
<p>支持阳光屏 3.0 | 夜光屏 | 护眼模式 | 色温调节 | 色彩风格自定义</p>
<p>德国莱茵 TÜV 低蓝光认证</p>
<p>康宁第 5 代大猩猩玻璃 （屏幕盖板）</p>
<h3 id="02-05-相机"><a href="#02-05-相机" class="headerlink" title="02-05-相机"></a>02-05-相机</h3><h4 id="后置"><a href="#后置" class="headerlink" title="后置"></a>后置</h4><ul>
<li><p>4800 万像素超清主摄</p>
<p>1/2″ 超大感光元件、1.6μm 4 合 1 超大像素、f/1.79 超大光圈、6P 镜头</p>
</li>
<li><p>800 万潜望式长焦镜头</p>
<p>50 倍潜望式变焦、5 倍光学变焦、10 倍混合光学变焦、分体式 OIS 光学防抖</p>
</li>
<li><p>800 万超广角镜头</p>
<p>120° 超大广角、f/2.2 光圈</p>
</li>
<li><p>独立微距镜头</p>
<p>2cm-10cm 对焦距离</p>
</li>
</ul>
<p>后置视频拍摄帧率</p>
<table>
<thead>
<tr>
<th>分辨率</th>
<th>帧率</th>
</tr>
</thead>
<tbody><tr>
<td>4K 视频拍摄</td>
<td>30fps</td>
</tr>
<tr>
<td>1080p 视频拍摄</td>
<td>30 / 60fps</td>
</tr>
<tr>
<td>720p 视频拍摄</td>
<td>30fps</td>
</tr>
</tbody></table>
<p>后置视频慢动作帧率</p>
<table>
<thead>
<tr>
<th>分辨率</th>
<th>帧率</th>
</tr>
</thead>
<tbody><tr>
<td>720p</td>
<td>120 / 240 / 960fps</td>
</tr>
<tr>
<td>1080p</td>
<td>120fps</td>
</tr>
</tbody></table>
<h4 id="前置"><a href="#前置" class="headerlink" title="前置"></a>前置</h4><ul>
<li>1600 万超清前置相机</li>
</ul>
<p>视频拍摄</p>
<table>
<thead>
<tr>
<th>分辨率</th>
<th>帧率</th>
</tr>
</thead>
<tbody><tr>
<td>1080p</td>
<td>30fps</td>
</tr>
<tr>
<td>720p</td>
<td>30 / 120fps</td>
</tr>
</tbody></table>
<h3 id="02-06-电池与充电"><a href="#02-06-电池与充电" class="headerlink" title="02-06-电池与充电"></a>02-06-电池与充电</h3><ul>
<li><p>容量：4160mAh（typ） / 4060mAh（min）</p>
</li>
<li><p>接口：USB Type-C 双面充电接口</p>
</li>
<li><p>快充协议：QC4+ / QC3+ / PD3.0</p>
</li>
<li><p>快充功率：22.5W</p>
</li>
</ul>
<h3 id="02-07-网络制式"><a href="#02-07-网络制式" class="headerlink" title="02-07-网络制式"></a>02-07-网络制式</h3><ul>
<li><p>SA/NSA 双模丨双卡丨全网通 6.0</p>
</li>
<li><p>支持移动 5G / 4G+ / 4G / 2G，联通 5G / 4G+ / 4G / 3G / 2G，电信 5G / 4G+ / 4G / 3G / 2G</p>
</li>
<li><p>支持双卡 VoLTE 高清语音</p>
</li>
<li><p>支持频段：</p>
<ul>
<li>5G ：n1 / n41 / n78 / n79</li>
<li>4G ：FDD-LTE ：B1 / B2 / B3 / B4 / B5 / B7 / B8 ｜ TDD-LTE：B34 / B38 / B39 / B40 / B41</li>
<li>3G：WCDMA：B1 / B2 / B5 / B8 ; CDMA EVDO : BC0</li>
<li>2G：GSM：B2 / B3 / B5 / B8 ; CDMA 1X : BC0</li>
</ul>
</li>
<li><p>支持 4×4 MIMO 天线技术 | HPUE | HO RxD</p>
</li>
</ul>
<h3 id="02-08-无线连接"><a href="#02-08-无线连接" class="headerlink" title="02-08-无线连接"></a>02-08-无线连接</h3><ul>
<li><p>WLAN 协议：Wi-Fi 5，Wi-Fi 4 以及 802.11a / b / g</p>
</li>
<li><p>WLAN 频率： 2.4G Wi-Fi | 5G Wi-Fi</p>
</li>
<li><p>支持 2x2 MIMO，Wi-Fi Direct，Miracast，2.4G、5G 双路并发</p>
</li>
<li><p>蓝牙：Bluetooth 5.1，高通 TrueWireless Stereo Plus</p>
</li>
<li><p>支持 AAC / LDAC / LHDC / aptX / aptX -Adaptive</p>
</li>
<li><p>NFC</p>
</li>
<li><p>双频 GNSS：</p>
<p>北斗: B1I+B2a 丨 GPS :L1+L5 丨 Galileo: E1+E5a 丨 GLONASS: G1 丨 QZSS: L1+L5</p>
<p>AGPS 辅助定位丨数据网络定位丨 Wi-Fi 网络定位</p>
</li>
</ul>
<h3 id="02-09-外形与按键"><a href="#02-09-外形与按键" class="headerlink" title="02-09-外形与按键"></a>02-09-外形与按键</h3><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/mi-store-screenshots-2.png" alt=""></p>
<center>有极其先进的3.5mm接口和线性马达还是不错的</center>

<h3 id="02-10-传感器"><a href="#02-10-传感器" class="headerlink" title="02-10-传感器"></a>02-10-传感器</h3><ul>
<li>超声波距离传感器</li>
<li>环境光传感器</li>
<li>加速度传感器</li>
<li>陀螺仪</li>
<li>电子罗盘</li>
<li>线性马达</li>
<li>红外线遥控器</li>
</ul>
<h3 id="02-11-包装内容"><a href="#02-11-包装内容" class="headerlink" title="02-11-包装内容"></a>02-11-包装内容</h3><p>值得一提的是小米 10 青春版的包装内容中有一个银离子抗菌手机壳，和一张抗菌贴膜。这一点小的变换我还是非常喜欢，希望以后的手机厂商都应该制作抗菌的手机壳或者手机贴膜。</p>
<h2 id="03-开箱"><a href="#03-开箱" class="headerlink" title="03-开箱"></a>03-开箱</h2><p>小米的物流还是相当的快的，发货后隔日达，先来看看有哪些东西吧。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200503_093205.jpg" style="zoom:67%;" />

<p>小米 10 青春版采用盲盒包装，也就是说，小米 10 青春版的盒子有多种，发货是随机的。预购小米 10 青春版会赠送一个小米双单元入耳式耳机，还有新品 5G 手机会赠送的小米移动定制手机卡。</p>
<p>下面来打开主体包装：</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200503_093355.jpg" style="zoom:67%;" />

<p>除了手机充电器、上文提到的抗菌手机膜和手机壳外，小米 10 青春版还随机赠送了两张贴纸，当然贴纸图案也是随机的。这是我贴上图案的手机，贴完之后才发现有点花里胡哨了哈哈哈哈哈。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG20200508101753.jpg" style="zoom:67%;" />

<p>也看的出来，我购买的颜色是蓝莓薄荷，也就是蓝绿渐变，我觉得还不错，相对于四季春奶绿还差点，你们觉得呢？</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200503_093829.jpg" style="zoom:67%;" />

<h2 id="04-功能体验"><a href="#04-功能体验" class="headerlink" title="04-功能体验"></a>04-功能体验</h2><h3 id="04-01-外观设计"><a href="#04-01-外观设计" class="headerlink" title="04-01-外观设计"></a>04-01-外观设计</h3><p>背面的渐变设计和<strong>“火箭炮”</strong>相机矩阵算是今年的流行设计元素了。相机矩阵还做了以主摄像头为中心的反光辐射条纹，这种设计在隔壁荣耀上也有；而小米 10 青春版的渐变颜色后盖确实很得人心，相对于一些平常色彩的旗舰机，还是很有青春活力。但是正面的设计就如同<em>梦回 2019</em>，水滴屏和较宽的上下侧边框。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG20200508104439.jpg" alt=""></p>
<h3 id="04-02-相机"><a href="#04-02-相机" class="headerlink" title="04-02-相机"></a>04-02-相机</h3><p>小米 10 青春版的 50x 混合式变焦是它的主要卖点，这也是小米第一次做潜望式摄像头，也符合小米把新技术放在中端机上试试水的操作。下面是手持、自动模式、5 倍光学变焦状态下的照片（照片经过压缩）</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200503_212424.jpg" alt=""></p>
<p>个人感觉小米这一次，并没有把潜望式镜头做好：CMOS 采用的是 OV48B2Q，不是好一点的三星 GW 或者索尼 IMX；潜望式镜头才给了 800 万像素，数码变焦也就是裁切，所以 50x 变焦下的效果其实很糊。不过经过实际测试，空旷场景 50x 下看清几公里外的建筑还是没有问题，看清字的话，一公里就差不多了。</p>
<p>微距效果：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200508_102136.jpg" alt=""></p>
<p>对焦距离两厘米左右，中规中矩。</p>
<p>电影模式和更加好玩的短视频功能以及 120 度的广角和 4800 万的主摄就暂时没有样片了，等有机会出门游玩再拍拍看。<strong>AI 魔法换天、前后摄同屏</strong>功能还需要等待之后的 OTA 推送，后续会针对相机专门出一节。</p>
<h3 id="04-03-屏幕"><a href="#04-03-屏幕" class="headerlink" title="04-03-屏幕"></a>04-03-屏幕</h3><p>这次小米 10 青春版的屏幕也算是一个卖点，三星 AMOLED 屏：原色屏、专业色准 Delta E 1.1、JNCD &lt; 0.7 超高色彩精准度、钻石排列。屏幕素质说是旗舰级也是不过分的，有 180Hz 采样率但是没有 90Hz 刷新率也应该是为了其中档的定位。至少不会像隔壁又抽奖生产厂商又抽奖屏幕排列了。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2020-05-08-11-08-52-23.jpg" alt=""></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2020-05-08-11-09-09-09.jpg" alt=""></p>
<h3 id="04-04-性能"><a href="#04-04-性能" class="headerlink" title="04-04-性能"></a>04-04-性能</h3><p>小米 10 青春版搭载的就是青春版处理器：<strong>高通骁龙 765G</strong></p>
<p>这个性能我也不必多说，毕竟只是去年的中高端 Soc，想要完全流畅的玩游戏还是有点费劲。</p>
<h3 id="04-05-其他"><a href="#04-05-其他" class="headerlink" title="04-05-其他"></a>04-05-其他</h3><p>其他方面堆料还是很足：红外遥控、双频 GPS、线性马达、NFC 等日常需要的都有。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/mi-store-screenshots-3.png" alt=""></p>
<h2 id="05-总结"><a href="#05-总结" class="headerlink" title="05-总结"></a>05-总结</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/mi-store-screenshots-4.png" alt=""></p>
<p>对于这个 ¥2099 起售的中端机型来说，个人认为光是潜望式摄像头不足以支撑其卖点，如果能提升摄像头的像素或者采用 LPDDR5+UFS3.0 的话，这个价格就非常香了。</p>
<p>总的来说，小米 10 青春版还是很对<strong>青春</strong>的味：</p>
<ul>
<li>50x 变焦能够让大学生坐在后排也能拍清楚黑板；</li>
<li>4800 万主摄也能满足日常拍照和扫码；</li>
<li>能够及时体验到 5G，不落伍；</li>
<li>好玩的电影相机、分身照片等也能丰富同学在一起的活动；</li>
<li>去年中高端的 765G 不仅能在聚会时能开黑不尴尬，又能控制对游戏的沉迷；</li>
<li>花花绿绿的配色和贴纸能让手机更具个性化。</li>
</ul>
<p>如果是高端玩家，这款机型显然不能满足性能需求。同价位不如选购去年的旗舰机，能够上骁龙 855 甚至骁龙 855+，比如 <a href="https://ryzenx.com/2020/02/realme_x2_pro/">realme X2 Pro</a> ，还能上个 90Hz 刷新率。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>开箱</tag>
        <tag>小米</tag>
      </tags>
  </entry>
  <entry>
    <title>快充技术的前世今生</title>
    <url>/2020/04/charge-fast/</url>
    <content><![CDATA[<p>现在快充技术逐渐成熟，人们对电量的焦虑在逐渐下降。</p>
<blockquote>
<p>2020年了，你还想手机能手动换电池吗？</p>
<p>➡️<a href="https://shimo.im/docs/m6kMLxenVoUrFBqD/">石墨文档预览</a></p>
</blockquote>
<span id="more"></span>

<h2 id="前世"><a href="#前世" class="headerlink" title="前世"></a>前世</h2><p>1994年8月 Simon 这部完全靠触摸操作的智能手机问世，给手机界开了这样一个先河：<strong>不可拆卸式电池</strong>。虽然 IBM 开了这样一个头，但是当时似乎并没有多少手机采用不可拆卸电池的设计，因为当时电池的比容量很小，为了能让用户使用更长时间，让当时的商务人士不会漏接电话，可替换式电池设计更能满足需求。</p>
<img src="https://uploader.shimo.im/f/rZwhtFRU1m8pmjzG.jpeg!thumbnail" alt="图片" style="zoom:67%;" />

<center>图片来源：百度百科</center>

<p>人们所熟悉的不可拆卸式电池设计的还是于2007年发布的 iPhone 手机，给手机界真正带来了触控式交互和不可拆卸式电池设计。之后很多手机厂商渐渐地都开始设计了不可拆卸式电池，之后很多年，对于可更换式电池的手机，追求者不在少数。所以就有了这样一件东西——<strong>充电宝。</strong></p>
<p><img src="https://uploader.shimo.im/f/9JU2OpTS8wi7CjhW.jpg!thumbnail" alt="图片"></p>
<p>充电宝，其实就是“可更换电池”的另外一种形式，它从容量上从几百毫安时，提升至几万毫安时；功率从5W，提升至了65W。还记得几年前出门不带充电宝，简直就如同随时失踪失连。</p>
<p>随着电池技术的提升、手机体积的增大，电池的容量不断提升，公众对电量的关注逐渐降低了。但是随之而来的问题是，大容量的电池充电时间会变得很长，于是，快速充电技术应运而生。</p>
<h2 id="今生"><a href="#今生" class="headerlink" title="今生"></a>今生</h2><center><p style="font-size: 11px">
  （以下部分内容源于回形针PaperClip-回形针事务所008)
</p></center>

<h3 id="功率"><a href="#功率" class="headerlink" title="功率"></a>功率</h3><p>在中国，城市内家庭交流电的有效电压是220V，输入功率从77W到330W，而充电器的输出功率却收到多方面的限制：</p>
<ul>
<li>首先是充电器的工艺质量，如果电流过大，充电器内部的变压器整流器将产生更多的焦耳热，产生巨大安全隐患。</li>
<li>其次是充电器的大小，为了转换大功率的电流，充电器的体积必然会加大。</li>
<li>最后是你的手机电池，它能否承受住高功率的电流输入，决定了你的手机会不会变成一个“定时炸弹”。</li>
</ul>
<p><img src="https://uploader.shimo.im/f/lUBIYo6iDCLopabI.jpg!thumbnail" alt="图片"></p>
<p>为了提升充电功率，多年来出现了不同的充电方案。</p>
<h3 id="P-U-×-I"><a href="#P-U-×-I" class="headerlink" title="P = U × I"></a>P = U × I</h3><ul>
<li>小电流高压协议：<ul>
<li>高通 Quick Charge</li>
<li>联发科 Pump Express</li>
<li>德州仪器 TI MaxCharge</li>
<li>摩托罗拉 Turbo Power</li>
</ul>
</li>
</ul>
<p>以代表高通 Quick Charge 技术为例。2013 年高通 Quick Charge 1.0 协议随着骁龙600发布，采用了“提升电流”的做法：<strong>I = 1.8A, U = 5V, P = 9W。</strong>因为当时的手机充电器接口通常还是<strong>microUSB</strong>接口，最高通过的电流为2A。</p>
<p><img src="https://uploader.shimo.im/f/b8EC40vARwIjnG76.png!thumbnail" alt="图片"></p>
<p>之后2015年高通 Quick Charge 2.0 随着骁龙810发布，电流可选：<strong>1.67A/2.0A/3.0A，</strong>电压可选：<strong>5V/9V/12V</strong>，则最高支持到了36W，但是当时其实并没有普及快充这项快充技术，一是因为快充的充电器价格高昂，而且当时不少手机电池工艺质量不足以承受9V甚至更高的电压。</p>
<p><img src="https://uploader.shimo.im/f/rA3duuOSlo2T17rH.png!thumbnail" alt="图片"></p>
<p>2016年，高通随着骁龙820推出了Quick Charge 3.0 技术，考虑到上一代技术在手机上的硬件限制，显著的特点是加入了INOV (Intelligent Negotiation for Optimum Voltage)技术，简单来说，这项技术就是通过与手机“交流”为了不同手机输出不同的电压，范围是 <strong>U = 3.6～20V</strong>，梯度降低到了200mV。而此时 USB Type-C 接口已经普及，所以电流为 <strong>I = 2.6A/4.6A</strong>。最高功率仍然为 <strong>P = 36W</strong>。</p>
<p><img src="https://uploader.shimo.im/f/Qpl3Xz2ZNQWmouEw.jpeg!thumbnail" alt="图片"></p>
<p>2017年，高通 Quick Charge 4.0 随着骁龙835发布，随后，高通 Quick Chage 4.0+ 随着骁龙845发布。除了兼容之前的 QC 快充技术外，还特别支持 USB PowerDelivery 3.0 的可编程电源供应技术：电压可以从 3V ～ 11V，步进 20mV；电流从 0A～3A，步进 50mA。而 QC 本身的电流提供：<strong>I = 2.6A/4.6A</strong>，电压提供 <strong>U = 3.6V～20V</strong>，则理论最高功率达到了接近100W，<strong>P = 4.6A × 20V = 92W。</strong></p>
<p><img src="https://uploader.shimo.im/f/8WVldVnexVYvTbm8.jpeg!thumbnail" alt="图片"></p>
<hr>
<ul>
<li>低压大电流协议：<ul>
<li>OPPO VOOC</li>
<li>一加 Dash</li>
<li>华为 SuperCharge</li>
</ul>
</li>
</ul>
<p>以小电流高压协议的代表 OPPO VOOC 闪充进行简述：</p>
<p>VOOC 快充 全称为<strong>V</strong>oltage Open L<strong>oo</strong>p Multi-step Constant-Current <strong>C</strong>harging（电压开环多步恒流充电）。</p>
<p>2014 年 3 月 19 日，OPPO 率先推出 VOOC 闪充，并在 OPPO Find 7 上商用。相对于高通的 Quick Charge 技术，VOOC 快充的主要特点是在保持电压在 <strong>U = 5V</strong> 的基础上，将电流增大到了 <strong>I = 4A</strong>，所以功率达到了** P = 20W**。但是上文提到，microUSB接口只能支持2A的输出电流。于是OPPO将原有的USB线缆进行改造，增粗以减少电阻，承载更大的电流，同时增加了一个触电以识别VOOC快充协议。</p>
<img src="https://uploader.shimo.im/f/atzXeomvIOotzRnI.jpg!thumbnail" alt="图片" style="zoom:67%;" />


<p>相信大家都还记得当年OPPO的广告词：“充电5分钟，通话2小时”。正是凭借这句广告词，OPPO的专利技术 VOOC 闪充进入大家的视线。</p>
<img src="https://uploader.shimo.im/f/jm8rRxFv6yMrqNal.jpeg!thumbnail" alt="图片" style="zoom:50%;" />

<p>2018 年， SuperVOOC 1.0 由OPPO Find X推出，同时支持的还有 realme X2 Pro，这项技术在前一代的基础上再次增大了电流，使 <strong>I = 5A</strong>，同时提升电压至 <strong>U = 10V</strong>的基础上，使功率一下增加到了 <strong>P = 50W</strong>。之后的2019年，SuperVOOC 2.0 发布，这次直接将电压电流提升至 <strong>I = 6.5A</strong>，电压保持上一代 <strong>U = 10V</strong>，所以最高功率达到了 <strong>P = 65W</strong>，已经和不少笔记本电脑的充电功率相同甚至更高（我手上这台MacBook Air才输入45W）。</p>
<img src="https://uploader.shimo.im/f/nCCMhd4WZtjBSSd5.jpg!thumbnail" alt="图片" style="zoom:67%;" />

<p>而同时OPPO继续升级了VOOC，并没有功率上的激进。2019年发布 VOOC 2.0，电流 <strong>I = 5V</strong>，电压 <strong>U = 5V</strong>，功率为 <strong>P = 25W</strong>。最新一代的VOOC采用电流 <strong>I = 6A</strong>，电压 <strong>U = 5V</strong>，功率 <strong>P = 30W</strong>的设计，可见VOOC系列还一直沿用着5V低压加大电流的方案。</p>
<p><img src="https://uploader.shimo.im/f/jw9WgbbtMXQYTCji.png!thumbnail" alt="图片"></p>
<hr>
<h3 id="充电时间"><a href="#充电时间" class="headerlink" title="充电时间"></a>充电时间</h3><p>搭载 SuperVOOC 2.0 的 OPPO Ace 2 在各类手机充电时间的排行榜中位列第一，不足半小时即可充满一块 4000mAh的电池。</p>
<p><img src="https://uploader.shimo.im/f/LXw7987HSn8GrTFL.jpg!thumbnail" alt="图片"></p>
<center>（图片来自：小白测评）</center>



<hr>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>内置不可拆卸电池的好处有很多，比如提高手机内部的集成度，能够使手机密闭防水，减少后改版散热等。而且目前电池容量已经很高了，充电技术越来越成熟。</p>
<p>回到最开始那个问题，2020年了，你还想手机能手动换电池吗？</p>
<p>想？可以购买诺基亚。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>技术</tag>
        <tag>公众号文章</tag>
        <tag>快充</tag>
      </tags>
  </entry>
  <entry>
    <title>小米盒子3国际版开箱</title>
    <url>/2020/03/mibox-3/</url>
    <content><![CDATA[<h1 id="MiBox-开箱（小米盒子-3-国际版）"><a href="#MiBox-开箱（小米盒子-3-国际版）" class="headerlink" title="MiBox 开箱（小米盒子 3 国际版）"></a>MiBox 开箱（小米盒子 3 国际版）</h1><blockquote>
<p>你没有看错！我又买新玩意了！</p>
<p>这次的开箱是小米电视盒子 3 的国际版：MiBox</p>
<p>特点：内置 Android TV 系统，支持最高 4K 60FPS HDR 输出，支持 2.4GHz/5GHz Wi-Fi 连接。</p>
</blockquote>
<span id="more"></span>

<h2 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01. 前言"></a>0x01. 前言</h2><blockquote>
<p>据说这样写标签比较专业</p>
</blockquote>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200325220352746.png" alt="image-20200325220352746"></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200325220540524.png" alt="image-20200325220540524"></p>
<center>图片来自小米官网国际版</center>

<p>想买入这个小米盒子，其实也是一时兴起。几周前在我朋友 GDD 家看到小米盒子的时候，我就突然来了兴 ♂ 趣，想我这个高端搞机玩家怎么能没有 Android TV 设备呢？其实最开始我以为是国行盒子刷的国际版系统，于是我先上小米官网寻找，看好的是小米盒子 4，本来就准备下单了；后来让 GDD 帮忙拍了一下照片我才发现，原来盒子就是国际版啊，于是我就直接去万能的淘宝寻找。</p>
<p>淘宝在售的有两个版本：<strong>MiBox</strong> 和 <strong>MiBox S</strong>，对应起来也就是国内版的小米盒子 3 和小米盒子 4 。在询问店家之后我发现 S 版本的硬件升级并不大：遥控器增加了 NetFlix 专用按键，蓝牙升级 4.1 -&gt; 4.2，系统 8.0 -&gt; 8.1。所以我购买的是<strong>MiBox</strong>，毕竟<strong>没钱嘛</strong>。</p>
<h2 id="0x02-产品配置"><a href="#0x02-产品配置" class="headerlink" title="0x02. 产品配置"></a>0x02. 产品配置</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200325223944000.png" alt="image-20200325223944000"></p>
<p>处理器：64 位 Quad-core Cortex-A53 2.0GHz</p>
<p>显示处理器：Mali 450 750MHz</p>
<p>输出分辨率：最高 4K 60FPS</p>
<p>内存：2GB DDR3</p>
<p>存储：8GB eMMC</p>
<p>系统：Android TV 6.0（已更新到 8.0 ）</p>
<p>安全：Widevine L1 + PlayReady 3.0</p>
<p>Wi-Fi: 802.11a/b/g/n/ac, Dual-band Wi-Fi 2.4GHz/5GHz</p>
<p>Bluetooth: Bluetooth 4.0/3.0</p>
<p>视频解码：</p>
<p>VP9 Profile-2 up to 4K x 2K @ 60 fps</p>
<p>H.264 AVC HPat L5.1, up to 4K x 2K at 30 fps</p>
<p>H.264 MVC, up to 1080P at 60 fps</p>
<p>Supports HDR10/HLG HDR processing (software upgrade required)</p>
<p>音频解码：</p>
<p>DTS 2.0+ Digital Out, Dolby Digital Plus</p>
<p>Up to 7.1 pass through</p>
<p>接口：</p>
<p>HDMI: HDMI 2.0a x 1 port (HDCP 2.2)</p>
<p>USB: USB 2.0 x 1 port</p>
<p>AV: SPDIF Out / 3.5mm audio output x 1 port</p>
<p>Power: 1 port</p>
<h2 id="0x03-开箱"><a href="#0x03-开箱" class="headerlink" title="0x03. 开箱"></a>0x03. 开箱</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_161335.jpg" alt="IMG_20200324_161335"></p>
<center>根据语言推测是韩国版</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_161411.jpg" alt="IMG_20200324_161411"></p>
<center>打开盒子就是小米盒子的主体啦</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_161619.jpg" alt="IMG_20200324_161619"></p>
<center>盒子中的所有物品</center>

<p>其实这是一次伪开箱，因为已经让店家开封，帮忙激活了，而且安装了一些软件。主要是家里的路由器不能完整访问互联网，害怕拿回来无法激活。等今年网课结束，出一期<strong>小米路由器 mini</strong>的刷机教程吧。</p>
<p>盒子中的物品有：</p>
<ul>
<li>MiBox 主体</li>
<li>MiBox 遥控器</li>
<li>电源线</li>
<li>HDMI 线缆</li>
<li>还有韩文说明书（未拍）</li>
</ul>
<h2 id="0x04-开机"><a href="#0x04-开机" class="headerlink" title="0x04. 开机"></a>0x04. 开机</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200325224922047.png" alt="image-20200325224922047"></p>
<center>我家的电视比较古老，但好在支持 HDMI 接口输入。<br />那么把电源和 HDMI 的线插好，我再额外接入了一个无线鼠标，方便一些特殊软件的点击操作。</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_162511.jpg" alt="IMG_20200324_162511"></p>
<center>接好啦</center>

<p>把 HDMI 线缆接入电视，在电视上选择输入源为：<code>HDMI1</code>之后，稍等片刻就成功开机显示啦。</p>
<p>有点遗憾的是，这个电视只支持 720P 60FPS，所以 4K UHD 60FPS 播放是暂时享受不到了。</p>
<h2 id="0x05-开始使用"><a href="#0x05-开始使用" class="headerlink" title="0x05. 开始使用"></a>0x05. 开始使用</h2><blockquote>
<p>因为主页有不过审的词语，还有一些特别软件，就没有放主页截图。</p>
</blockquote>
<p>配置好无线网络后，打开店家已经安装好的“当贝市场” ，就可以安装应用了。我首先安装了一套国产视频播放软件：哔哩哔哩 TV 版、腾讯视频 TV 版、优酷 TV 版、爱奇艺 TV 版、西瓜视频 TV 版和斗鱼直播 TV 版。</p>
<p>先来看看 B 站 TV 版：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_173722.jpg" alt="IMG_20200324_173722"></p>
<center>还专门去注册账号，去答题了</center>

<p>Android TV 内置了 YouTube、NetFlix、Google Play Store 等软件，现在我们需要做的就是配置好局域网代理，然后开始看视频吧！</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200324_163708.jpg" alt="IMG_20200324_163708"></p>
<p>Android TV 自带 Chromecast 和 DLNA 投屏，可以直接投屏手机上的视频等。但是遗憾的是，Android TV 自然不会支持苹果 AirPlay ，这我就很难受（国内版是支持的，估计能通过软件解决）。</p>
<p>刚刚才在万能淘宝上购买了一个共享 NetFlix 账号，才九块九一个月，真香啊～电影电视剧动画啥的都随便看，真快乐(≧▽≦)/</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/mmexport1585111665757.jpg" alt="mmexport1585111665757"></p>
<center>NetFlix 上也可以看动画</center>

<h2 id="0x06-使用体验"><a href="#0x06-使用体验" class="headerlink" title="0x06. 使用体验"></a>0x06. 使用体验</h2><p>如果喜欢看国外的大片电视剧等视频、自己又喜欢折腾、有足够的技术能力，在使用上是非常不错的。</p>
<p>再说小米的产品一向价格厚道，这台不足 400RMB 的电视终端设备能支持 4K HDR10 60FPS 输出还是相当实惠！</p>
<p>当然小小的问题还是有，比如内置存储空间比较小，需要外接一个 U 盘或者移动硬盘较为合适。</p>
<p>如果网络条件允许，还是尽量在 Google Play Store 下载应用，并支持正版视频音乐订阅付费。</p>
<h2 id="0x07-值不值得买？"><a href="#0x07-值不值得买？" class="headerlink" title="0x07. 值不值得买？"></a>0x07. 值不值得买？</h2><p>如上所述，如果你：</p>
<ul>
<li>喜欢折腾</li>
<li>喜欢看国际大片、国外电视剧、动画等国际媒体</li>
<li>网络环境良好</li>
</ul>
<p>就可以买来玩玩，毕竟价格不贵，体验也不错。</p>
<p>相对于国内版：</p>
<ul>
<li>纯净 Android TV 8.0 无开屏广告</li>
<li>内置国际应用</li>
<li>不支持苹果 AirPlay</li>
<li>支持 Google Chromecast</li>
<li>支持 2.4GHz/5GHz 双频 Wi-Fi</li>
<li>遥控器无菜单键，但有语音键</li>
</ul>
<p>如果买不到国际版或者已有国内版的小伙伴，可以试试自己刷入国际版系统进行体验哦。</p>
<h2 id="完。"><a href="#完。" class="headerlink" title="完。"></a>完。</h2>]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>开箱</tag>
        <tag>小米</tag>
        <tag>MiBox</tag>
      </tags>
  </entry>
  <entry>
    <title>外置SSD安装Win2Go使用体验</title>
    <url>/2020/03/win-on-ssd-report/</url>
    <content><![CDATA[<h1 id="外置-SSD-安装-Win2Go-使用体验"><a href="#外置-SSD-安装-Win2Go-使用体验" class="headerlink" title="外置 SSD 安装 Win2Go 使用体验"></a>外置 SSD 安装 Win2Go 使用体验</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上回说到，因为我的<strong>MacBook Air</strong>内置硬盘太小，而且我恐怕内置硬盘很快达到读写上限。于是成功在外置 SSD 上安装了 Windows To Go 系统，而且成功使用了几天了。现在写一个简短的使用体验，希望有同样想法的朋友可以参考。</p>
<span id="more"></span>

<h2 id="总体上"><a href="#总体上" class="headerlink" title="总体上"></a>总体上</h2><p>在外置 SSD 上运行的 Windows 10 系统没有丝毫的不流畅，甚至没有出现蓝屏等异常情况。具体使用和正常的 Windows 10 并无差别。系统启动后会自动载入虚拟硬盘作为系统<code>C:\</code>盘，剩余空间将作为<code>D:\</code>盘。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200313183303285.png" alt="image-20200313183303285"  />

<h2 id="好的方面"><a href="#好的方面" class="headerlink" title="好的方面"></a>好的方面</h2><p>本来就是一个完整的 Windows 系统，各个软件都可以正常安装和使用，而且 Windows To Go 默认屏蔽内置硬盘，所以内置 SSD 启动后不会进行读写。</p>
<p>当然如果不屏蔽本机硬盘也很好，BootCamp 助理能够正常打开，并且手动切换系统。</p>
<p>开机之前可以手动选择系统，也可以默认上次启动的系统。我的网课可以在 Windows 上听，博客可以在 macOS 上发布。（Windows 平台的 QQ 的确功能要多一点，可能腾讯 mac 部门的已经没动力了吧？毕竟没皮肤没广告赚不到钱。）</p>
<p>Windows To Go 与 macOS 不通，macOS 可以访问 SSD 的剩余目录。前文说到推荐虚拟硬盘的安装方式，macOS 读写外置硬盘的时候不会损坏 Windows 系统文件；如果选择“传统”硬盘模式，好处是能够读写 Windows 系统内的文件，这主要看个人需求选择了。</p>
<p>Windows To Go 开机速度异常的快，甚至有时候感觉快过 macOS。</p>
<p><strong>MacBook Air</strong>键盘上的功能按键在 Windows 系统上也都正常，当然是在安装了 BootCamp 驱动之后。</p>
<h2 id="差的方面"><a href="#差的方面" class="headerlink" title="差的方面"></a>差的方面</h2><ol>
<li><p>Windows To Go 本身无法使用页面文件，也就是说，Windows 不能把压缩后的内存放进磁盘页面文件里。所有软件使用的内存都留在硬件内存中，在我 4GB 的电脑上显得有些紧张，内存占用几乎在 50%以上。别说开个 QQ、开个 Chrome、开个会议、开个 IDE 啥的了。为了节约内存，我关闭了一些服务，尽量减少后台程序。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200313195214621.png" alt="image-20200313195214621"  />
</li>
<li><p>可能是系统不兼容导致的，Windows To Go 在中度使用时（QQ+腾讯会议）发热严重，风扇呼呼呼的转，前面板有些热。这在以前安装双系统的时候是不会出现的，这个问题网友也普遍反馈。解决方法也比较粗暴：限制 CPU 最大利用率，外置一个小电风扇降温（别说还挺管用，没几分钟内置风扇没声音了，面板也凉爽了）。</p>
</li>
<li><p>根据网上说法，部分机型会无法连接 WiFi，有人解释是天线信号干扰，用锡箔纸屏蔽或者单独接网卡可以解决（真伪和具体方法自辩）。反正我的没问题。</p>
</li>
<li><p>外接的 USB 硬盘在读写速度上肯定没有内置硬盘那么快，因为我买的是 SATA SSD 2.5Gbps、USB 3.0 连接。想要更好体验的朋友可以直接上 SSD NVMe 协议硬盘加上雷电 3 接口传输。<em>推荐 NVMe SSD + 硬盘盒</em></p>
</li>
<li><p>Mac 寥寥无几的 USB 接口就被“永久”占据了一个，想让系统跑得欢，就需要把硬盘好好地平平稳稳的放着，机械硬盘你还抖不得。如果需要连接个外设，那必不可少的就是 USB Hub 了。外置硬盘最好保证电压和电流都稳定，不建议在 USB Hub 上连接外接硬盘（单独供电的可以试试）。</p>
</li>
</ol>
<p>暂时就这么多。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>Windows To Go</tag>
        <tag>使用体验</tag>
      </tags>
  </entry>
  <entry>
    <title>把Windows 10装进外接硬盘里(Windows To Go)</title>
    <url>/2020/03/ssd-wtg/</url>
    <content><![CDATA[<h1 id="把-Windows-10-装进外接硬盘里，给-Mac-外接一个系统"><a href="#把-Windows-10-装进外接硬盘里，给-Mac-外接一个系统" class="headerlink" title="把 Windows 10 装进外接硬盘里，给 Mac 外接一个系统"></a>把 Windows 10 装进外接硬盘里，给 Mac 外接一个系统</h1><blockquote>
<p><a href="https://docs.microsoft.com/zh-cn/windows/deployment/planning/windows-to-go-overview">Windows To Go：概述</a></p>
<p>Windows To Go 是 Windows 10 企业版和 Windows 10 教育版中的一项功能，支持创建可从电脑上 USB 连接的外部驱动器启动的 Windows To Go 工作区。</p>
<p>满足 Windows 7 或更高版本认证要求的 pc 可以在 Windows To Go 工作区中运行 Windows10，无论电脑上运行的是何种操作系统。 Windows To Go 工作区可以使用企业针对其桌面和便携式计算机使用的相同图像，并且可以通过同样的方式进行管理。 Windows To Go 不能取代桌面、笔记本电脑或 supplant 其他移动产品。 相反，它为备用工作区方案提供了对资源的有效使用的支持。</p>
</blockquote>
<span id="more"></span>

<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我的<strong>MacBook Air</strong>是一个很棒的电脑，它是在我 14 岁生日的那一天到我手中的，至今它还是我听网课的主要工具。若是说<strong>Mac</strong>的价格高，配不上那渣渣一样的配置，我的确没法反驳；但是从事实出发，这台<strong>MacBookAir6,1</strong>足足跟随了我快 6 年，从 <strong>OS X 10.8 Mountain Lion</strong> 到 <strong>macOS 10.15 Catalina</strong> 从 Windows 7 虚拟机到现在 Windows 10 LTSC 它从来没有崩溃过，也从来没有出现网上那些奇奇怪怪的问题。外观无损，屏幕正常，电池循环 162 次，装上 Windows 10 双系统还能流畅玩耍使命召唤 9，独立的<strong>macOS</strong>也很棒，小程序开发，写博客样样能行。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200311205914623.png" alt="image-20200311205914623"></p>
<p>要说唯一的不足，就是当初没钱，内置的 128GB SSD 实在是太小了。不久之前我曾想过给这台 Mac 更换一个硬盘，毕竟固态硬盘也很快会达到寿命，可是那高昂的原装盘价格和难以忍受的改装盘问题让我犹豫了。</p>
<p>外接个 SSD 装系统不仅减少内置硬盘读写、作为磁盘空间补充，还能双系统切换，岂不美哉？那我就去实现外接硬盘安装 Windows To Go 的想法。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>硬件材料：</p>
<ol>
<li>一块 SSD 硬盘（某品牌 120GB SATA SSD）</li>
<li>硬盘转接器（绿联 SATA3 转 USB 3.1）</li>
<li>一个 U 盘（东芝 8GB USB2.0）</li>
<li>一台 Windows 10 电脑（当然是我的惠普光影精灵 5）</li>
</ol>
<blockquote>
<p>ps.</p>
<p>受疫情影响，中国韩国日本等存储颗粒生产地产能持续下降，内存条和 SSD 的价格几乎是一天涨一个价，所以我选择了一个杂牌，因为<em>便宜</em>。</p>
</blockquote>
<p>软件材料：</p>
<ol>
<li>BootCamp 驱动</li>
<li>MSDN 原版 Windows 10 镜像</li>
<li><center>
  还在学习中，持续更新...
</center>

</li>
</ol>
<blockquote>
<p>ps.</p>
<p>我选择的是 Windows 10 Enterprise LTSC 2019 版本，是长期支持版本，而且这个版本没有内置 Windows App 应用，据说不会出现磁盘读写 100%问题。</p>
<p>如果 Windows 10 电脑版本是专业版或者企业版，则可以使用自带的 Windows To Go 工具制作。</p>
</blockquote>
<h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><h3 id="下载软件"><a href="#下载软件" class="headerlink" title="下载软件"></a>下载软件</h3><ul>
<li>在 macOS 下的启动转换助理 app（BootCamp 助理）中下载 Windows 支持软件，并选择下载到 U 盘中。</li>
</ul>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200311205837284.png" alt="image-20200311205837284"></p>
<ul>
<li>下载 WTG 辅助工具：<a href="https://bbs.luobotou.org/thread-761-1-1.html">Windows To Go 辅助工具|WTG 辅助工具 v5.1.2</a>(出处: 萝卜头 IT 论坛)</li>
</ul>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200311205610724.png" alt="image-20200311205610724" style="zoom:67%;" />

<ul>
<li>下载 Windows 10 原版镜像。可以到<a href="http://msdn.itellyou.cn">MSDN 我告诉你</a>下载</li>
</ul>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200311210816662.png" alt="image-20200311210816662" style="zoom: 67%;" />

<h3 id="写入镜像"><a href="#写入镜像" class="headerlink" title="写入镜像"></a>写入镜像</h3><ol>
<li>首先初始化新买的硬盘，使它能够在 Windows 系统下正常读写，略。</li>
<li>装载 Windows 镜像。在 Windows 10 上无需虚拟光驱，双击即可装载在“此电脑”中：</li>
</ol>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200311211023714.png" alt="image-20200311211023714"></p>
<ol start="3">
<li>打开 WGT 辅助工具，并按照以下图示操作：</li>
</ol>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/step1.png" alt="step1"></p>
<center>注意硬盘别选错了，系统版本可以任意选择</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/step2.png" alt="step2"></p>
<center>虽然苹果磁盘是GPT分区表，但是外接硬盘必须选择MBR，不然无法启动！！！</center>

<center>选择虚拟硬盘是防止Windows文件修改，同时便于备份</center>

<center>如果需要读取Windows系统下的文件，请选择“传统”磁盘模式</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/step3.png" alt="step3"></p>
<center>“虚拟硬盘”和“分区”可以按照需要调整</center>

<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/step4.png" alt="step4"></p>
<center>点击部署后，再次确认硬盘</center>

<ol start="4">
<li>等待写入完成之后取下硬盘。</li>
</ol>
<p>至此，Windows To Go 写入已完成。</p>
<h2 id="接入硬盘"><a href="#接入硬盘" class="headerlink" title="接入硬盘"></a>接入硬盘</h2><p>将 Mac 关机，把硬盘接入 Mac 中，点击电源键后<strong>按住 option</strong>按键，等待屏幕显示选择启动磁盘。<em>如果有多个磁盘显示，请优先选择 EFI Boot。选择其他引导分区可能无法启动</em></p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200311_213150.jpg" alt="IMG_20200311_213150" style="zoom: 67%;" />

<center>要选择<b>EFI Boot启动选项</b></center>

<p>然后等待 Windows 10 安装…</p>
<p>等待进入系统桌面之后，插入之前保存 Windows 支持软件的 U 盘，双击<strong>BootCamp.exe</strong>安装 Mac 专属驱动。期间电脑会闪烁屏幕、有硬件插入拔出的音效，这是正在安装驱动的正常现象。</p>
<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><p>重新启动一次之后，就能进入熟悉的 Windows 10 桌面啦~</p>
<p><strong>注意！!</strong>由于是外接硬盘运行的系统，建议每次开机之前需要按住<strong>option</strong>键手动选择启动磁盘，虽然我刚刚试了一下，Mac 可以记录上一次启动磁盘，正常从外部硬盘启动。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/WTG.jpg" alt="WTG"></p>
<h2 id="使用体验"><a href="#使用体验" class="headerlink" title="使用体验"></a>使用体验</h2><p><a href="https://ryzenx.com/2020/03/win-on-ssd-report/">【已更新】点击这里</a></p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>windows</tag>
        <tag>ssd</tag>
      </tags>
  </entry>
  <entry>
    <title>Python删除macOS产生的冗余文件</title>
    <url>/2020/03/macOS-trashfile-cleaner/</url>
    <content><![CDATA[<h1 id="利用Python删除磁盘中macOS产生的冗余文件"><a href="#利用Python删除磁盘中macOS产生的冗余文件" class="headerlink" title="利用Python删除磁盘中macOS产生的冗余文件"></a>利用Python删除磁盘中macOS产生的冗余文件</h1><blockquote>
<p><strong>特别说明：</strong></p>
<p>请不要在macOS下运行此脚本，因为这些文件对于macOS来说是可能必须的。</p>
<p>使用此Python脚本或其中部分代码导致的个人文件被删除，本人概不负责。</p>
<p>请确认你有足够的能力应对各种突发情况，再使用此代码。</p>
</blockquote>
<span id="more"></span>



<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>由于我的U盘需要经常在各个系统之间拷贝、移动文件，所以其中难免会被创建很多在其他系统平台没用的文件。</p>
<p>比如<code>Windows</code>下会创建<code>System Volume Information</code>目录</p>
<p><code>Android</code>平台下会创建<code>.android_secure</code>目录</p>
<p>相对于上面两个，<code>macOS</code>就比较难搞，不仅根目录下会有<code>.fseventsd  .Spotlight-V100  .Trashes</code>文件夹，各个目录下还会存放<code>.DS_Store</code>目录信息文件，最要命的还是每打开一个文件就会创建一个<code>._&lt;原文件名&gt;.&lt;原扩展名&gt;</code>的一个文件，有时候会误打开甚至把不智能的设备搞死机。</p>
<h2 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h2><p>利用正则表达式匹配文件目录中的<code>._</code>开头，以及<code>.DS_Store</code>文件，把它们移动到备份文件夹。</p>
<p>备份的目的就是防止正则表达式匹配到同样以<code>._</code>开头的<strong>正 ♂ 常</strong>文件，需要手动确认后在一键删除。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># encoding:UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delAll</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;delAll 删除备份文件夹</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        path (str): 备份文件夹位置</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;备份文件夹：&quot;</span>, path)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;是否清空备份文件夹？(yes / no)&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        s = <span class="built_in">input</span>(<span class="string">&quot;&gt; &quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> s.lower() <span class="keyword">in</span> [<span class="string">&quot;yes&quot;</span>, <span class="string">&quot;y&quot;</span>]:</span><br><span class="line">        <span class="keyword">for</span> fileList <span class="keyword">in</span> os.walk(path):</span><br><span class="line">            <span class="keyword">for</span> name <span class="keyword">in</span> fileList[<span class="number">2</span>]:</span><br><span class="line">                os.remove(os.path.join(fileList[<span class="number">0</span>], name))</span><br><span class="line">            shutil.rmtree(path)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;删除成功！&quot;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            sys.exit(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clean</span>(<span class="params">path, backup_path</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;clean 清理</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        path (str): 清理目标目录</span></span><br><span class="line"><span class="string">        backup_path (str): 备份目录</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 正则表达式</span></span><br><span class="line">    pattern1 = <span class="string">r&quot;^\._\S+&quot;</span></span><br><span class="line">    pattern2 = <span class="string">r&quot;^\.DS_Store$&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Selected path: &quot;</span> + path)</span><br><span class="line">    <span class="comment"># 递归查找目录下文件</span></span><br><span class="line">    <span class="keyword">for</span> dirpath, dirs, files <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">dir</span> <span class="keyword">in</span> dirs:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">dir</span>.lower() <span class="keyword">in</span> [<span class="string">&#x27;.fseventsd&#x27;</span>, <span class="string">&#x27;.spotlight-v100&#x27;</span>, <span class="string">&#x27;.trashes&#x27;</span>]:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                filePath = os.path.join(dirpath, <span class="built_in">dir</span>)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;* &#123;&#125; Found... &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i, filePath))</span><br><span class="line">                <span class="keyword">if</span> (os.path.exists(backup_path + os.path.sep + <span class="built_in">dir</span>)):</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        os.rename(backup_path + os.path.sep + <span class="built_in">dir</span>,</span><br><span class="line">                                  backup_path + os.path.sep + <span class="built_in">dir</span> + <span class="built_in">str</span>(i))</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能重命名&quot;</span> + backup_path + os.path.sep + <span class="built_in">dir</span>, err)</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        shutil.move(filePath, backup_path)</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能移动&quot;</span> + filePath, err)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        shutil.move(filePath, backup_path)</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能移动&quot;</span> + filePath, err)</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            matchObj1 = re.match(pattern1, file, re.I)</span><br><span class="line">            matchObj2 = re.match(pattern2, file, re.I)</span><br><span class="line">            <span class="keyword">if</span> matchObj1 <span class="keyword">or</span> matchObj2:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                filePath = os.path.join(dirpath, file)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;* &#123;&#125; Found... &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i, filePath))</span><br><span class="line">                <span class="keyword">if</span> (os.path.exists(backup_path + os.path.sep + file)):</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        os.rename(backup_path + os.path.sep + file,</span><br><span class="line">                                  backup_path + os.path.sep + file + <span class="built_in">str</span>(i))</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能重命名&quot;</span> + backup_path + os.path.sep + file, err)</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        shutil.move(filePath, backup_path)</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能移动&quot;</span> + filePath, err)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">try</span>:</span><br><span class="line">                        shutil.move(filePath, backup_path)</span><br><span class="line">                    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;不能移动&quot;</span> + filePath, err)</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\n*No trash file found!&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        shutil.rmtree(backup_path)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> OS_NAME == <span class="string">&#x27;nt&#x27;</span>:</span><br><span class="line">            os.system(<span class="string">&quot;explorer &quot;</span> + backup_path)</span><br><span class="line">        <span class="keyword">if</span> OS_NAME == <span class="string">&#x27;posix&#x27;</span>:</span><br><span class="line">            os.system(<span class="string">&quot;ls -a &quot;</span> + backup_path)</span><br><span class="line">        delAll(backup_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectPath</span>() -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;====================&quot;</span>, <span class="string">&quot;OS:&quot;</span>, OS_NAME)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;请输入需要处理的目录&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入 `this` 处理当前目录 &quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        src = <span class="built_in">input</span>(<span class="string">&quot;=&gt; &quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> src.lower() == <span class="string">&quot;this&quot;</span> <span class="keyword">or</span> os.path.exists(src):</span><br><span class="line">        <span class="keyword">return</span> src</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> FileNotFoundError(src)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkDir</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;mkDir 创建备份文件夹</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        path (str): 文件夹路径</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Raises:</span></span><br><span class="line"><span class="string">        FileNotFoundError: 无法创建文件夹</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (os.path.exists(path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span>)):</span><br><span class="line">        os.mkdir(path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">if</span> (os.path.exists(path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span>)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;备份文件夹创建成功...&quot;</span> + path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> FileNotFoundError(path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;main 主函数，方便外部调用</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 获取本文件所在目录</span></span><br><span class="line">    currentPath = os.getcwd() + os.path.sep</span><br><span class="line">    path = selectPath()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;备份文件夹目录：（不要在处理的目录下！）&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        backup_path = <span class="built_in">input</span>(<span class="string">&quot;=&gt; &quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Abort.&quot;</span>)</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line">    mkDir(backup_path)</span><br><span class="line">    backup_path = backup_path + os.path.sep + <span class="string">&quot;MAC-TMP-FILES&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (path.lower() == <span class="string">&quot;this&quot;</span>):</span><br><span class="line">        clean(currentPath, backup_path)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        clean(path, backup_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">OS_NAME = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    OS_NAME = os.name</span><br><span class="line">    <span class="keyword">if</span> OS_NAME == <span class="string">&#x27;nt&#x27;</span>:</span><br><span class="line">        os.system(<span class="string">&#x27;cls&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> OS_NAME == <span class="string">&#x27;posix&#x27;</span>:</span><br><span class="line">        os.system(<span class="string">&#x27;clear&#x27;</span>)</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Github链接"><a href="#Github链接" class="headerlink" title="Github链接"></a>Github链接</h2><ul>
<li><a href="https://github.com/Steven-nagisa-Y/macOS-trashfile-cleaner">Steven-nagisa-Y/macOS-trashfile-cleaner: Clean macOS trash files: ._xxx/.DS_Store, etc. (github.com)</a></li>
</ul>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>code</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>小米手环4 开箱</title>
    <url>/2020/03/Mi-band-4/</url>
    <content><![CDATA[<h1 id="小米手环-4-开箱"><a href="#小米手环-4-开箱" class="headerlink" title="小米手环 4 开箱"></a>小米手环 4 开箱</h1><blockquote>
<p>摘自百度百科“小米手环 4”：</p>
<p>小米手环 4 是小米公司 2019 年 6 月 11 日发布的智能新品，与小米手环 3 相比，表盘不仅从黑白升级为 AMOLED 彩屏，显示面积也增加了 39.9%；表面覆盖 2.5D 弧面耐刮强化玻璃，搭配 77 种表盘主题，可以充分满足个性化需求。</p>
<p>小米手环 4 标准版/NFC 版，采用真彩屏、50 米防水、6 轴传感器等，售价 169 元。共有石墨黑、热力橙、深空蓝、酒红、藕荷粉 5 种颜色（标准版）。</p>
</blockquote>
<span id="more"></span>

<h2 id="入手原因"><a href="#入手原因" class="headerlink" title="入手原因"></a>入手原因</h2><p>啦啦啦啦啦～</p>
<p>我又来开箱了！这次入手的是小米手环 4 （标准版）深蓝色。小米手环 4 已经发售了大半年了，我还是忍不住买了下来，观众朋友们就会问了：<strong>Apple Watch</strong>它不香吗？干嘛还再买一个小米手环？</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_121127.jpg" alt="IMG_20200306_121127" style="zoom: 30%;" />

<p>其实我犹豫许久购买小米手环 4 的原因也很简单：这段时间一直呆在家里，几乎就不运动，更用不着看时间；手机就在身边，各种以前常用的功能手机就能满足，所以 Apple Watch 就一直当作<strong>MacBook</strong>解锁器。Apple Watch 戴也要耗电，不戴也要耗电（戴着也不用），为了让它能长久地陪伴我，免得充电循环次数太多。小米手环 4 就可以当作闹钟，久坐提醒，还能有 20 天左右的续航。我我决定：<strong>把 Apple Watch 放着吃灰！</strong>购买一个小米手环 4 。</p>
<h2 id="外观"><a href="#外观" class="headerlink" title="外观"></a>外观</h2><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_120758.jpg" alt="IMG_20200306_120758" style="zoom:60%;" />

<p>哈哈哈哈，先请出小米手环家族的<em>包装盒</em>( ´▽` )ﾉ</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_120941.jpg" alt="IMG_20200306_120941" style="zoom:50%;" />

<hr>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_120919.jpg" alt="IMG_20200306_120919" style="zoom:50%;" />

<p>然后直接来打开包装(´･ω･`)</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_121225.jpg" alt="IMG_20200306_121225" style="zoom:50%;" />

<hr>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_121355.jpg" alt="IMG_20200306_121355" style="zoom:50%;" />

<p>这次小米手环 4 的包装和前三代不同，采用了长条形软纸壳包装，个人认为没有前三代的包装好看精致。</p>
<p>内部空余空间比较多，上部放置着折叠起来的充电器，中部是手环主体和腕带，下部一大块是<strong>一小本说明书！！</strong>这也太没有设计感了。</p>
<p>这次小米手环 4 仍然没有采用免拆卸式充电设计，所以没电了还需要取下手环主体充电。</p>
<h2 id="产品介绍"><a href="#产品介绍" class="headerlink" title="产品介绍"></a>产品介绍</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200306173421463.png" alt="image-20200306173421463"></p>
<p>这次最大的升级就是屏幕了，小米手环 4 采用了 AMOLED 彩色显示屏，支持触摸。这样就能够支持显示信息、通知、来电以及支付宝手环支付。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200306173505843.png" alt="image-20200306173505843" style="zoom:50%;" />

<p>小米手环 4 还内置 6 轴传感器，能够检测更多的运动方式。同时还有 50 米防水，无需担心进水问题。</p>
<blockquote>
<p>说到这里我就怀念起我的黑加手环(&gt;﹏&lt;)在泰国清迈某酒店游泳池内进水坏掉了</p>
<p>上三代小米手环我还没有担心过进水问题</p>
</blockquote>
<p>小米手环 4 NFC 版功能就要多一些：NFC 刷卡、小爱同学、智能家庭控制。</p>
<p>不过我思考了一下，这些功能我的需求不大，遂选择了标准版。</p>
<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><p>手机下载<strong>小米运动</strong>即可开始配对小米手环，小米手环 4 采用的是蓝牙 5.0，所以在传输距离上目前还算满意。如果你以前使用过小米手环，App 将尝试恢复数据。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_133801.jpg" alt="IMG_20200306_133801" style="zoom: 67%;" />

<p>接着<strong>小米运动</strong>App 将会对小米手环 4 的固件和资源库进行升级，可能需要持续几分钟。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_133817.jpg" alt="IMG_20200306_133817" style="zoom: 67%;" />

<p>如果一切顺利，那么小米手环就可以成功连接你的手机并开始同步了，并且可以在“_我的-我的设备-小米手环 4_”中设置一些项目了。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/IMG_20200306_174028.jpg" alt="IMG_20200306_174028" style="zoom:67%;" />

<p>对于需要一个智能穿戴设备的小伙伴可以选择小米手环 4 体验一番。而且小米运动 App 的适配性挺不错的，几乎能够在目前任何 Android 手机上运行，不必担心兼容性问题。</p>
<p>当然我还是主张选择型号配对的设备：比如你使用三星手机，就应当优先考虑三星穿戴设备；如果你使用华为/荣耀，就优先考虑华为/荣耀穿戴设备；如果你使用 iPhone，不用多说，<strong>Apple Watch</strong>买起来。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>开箱</tag>
        <tag>小米手环</tag>
        <tag>小米</tag>
      </tags>
  </entry>
  <entry>
    <title>花式字体</title>
    <url>/2020/03/%E8%8A%B1%E5%BC%8F%E5%AD%97%E4%BD%93/</url>
    <content><![CDATA[<h1 id="Markdown-花式字体"><a href="#Markdown-花式字体" class="headerlink" title="Markdown 花式字体"></a>Markdown 花式字体</h1><p><strong>如果你的浏览器在网页上无法预览字体</strong></p>
<p><strong>请点击➡️<a href="https://url.ryzenx.com/html/花式字体.html">  这里  </a></strong></p>
<span id="more"></span>

<h3 id="常规字体"><a href="#常规字体" class="headerlink" title="常规字体"></a>常规字体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathrm&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathrm{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<h3 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathit&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathit{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathnormal&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>



<h3 id="手写体"><a href="#手写体" class="headerlink" title="手写体"></a>手写体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathcal&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathcal{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<h3 id="花体"><a href="#花体" class="headerlink" title="花体"></a>花体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathscr&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathscr{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<h3 id="哥特体"><a href="#哥特体" class="headerlink" title="哥特体"></a>哥特体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathfrak&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathfrak{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<h3 id="空心体"><a href="#空心体" class="headerlink" title="空心体"></a>空心体</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathbb&#123;Your text here&#125;$</span><br></pre></td></tr></table></figure>

<p>Like this:</p>
<p>$\mathbb{ABCDEFGHIJKLMNOPQRSTUVWXYZ \ \quad abcdefghijklmnopqrstuvwxyz \ 1234567890}$</p>
<p>​    $\mathfrak{Steven \ \ Yan}$</p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>font</tag>
        <tag>text</tag>
      </tags>
  </entry>
  <entry>
    <title>常见LaTeX数学符号参考（图转）</title>
    <url>/2020/03/Markdown+LaTeX/</url>
    <content><![CDATA[<h1 id="常见-LaTeX-数学符号参考（图转）"><a href="#常见-LaTeX-数学符号参考（图转）" class="headerlink" title="常见 LaTeX 数学符号参考（图转）"></a>常见 LaTeX 数学符号参考（图转）</h1><blockquote>
<p>适用于<strong>Typora</strong>下数学符号打印（亲测）</p>
<p>（摘录自百度百科：“LaTeX“）</p>
<p>$\LaTeX$（LATEX，音译“拉泰赫”）是一种基于 ΤΕΧ 的排版系统，由美国计算机学家莱斯利·兰伯特（Leslie Lamport）在 20 世纪 80 年代初期开发，利用这种格式，即使使用者没有排版和程序设计的知识也可以充分发挥由 TeX 所提供的强大功能，能在几天，甚至几小时内生成很多具有书籍质量的印刷品。对于生成复杂表格和数学公式，这一点表现得尤为突出。因此它非常适用于生成高印刷质量的科技和数学类文档。这个系统同样适用于生成从简单的信件到完整书籍的所有其他种类的文档。</p>
</blockquote>
<span id="more"></span>

<h2 id="常见排版"><a href="#常见排版" class="headerlink" title="常见排版"></a>常见排版</h2><p>见<a href="/2020/03/Markdown-Reference">Typora Markdown Reference</a></p>
<h2 id="数学符号代码"><a href="#数学符号代码" class="headerlink" title="数学符号代码"></a>数学符号代码</h2><p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2019-11-25-20-00-53-186_com.android.ch.jpg" alt="Screenshot_2019-11-25-20-00-53-186_com.android.ch"></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2019-11-25-20-01-01-696_com.android.ch.jpg" alt="Screenshot_2019-11-25-20-01-01-696_com.android.ch"></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2019-11-25-20-01-25-404_com.android.ch.jpg" alt="Screenshot_2019-11-25-20-01-25-404_com.android.ch"></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2019-11-25-20-01-32-326_com.android.ch.jpg" alt="Screenshot_2019-11-25-20-01-32-326_com.android.ch"></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/Screenshot_2019-11-25-20-01-47-619_com.android.ch.jpg" alt="Screenshot_2019-11-25-20-01-47-619_com.android.ch"></p>
<p>原文见上图链接</p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>note</tag>
        <tag>markdown</tag>
        <tag>参考</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown For Typora</title>
    <url>/2020/03/Markdown-Reference/</url>
    <content><![CDATA[<h1 id="Markdown-For-Typora"><a href="#Markdown-For-Typora" class="headerlink" title="Markdown For Typora"></a>Markdown For Typora</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p><strong>Markdown</strong> is created by <a href="http://daringfireball.net/">Daring Fireball</a>; the original guideline is <a href="http://daringfireball.net/projects/markdown/syntax">here</a>. Its syntax, however, varies between different parsers or editors. <strong>Typora</strong> is using <a href="https://help.github.com/articles/github-flavored-markdown/">GitHub Flavored Markdown</a>.</p>
<span id="more"></span>
<!--[toc]-->

<h2 id="Block-Elements"><a href="#Block-Elements" class="headerlink" title="Block Elements"></a>Block Elements</h2><h3 id="Paragraph-and-line-breaks"><a href="#Paragraph-and-line-breaks" class="headerlink" title="Paragraph and line breaks"></a>Paragraph and line breaks</h3><p>A paragraph is simply one or more consecutive lines of text. In markdown source code, paragraphs are separated by two or more blank lines. In Typora, you only need one blank line (press <code>Return</code> once) to create a new paragraph.</p>
<p>Press <code>Shift</code> + <code>Return</code> to create a single line break. Most other markdown parsers will ignore single line breaks, so in order to make other markdown parsers recognize your line break, you can leave two spaces at the end of the line, or insert <code>&lt;br/&gt;</code>.</p>
<h3 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h3><p>Headers use 1-6 hash (<code>#</code>) characters at the start of the line, corresponding to header levels 1-6. For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># This is an H1</span></span><br><span class="line"></span><br><span class="line"><span class="section">## This is an H2</span></span><br><span class="line"></span><br><span class="line"><span class="section">###### This is an H6</span></span><br></pre></td></tr></table></figure>

<p>In Typora, input ‘#’s followed by title content, and press <code>Return</code> key will create a header.</p>
<h3 id="Blockquotes"><a href="#Blockquotes" class="headerlink" title="Blockquotes"></a>Blockquotes</h3><p>Markdown uses email-style &gt; characters for block quoting. They are presented as:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="quote">&gt; This is a blockquote with two paragraphs. This is first paragraph.</span></span><br><span class="line"><span class="quote">&gt;</span></span><br><span class="line"><span class="quote">&gt; This is second pragraph. Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; This is another blockquote with one paragraph. There is three empty line to seperate two blockquote.</span></span><br></pre></td></tr></table></figure>

<p>In Typora, inputting ‘&gt;’ followed by your quote contents will generate a quote block. Typora will insert a proper ‘&gt;’ or line break for you. Nested block quotes (a block quote inside another block quote) by adding additional levels of ‘&gt;’.</p>
<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>Input <code>* list item 1</code> will create an unordered list - the <code>*</code> symbol can be replace with <code>+</code> or <code>-</code>.</p>
<p>Input <code>1. list item 1</code> will create an ordered list - their markdown source code is as follows:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">## un-ordered list</span></span><br><span class="line"><span class="bullet">*</span>   Red</span><br><span class="line"><span class="bullet">*</span>   Green</span><br><span class="line"><span class="bullet">*</span>   Blue</span><br><span class="line"></span><br><span class="line"><span class="section">## ordered list</span></span><br><span class="line"><span class="bullet">1.</span>  Red</span><br><span class="line"><span class="bullet">2.</span> 	Green</span><br><span class="line"><span class="bullet">3.</span>	Blue</span><br></pre></td></tr></table></figure>

<h3 id="Task-List"><a href="#Task-List" class="headerlink" title="Task List"></a>Task List</h3><p>Task lists are lists with items marked as either [ ] or [x] (incomplete or complete). For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> [ ] a task list item</span><br><span class="line"><span class="bullet">-</span> [ ] list syntax required</span><br><span class="line"><span class="bullet">-</span> [ ] normal <span class="strong">**formatting**</span>, @mentions, #1234 refs</span><br><span class="line"><span class="bullet">-</span> [ ] incomplete</span><br><span class="line"><span class="bullet">-</span> [x] completed</span><br></pre></td></tr></table></figure>

<p>You can change the complete/incomplete state by clicking on the checkbox before the item.</p>
<h3 id="Fenced-Code-Blocks"><a href="#Fenced-Code-Blocks" class="headerlink" title="(Fenced) Code Blocks"></a>(Fenced) Code Blocks</h3><p>Typora only supports fences in GitHub Flavored Markdown. Original code blocks in markdown are not supported.</p>
<p>Using fences is easy: Input ``` and press <code>return</code>. Add an optional language identifier after ``` and we’ll run it through syntax highlighting:</p>
<p>Here’s an example:</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">test</span>() &#123;</span><br><span class="line">  console.log(&quot;notice the blank line before this <span class="keyword">function</span>?&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>syntax highlighting:</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;redcarpet&#x27;</span></span><br><span class="line">markdown = Redcarpet.new(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">puts markdown.to_html</span><br></pre></td></tr></table></figure>

<h3 id="Math-Blocks"><a href="#Math-Blocks" class="headerlink" title="Math Blocks"></a>Math Blocks</h3><p>You can render <em>LaTeX</em> mathematical expressions using <strong>MathJax</strong>.</p>
<p>To add a mathematical expression, input <code>$$</code> and press the ‘Return’ key. This will trigger an input field which accepts <em>Tex/LaTex</em> source. For example:</p>
<p>$$<br>\mathbf{V}_1 \times \mathbf{V}_2 =  \begin{vmatrix}<br>\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \<br>\frac{\partial X}{\partial u} &amp;  \frac{\partial Y}{\partial u} &amp; 0 \<br>\frac{\partial X}{\partial v} &amp;  \frac{\partial Y}{\partial v} &amp; 0 \<br>\end{vmatrix}<br>$$</p>
<p>In the markdown source file, the math block is a <em>LaTeX</em> expression wrapped by a pair of ‘$$’ marks:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\mathbf&#123;V&#125;<span class="emphasis">_1 \times \mathbf&#123;V&#125;_</span>2 =  \begin&#123;vmatrix&#125;</span><br><span class="line">\mathbf&#123;i&#125; &amp; \mathbf&#123;j&#125; &amp; \mathbf&#123;k&#125; \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial u&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial u&#125; &amp; 0 \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial v&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial v&#125; &amp; 0 \\</span><br><span class="line">\end&#123;vmatrix&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>

<p>You can find more details <a href="https://support.typora.io/Math/">here</a>.</p>
<h3 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h3><p>Input <code>| First Header  | Second Header |</code> and press the <code>return</code> key. This will create a table with two columns.</p>
<p>After a table is created, putting focus on that table will open up a toolbar for the table where you can resize, align, or delete the table. You can also use the context menu to copy and add/delete individual columns/rows.</p>
<p>The full syntax for tables is described below, but it is not necessary to know the full syntax in detail as the markdown source code for tables is generated automatically by Typora.</p>
<p>In markdown source code, they look like:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| First Header  | Second Header |</span><br><span class="line">| ------------- | ------------- |</span><br><span class="line">| Content Cell  | Content Cell  |</span><br><span class="line">| Content Cell  | Content Cell  |</span><br></pre></td></tr></table></figure>

<p>You can also include inline Markdown such as links, bold, italics, or strikethrough in the table.</p>
<p>Finally, by including colons (<code>:</code>) within the header row, you can define text in that column to be left-aligned, right-aligned, or center-aligned:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| Left-Aligned  | Center Aligned  | Right Aligned |</span><br><span class="line">| :------------ |:---------------:| -----:|</span><br><span class="line">| col 3 is      | some wordy text | $1600 |</span><br><span class="line">| col 2 is      | centered        |   $12 |</span><br><span class="line">| zebra stripes | are neat        |    $1 |</span><br></pre></td></tr></table></figure>

<p>A colon on the left-most side indicates a left-aligned column; a colon on the right-most side indicates a right-aligned column; a colon on both sides indicates a center-aligned column.</p>
<h3 id="Footnotes"><a href="#Footnotes" class="headerlink" title="Footnotes"></a>Footnotes</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">You can create footnotes like this[^footnote].</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^footnote</span>]: <span class="link">Here is the *text* of the **footnote**.</span></span><br></pre></td></tr></table></figure>

<p>will produce:</p>
<p>You can create footnotes like this[^footnote].</p>
<p>[^footnote]: Here is the <em>text</em> of the <strong>footnote</strong>.</p>
<p>Hover over the ‘footnote’ superscript to see content of the footnote.</p>
<h3 id="Horizontal-Rules"><a href="#Horizontal-Rules" class="headerlink" title="Horizontal Rules"></a>Horizontal Rules</h3><p>Inputting <code>***</code> or <code>---</code> on a blank line and pressing <code>return</code> will draw a horizontal line.</p>
<hr>
<h3 id="YAML-Front-Matter"><a href="#YAML-Front-Matter" class="headerlink" title="YAML Front Matter"></a>YAML Front Matter</h3><p>Typora now supports <a href="http://jekyllrb.com/docs/frontmatter/">YAML Front Matter</a>. Input <code>---</code> at the top of the article and then press <code>Return</code> to introduce a metadata block. Alternatively, you can insert a metadata block from the top menu of Typora.</p>
<h3 id="Table-of-Contents-TOC"><a href="#Table-of-Contents-TOC" class="headerlink" title="Table of Contents (TOC)"></a>Table of Contents (TOC)</h3><p>Input <code>[toc]</code> and press the <code>Return</code> key. This will create a  “Table of Contents” section. The TOC extracts all headers from the document, and its contents are updated automatically as you add to the document.</p>
<h2 id="Span-Elements"><a href="#Span-Elements" class="headerlink" title="Span Elements"></a>Span Elements</h2><p>Span elements will be parsed and rendered right after typing. Moving the cursor in middle of those span elements will expand those elements into markdown source. Below is an explanation of the syntax for each span element.</p>
<h3 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h3><p>Markdown supports two styles of links: inline and reference.</p>
<p>In both styles, the link text is delimited by [square brackets].</p>
<p>To create an inline link, use a set of regular parentheses immediately after the link text’s closing square bracket. Inside the parentheses, put the URL where you want the link to point, along with an optional title for the link, surrounded in quotes. For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">This is [<span class="string">an example</span>](<span class="link">http://example.com/ &quot;Title&quot;</span>) inline link.</span><br><span class="line"></span><br><span class="line">[<span class="string">This link</span>](<span class="link">http://example.net/</span>) has no title attribute.</span><br></pre></td></tr></table></figure>

<p>will produce:</p>
<p>This is <a href="http://example.com/" title="Title">an example</a> inline link. (<code>&lt;p&gt;This is &lt;a href=&quot;http://example.com/&quot; title=&quot;Title&quot;&gt;</code>)</p>
<p><a href="http://example.net/">This link</a> has no title attribute. (<code>&lt;p&gt;&lt;a href=&quot;http://example.net/&quot;&gt;This link&lt;/a&gt; has no</code>)</p>
<h4 id="Internal-Links"><a href="#Internal-Links" class="headerlink" title="Internal Links"></a>Internal Links</h4><p><strong>You can set the href to headers</strong>, which will create a bookmark that allow you to jump to that section after clicking. For example:</p>
<p>Command(on Windows: Ctrl) + Click <a href="#Block-Elements">This link</a> will jump to header <code>Block Elements</code>. To see how to write that, please move cursor or click that link with <code>⌘</code> key pressed to expand the element into markdown source.</p>
<h4 id="Reference-Links"><a href="#Reference-Links" class="headerlink" title="Reference Links"></a>Reference Links</h4><p>Reference-style links use a second set of square brackets, inside which you place a label of your choosing to identify the link:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">This is [<span class="string">an example</span>][<span class="symbol">id</span>] reference-style link.</span><br><span class="line"></span><br><span class="line">Then, anywhere in the document, you define your link label on a line by itself like this:</span><br><span class="line"></span><br><span class="line">[<span class="symbol">id</span>]: <span class="link">http://example.com/  &quot;Optional Title Here&quot;</span></span><br></pre></td></tr></table></figure>

<p>In Typora, they will be rendered like so:</p>
<p>This is <a href="http://example.com/" title="Optional Title Here">an example</a> reference-style link.</p>
<p>The implicit link name shortcut allows you to omit the name of the link, in which case the link text itself is used as the name. Just use an empty set of square brackets — for example, to link the word “Google” to the google.com web site, you could simply write:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">[<span class="string">Google</span>][<span class="symbol"></span>]</span><br><span class="line">And then define the link:</span><br><span class="line"></span><br><span class="line">[<span class="symbol">Google</span>]: <span class="link">http://google.com/</span></span><br></pre></td></tr></table></figure>

<p>In Typora, clicking the link will expand it for editing, and command+click will open the hyperlink in your web browser.</p>
<h3 id="URLs"><a href="#URLs" class="headerlink" title="URLs"></a>URLs</h3><p>Typora allows you to insert URLs as links, wrapped by <code>&lt;</code>brackets<code>&gt;</code>.</p>
<p><code>&lt;i@typora.io&gt;</code> becomes <a href="mailto:&#x69;&#64;&#116;&#121;&#x70;&#x6f;&#x72;&#97;&#x2e;&#105;&#111;">&#x69;&#64;&#116;&#121;&#x70;&#x6f;&#x72;&#97;&#x2e;&#105;&#111;</a>.</p>
<p>Typora will also automatically link standard URLs. e.g: <a href="http://www.google.com">www.google.com</a>.</p>
<h3 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h3><p>Images have similar syntax as links, but they require an additional <code>!</code> char before the start of the link. The syntax for inserting an image looks like this:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">![<span class="string">Alt text</span>](<span class="link">/path/to/img.jpg</span>)</span><br><span class="line"></span><br><span class="line">![<span class="string">Alt text</span>](<span class="link">/path/to/img.jpg &quot;Optional title&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>You are able to use drag &amp; drop to insert an image from an image file or your web browser. You can modify the markdown source code by clicking on the image. A relative path will be used if the image that is added using drag &amp; drop is in same directory or sub-directory as the document you’re currently editing.</p>
<p>If you’re using markdown for building websites, you may specify a URL prefix for the image preview on your local computer with property <code>typora-root-url</code> in YAML Front Matters. For example, input <code>typora-root-url:/User/Abner/Website/typora.io/</code> in YAML Front Matters, and then <code>![alt](/blog/img/test.png)</code> will be treated as <code>![alt](file:///User/Abner/Website/typora.io/blog/img/test.png)</code> in Typora.</p>
<p>You can find more details <a href="https://support.typora.io/Images/">here</a>.</p>
<h3 id="Emphasis"><a href="#Emphasis" class="headerlink" title="Emphasis"></a>Emphasis</h3><p>Markdown treats asterisks (<code>*</code>) and underscores (<code>_</code>) as indicators of emphasis. Text wrapped with one <code>*</code> or <code>_</code> will be wrapped with an HTML <code>&lt;em&gt;</code> tag. E.g:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="emphasis">*single asterisks*</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">_single underscores_</span></span><br></pre></td></tr></table></figure>

<p>output:</p>
<p><em>single asterisks</em></p>
<p><em>single underscores</em></p>
<p>GFM will ignore underscores in words, which is commonly used in code and names, like this:</p>
<blockquote>
<p>wow_great_stuff</p>
<p>do_this_and_do_that_and_another_thing.</p>
</blockquote>
<p>To produce a literal asterisk or underscore at a position where it would otherwise be used as an emphasis delimiter, you can backslash escape it:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">\<span class="emphasis">*this text is surrounded by literal asterisks\*</span></span><br></pre></td></tr></table></figure>

<p>Typora recommends using the <code>*</code> symbol.</p>
<h3 id="Strong"><a href="#Strong" class="headerlink" title="Strong"></a>Strong</h3><p>A double <code>*</code> or <code>_</code> will cause its enclosed contents to be wrapped with an HTML <code>&lt;strong&gt;</code> tag, e.g:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="strong">**double asterisks**</span></span><br><span class="line"></span><br><span class="line"><span class="strong">__double underscores__</span></span><br></pre></td></tr></table></figure>

<p>output:</p>
<p><strong>double asterisks</strong></p>
<p><strong>double underscores</strong></p>
<p>Typora recommends using the <code>**</code> symbol.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>To indicate an inline span of code, wrap it with backtick quotes (`). Unlike a pre-formatted code block, a code span indicates code within a normal paragraph. For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">Use the <span class="code">`printf()`</span> function.</span><br></pre></td></tr></table></figure>

<p>will produce:</p>
<p>Use the <code>printf()</code> function.</p>
<h3 id="Strikethrough"><a href="#Strikethrough" class="headerlink" title="Strikethrough"></a>Strikethrough</h3><p>GFM adds syntax to create strikethrough text, which is missing from standard Markdown.</p>
<p><code>~~Mistaken text.~~</code> becomes <del>Mistaken text.</del></p>
<h3 id="Underlines"><a href="#Underlines" class="headerlink" title="Underlines"></a>Underlines</h3><p>Underline is powered by raw HTML.</p>
<p><code>&lt;u&gt;Underline&lt;/u&gt;</code> becomes <u>Underline</u>.</p>
<h3 id="Emoji-smile"><a href="#Emoji-smile" class="headerlink" title="Emoji :smile:"></a>Emoji :smile:</h3><p>Input emoji with syntax <code>:smile:</code>.🤣</p>
<p>User can trigger auto-complete suggestions for emoji by pressing <code>ESC</code> key, or trigger it automatically after enabling it on preference panel. Also, inputting UTF-8 emoji characters directly is also supported by going to <code>Edit</code> -&gt; <code>Emoji &amp; Symbols</code> in the menu bar (macOS).</p>
<h3 id="Inline-Math"><a href="#Inline-Math" class="headerlink" title="Inline Math"></a>Inline Math</h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>$</code> to wrap a TeX command. For example: <code>$\lim_&#123;x \to \infty&#125; \exp(-x) = 0$</code> will be rendered as LaTeX command.</p>
<p>To trigger inline preview for inline math: input “$”, then press the <code>ESC</code> key, then input a TeX command.</p>
<p>You can find more details <a href="https://support.typora.io/Math/">here</a>.</p>
<h3 id="Subscript"><a href="#Subscript" class="headerlink" title="Subscript"></a>Subscript</h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>~</code> to wrap subscript content. For example: <code>H~2~O</code>, <code>X~long\ text~</code>/</p>
<h3 id="Superscript"><a href="#Superscript" class="headerlink" title="Superscript"></a>Superscript</h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>^</code> to wrap superscript content. For example: <code>X^2^</code>.</p>
<h3 id="Highlight"><a href="#Highlight" class="headerlink" title="Highlight"></a>Highlight</h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>==</code> to wrap highlight content. For example: <code>==highlight==</code>.</p>
<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><p>You can use HTML to style content what pure Markdown does not support. For example, use <code>&lt;span style=&quot;color:red&quot;&gt;this text is red&lt;/span&gt;</code> to add text with red color.</p>
<h3 id="Embed-Contents"><a href="#Embed-Contents" class="headerlink" title="Embed Contents"></a>Embed Contents</h3><p>Some websites provide iframe-based embed code which you can also paste into Typora. For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">&#x27;265&#x27;</span> <span class="attr">scrolling</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">title</span>=<span class="string">&#x27;Fancy Animated SVG Menu&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;http://codepen.io/jeangontijo/embed/OxVywj/?height=265&amp;theme-id=0&amp;default-tab=css,result&amp;embed-version=2&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">allowtransparency</span>=<span class="string">&#x27;true&#x27;</span> <span class="attr">allowfullscreen</span>=<span class="string">&#x27;true&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;width: 100%;&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h3><p>You can use the <code>&lt;video&gt;</code> HTML tag to embed videos. For example:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;xxx.mp4&quot;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>



<h3 id="Other-HTML-Support"><a href="#Other-HTML-Support" class="headerlink" title="Other HTML Support"></a>Other HTML Support</h3><p>You can find more details <a href="https://support.typora.io/HTML/">here</a>.</p>
<h2 id="For-Math"><a href="#For-Math" class="headerlink" title="For Math"></a>For Math</h2><p><strong>Look up this Document: <a href="/2020/03/Markdown+LaTeX">Markdown+LaTeX</a></strong></p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>note</tag>
        <tag>markdown</tag>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>现代物流的基本概念</title>
    <url>/2020/02/modern-logistics/</url>
    <content><![CDATA[<h1 id="现代物流学"><a href="#现代物流学" class="headerlink" title="现代物流学"></a>现代物流学</h1><h2 id="第一章：物流的基本概念"><a href="#第一章：物流的基本概念" class="headerlink" title="第一章：物流的基本概念"></a>第一章：物流的基本概念</h2><blockquote>
<ol>
<li>物流概念的产生</li>
<li>物流的定义</li>
<li>物流的效用</li>
<li>物流的分类</li>
<li>物流与社会经济</li>
<li>现代物流理念及其特征</li>
</ol>
</blockquote>
<span id="more"></span>

<h3 id="物流概念的产生"><a href="#物流概念的产生" class="headerlink" title="物流概念的产生"></a>物流概念的产生</h3><ul>
<li>发生在社会经济领域中的一种活动</li>
<li>物质资料生产和流通活动的有机组成部分</li>
<li>物流涵盖了从原材料的获取到半成品管理和产成品销售的全过程</li>
</ul>
<h3 id="物流的定义"><a href="#物流的定义" class="headerlink" title="物流的定义"></a>物流的定义</h3><h4 id="不同的定义："><a href="#不同的定义：" class="headerlink" title="不同的定义："></a>不同的定义：</h4><ol>
<li><p>物流是从生产阶段到消费或利用阶段物资的移动及货物处理活动的管理。</p>
</li>
<li><p>物流是制品从生产地到最终消费者的物理性转移活动。具体是由包装、装卸、运输、保管以及信息等活动组成。</p>
</li>
<li><p>物流是将原材料、半成品以及产成品由生产地送达至消费地的所有流通活动。包括用户服务、需求预测、信息联系、物料搬运、订单处理、选址、采购、包装、运输、装卸、废弃物处理以及仓储管理。</p>
</li>
<li><p>物流是为满足消费者需求而进行的对原材料、半成品、最终产品及相关信息从起始地到消费地的有效流动与存储的计划、实施与控制的过程。</p>
</li>
<li><p>物流是<strong>对从生产阶段到消费或者利用阶段物资的移动及货物的处理活动的管理。</strong></p>
</li>
</ol>
<h4 id="物流与营销的关系"><a href="#物流与营销的关系" class="headerlink" title="物流与营销的关系"></a>物流与营销的关系</h4><ul>
<li>最早的物流定义是由营销组织提出来的。</li>
<li>物流看作营销的要素之一。</li>
</ul>
<h4 id="物流和物流管理的关系"><a href="#物流和物流管理的关系" class="headerlink" title="物流和物流管理的关系"></a>物流和物流管理的关系</h4><h4 id="Logistics-与-PD的关系"><a href="#Logistics-与-PD的关系" class="headerlink" title="Logistics 与 PD的关系"></a>Logistics 与 PD的关系</h4><p>二者的主要区别在于所涵盖范围的变化</p>
<p>Logistics是将<em>物料采购供应</em>、<em>产品生产制造</em>和<em>产成品销售</em>的存货流动依次对接。</p>
<h4 id="运输和物流之间的关系"><a href="#运输和物流之间的关系" class="headerlink" title="运输和物流之间的关系"></a>运输和物流之间的关系</h4><p>运输是物流活动的一个核心要素；</p>
<p>物流中其它要素的变化，都会对运输产生影响；</p>
<p>运输是现代物流服务的重要物质技术基础；</p>
<p>运输是社会物流体系的一个有机组成部分；</p>
<p>交通运输与社会生产的物流结构互相影响。</p>
<h3 id="物流的作用"><a href="#物流的作用" class="headerlink" title="物流的作用"></a>物流的作用</h3><h4 id="商品的价值"><a href="#商品的价值" class="headerlink" title="商品的价值"></a>商品的价值</h4><ol>
<li>形式价值  =&gt;  产生于生产过程</li>
<li>时间价值  =&gt;  产生于存储过程</li>
<li>空间价值  =&gt;  产生于运输过程</li>
<li>所有权价值  =&gt;  产生于销售过程</li>
</ol>
<hr>
<h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ol>
<li>服务商流</li>
<li>保障生产</li>
<li>方便生活</li>
</ol>
<h4 id="效用"><a href="#效用" class="headerlink" title="效用"></a>效用</h4><ol>
<li>空间效用：供应链上游到下游，通过运输，使物品有空间的位移</li>
<li>时间效用：仓储设置弥补时间差异</li>
<li>品种效用：对订单进行处理，对物品进行整合</li>
<li>批量效用：生产商和供应商是批量的，末端是小批量的</li>
<li>信息效用</li>
<li>风险效用</li>
</ol>
<h4 id="隔离"><a href="#隔离" class="headerlink" title="隔离"></a>隔离</h4><ol>
<li>社会：价值无法体现</li>
<li>空间：生产的场所和消费场所不同</li>
<li>时间：仓储</li>
<li>信息：厂商需要市场的消费和流通信息</li>
<li>功能：标准化的个性化的</li>
</ol>
<h3 id="物流活动的分类"><a href="#物流活动的分类" class="headerlink" title="物流活动的分类"></a>物流活动的分类</h3><h4 id="按照发生的领域"><a href="#按照发生的领域" class="headerlink" title="按照发生的领域"></a>按照发生的领域</h4><ol>
<li>微观</li>
<li>中观</li>
<li>宏观</li>
</ol>
<h4 id="按照在供应链中的组成部分"><a href="#按照在供应链中的组成部分" class="headerlink" title="按照在供应链中的组成部分"></a>按照在供应链中的组成部分</h4><ol>
<li>采购物流</li>
<li>工厂内物流</li>
<li>生产物流</li>
<li>销售物流</li>
<li>返回回收物流</li>
<li>再生利用和废弃物物流</li>
</ol>
<h4 id="按照地域"><a href="#按照地域" class="headerlink" title="按照地域"></a>按照地域</h4><ol>
<li>国内物流</li>
<li>国际物流</li>
<li>地区物流</li>
</ol>
<h4 id="按照系统性质"><a href="#按照系统性质" class="headerlink" title="按照系统性质"></a>按照系统性质</h4><ol>
<li>社会物流</li>
<li>行业物流</li>
<li>企业物流</li>
</ol>
<h4 id="按照从事物流的主体"><a href="#按照从事物流的主体" class="headerlink" title="按照从事物流的主体"></a>按照从事物流的主体</h4><ol>
<li>第一方物流：提供方物流</li>
<li>第二方物流：采购方物流</li>
<li>第三方物流：物流服务提供商</li>
<li>第四方物流：物流服务集成商</li>
</ol>
<h4 id="其它物流划分"><a href="#其它物流划分" class="headerlink" title="其它物流划分"></a>其它物流划分</h4><ul>
<li>绿色物流</li>
<li>虚拟物流</li>
<li>军事物流</li>
<li>定制物流</li>
</ul>
<p><em>To be continued</em></p>
<h3 id="物流与社会经济"><a href="#物流与社会经济" class="headerlink" title="物流与社会经济"></a>物流与社会经济</h3><h3 id="现代物流理念及其特征"><a href="#现代物流理念及其特征" class="headerlink" title="现代物流理念及其特征"></a>现代物流理念及其特征</h3>]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>note</tag>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>终端编译Java源文件含有package的处理方法</title>
    <url>/2020/02/Java-compile-package/</url>
    <content><![CDATA[<!--# 终端编译Java源文件含有package的处理方法-->

<blockquote>
<p>Java 源文件不含 package 时，使用<code>javac</code>编译：</p>
<p><code>javac test.java</code></p>
<p>如果源文件含有 package 应该怎么处理呢？</p>
</blockquote>
<span id="more"></span>

<h2 id="举例："><a href="#举例：" class="headerlink" title="举例："></a>举例：</h2><p>文件 1：Main.java（位置：<code>~/com/stevenos/java/Main.java</code>）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.stevenos.java;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.stevenos.utils.DateTools;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String text;</span><br><span class="line">    text = DateTools.formatTime();</span><br><span class="line">    System.out.println(text);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文件 2：DateTools.java（位置：<code>~/com/stevenos/utils/DateTools.java</code>）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.stevenos.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTools</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">formatTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Date day = <span class="keyword">new</span> Date();</span><br><span class="line">44SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">44<span class="keyword">return</span> sdf.format(day);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="编译命令"><a href="#编译命令" class="headerlink" title="编译命令"></a>编译命令</h3><p><code>javac -d &lt;dir&gt; &lt;src&gt;</code></p>
<ol>
<li><p>首先分别编译每个文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">javac -d . ~/com/stevenos/java/Main.java</span><br><span class="line">javac -d . ~/com/stevenos/utils/DateTools.java</span><br></pre></td></tr></table></figure>

<p><code>.</code> 代表在当前目录下生成文件夹，可以自行更换。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200223095756528.png" alt="image-20200223095756528"></p>
<p>如果在当前目录生成，可以看到目录下有：</p>
<ul>
<li><code>com/stevenos/java/Main.class</code></li>
<li><code>com/stevenos/utils/DateTime.class</code></li>
</ul>
<p>如果目录（包）中有多个文件，可以使用通配符 <code>*</code>：</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200223100326158.png" alt="image-20200223100326158"></p>
</li>
<li><p>直接运行：</p>
<p>Java 运行主方法。</p>
<p><code>java com.stevenos.java.Main</code></p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/image-20200223100543259.png" alt="image-20200223100543259"></p>
</li>
</ol>
<h2 id="搞定"><a href="#搞定" class="headerlink" title="搞定"></a>搞定</h2><p>PS.</p>
<blockquote>
<p>输出中文时，若非编写时使用 GBK 编码，可能会出现 GBK 编码映射错误；</p>
<p>UTF-8 编码的需要加上参数：<code>-encoding UTF-8</code></p>
</blockquote>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>essay</tag>
        <tag>Java 复习</tag>
      </tags>
  </entry>
  <entry>
    <title>惠普 光影精灵5 开箱</title>
    <url>/2020/02/HP-Pavilion/</url>
    <content><![CDATA[<!--# 惠普 光影精灵5 开箱-->

<blockquote>
<p>光影精灵 5 介绍（来自百度百科）</p>
<p>惠普光影精灵 5 代是惠普公司旗下的一款笔记本电脑，于 2019 年 05 月正式发布。惠普光影精灵 5 代系列一共有 5 个版本。</p>
</blockquote>
<span id="more"></span>

<h2 id="硬件配置"><a href="#硬件配置" class="headerlink" title="硬件配置"></a>硬件配置</h2><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic1.jpg" alt="pic1" style="zoom: 67%;" />

<h3 id="处理器："><a href="#处理器：" class="headerlink" title="处理器："></a>处理器：</h3><ul>
<li>型号：<strong>Intel Core i7 - 9750H</strong></li>
<li>主频：基础频率 2.6GHz，最大睿频 4.5GHz</li>
<li>核心数量：6 核心 12 线程</li>
<li>核心架构：Coffee Lake</li>
<li>工艺制程：<strong>14nm</strong></li>
</ul>
<h3 id="显卡："><a href="#显卡：" class="headerlink" title="显卡："></a>显卡：</h3><ul>
<li>型号：<strong>NVIDIA GeForce GTX 1660Ti Max-Q</strong></li>
<li>显存：<strong>6GB</strong></li>
<li>架构：Turing</li>
<li>工艺制程：<strong>12nm</strong></li>
<li>核心频率：<strong>1140MHz</strong> Boost 频率：<strong>1335MHz</strong></li>
<li>显存位宽：<strong>192-bit</strong></li>
<li>核心显卡：<strong>Intel UHD Graphics 630</strong></li>
</ul>
<h3 id="内存："><a href="#内存：" class="headerlink" title="内存："></a>内存：</h3><ul>
<li>容量：<strong>8GB</strong></li>
<li>类型：<strong>DDR4</strong></li>
<li>频率：<strong>2666MHz</strong></li>
<li>内存槽：<strong>2</strong></li>
</ul>
<h3 id="硬盘："><a href="#硬盘：" class="headerlink" title="硬盘："></a>硬盘：</h3><ul>
<li>容量：<strong>512GB</strong></li>
<li>类型：<strong>SSD</strong></li>
<li>接口类型：<strong>M.2 PCI-e</strong></li>
<li>硬盘槽：<strong>M.2 &amp; SATA</strong></li>
</ul>
<h3 id="显示器："><a href="#显示器：" class="headerlink" title="显示器："></a>显示器：</h3><ul>
<li>分辨率：<strong>1920 × 1080</strong></li>
<li>刷新率：<strong>144Hz</strong></li>
<li>色域：<strong>72% NTSC</strong></li>
<li>大小：<strong>15.6 inch</strong></li>
</ul>
<h3 id="接口："><a href="#接口：" class="headerlink" title="接口："></a>接口：</h3><ul>
<li><strong>USB Type-A 3.1 Gen 1</strong> × 3</li>
<li><strong>USB Type-C 3.1 Gen 1</strong> × 1</li>
<li><strong>HDMI</strong> × 1</li>
<li><strong>RJ45</strong> × 1</li>
<li><strong>3.5mm Audio</strong> × 1</li>
<li><strong>SDHC</strong> × 1</li>
<li><strong>300W Power</strong> × 1</li>
</ul>
<hr>
<h2 id="开箱"><a href="#开箱" class="headerlink" title="开箱"></a>开箱</h2><p>光影精灵 5 购于 苏宁易购，从下单到拿到手，仅仅花费了一天时间，苏宁易购的速度的确很快 🤣</p>
<p>我购买的是笔记本电脑和游戏鼠标+机械键盘套装，加套装就贵了 100 元，我觉得还是有必要配一套，毕竟要<em>Van 耍</em>嘛。</p>
<h3 id="游戏鼠标"><a href="#游戏鼠标" class="headerlink" title="游戏鼠标"></a>游戏鼠标</h3><p>首先来看看鼠标，鼠标是惠普的<strong>Gaming Mouse G200</strong>，我不是很懂它高不高端，外形还算游戏鼠标的样子，还有七彩炫光，还有两个辅助按键，还支持 DPI 切换，看上去的确也是个游戏鼠标的样子。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic3.jpg" alt="pic3" style="zoom: 33%;" />

<p>使用了一下，游戏鼠标该有的功能都有，精确度还是不错，缺点呢就是有线鼠标，这个线扯起来有点麻烦，特别是这个线有点硬，卡在边边角角难以移动，影响操作。</p>
<h3 id="机械键盘"><a href="#机械键盘" class="headerlink" title="机械键盘"></a>机械键盘</h3><p>机械键盘是惠普的<strong>Mechanical Gaming Keyboard GK100</strong>，键轴是<strong>青轴</strong>，键盘背光是白光，键盘也是有线 USB 连接。所以这个线弯弯绕绕也是很讨厌，所以我还需要买个 USB Hub，扩展一下我本来就需求很大的 USB 接口，再说鼠标、键盘也不需要很高的电流。</p>
<p>这个机械键盘外观看并没有很高端的感觉，但是手感上还是很爽。用过机械键盘的都知道，机械键盘用过就回不去了 🤪 用它打字打游戏，那叫一个爽。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic5.jpg" alt="pic5" style="zoom: 33%;" />

<h3 id="笔记本电脑主体"><a href="#笔记本电脑主体" class="headerlink" title="笔记本电脑主体"></a>笔记本电脑主体</h3><p>主体就是这么大一个纸壳包装，用手感觉不算很重。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic6.jpg" alt="pic7" style="zoom: 33%;" />

<p>拆开后就是常规的三件套：<strong>主机</strong>、<strong>电源适配器</strong>和<strong>电源插头</strong></p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic8.jpg" alt="pic8" style="zoom: 33%;" />

<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic9.jpg" alt="pic9" style="zoom:33%;" />

<p>光影精灵和暗影精灵比较重要的区别就在于外形设计上，一般来说，暗影精灵在同等配置下，价格会低于光影精灵。两者设计的方向不同：暗影精灵更偏向于专业游戏本；而光影精灵则办公游戏并重。在模具上，光影精灵设计更具美感，外观上比暗影精灵好看得多。</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic10.jpg" alt="pic10" style="zoom:33%;" />

<h2 id="使用体验"><a href="#使用体验" class="headerlink" title="使用体验"></a>使用体验</h2><p>作为游戏本，其玩游戏的性能表现肯定是重中之重，根据我试玩了几款游戏之后，性能上绝对能够达到中上水平。有点遗憾的是，显卡是英伟达的 GTX 1660Ti Max-Q，也就是低功耗版本，性能约损失了 6%～ 9%。</p>
<p>散热上还不错，风扇声音略大，毕竟是游戏本，肯定比轻薄办公笔记本的风扇要强一些。键盘温度适中，没有烫手感。</p>
<p>屏幕使用效果极佳，众所周知<em>“60Hz 和 144Hz”</em>是两个游戏，所以高刷新率带来的游戏体验的提升是前所未有的，而且广色域和窄边框给我的感觉非常棒。</p>
<p>要是说缺点，屏幕采用塑料材质，开合屏幕的时候总有一种感觉会把屏幕掰坏，毕竟边框很窄，一只手打开受力不均。其次就是风扇声音略大，没有静音工艺处理。还有就是电源满载是 200W，在宿舍可能就不能同时开启两台电脑了（宿舍限制功率为 500W）。</p>
<h3 id="值不值得买？"><a href="#值不值得买？" class="headerlink" title="值不值得买？"></a>值不值得买？</h3><p>值！非常值！有的人说游戏本没有什么比“神船”更有性价比了，同样配置价格可能比这个便宜接近 ¥1000 。但是<em>神舟</em>低价的大部分原因是其模具是通用设计的，只需要把硬件堆叠上去，就是<em>堆料</em>，网络上报告说会出现各种莫名其妙的问题。如果是看配置玩游戏的话可以选择<em>“船”</em>，价格上绝对合适。如果要看颜值，看工艺设计，惠普的<em>游戏精灵</em>系列值得你考虑。</p>
<h3 id="尾"><a href="#尾" class="headerlink" title="尾"></a>尾</h3><p>假期就拿来好好玩游戏咯，但是这 512GB 的 SSD 根本经不起游戏的<em>侵犯</em>，可能会考虑去再加块 512GB 的 SSD 专门放游戏。</p>
<p>当然，学习期间要做有意义的事，以前用着卡顿的 IDE 可以安装上了，以前用不了的<em>Adobe 全家桶</em>可以安排上了，什么虚拟机 Docker 容器啥的都可以尽情使用了。</p>
<p>附上第一张桌面截图，顺便推广一下<em>Windows</em>平台每天同步必应桌面壁纸小应用：<a href="https://dl.airocket.tech/files//%E5%BF%85%E5%BA%94%E5%A3%81%E7%BA%B8%E6%AF%8F%E5%A4%A9%E6%8D%A2.zip">S-wallpaper</a>⬅️ 点击下载</p>
<img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/hp_pavilion_pic11.jpg" alt="pic11" style="zoom:50%;" />
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>开箱</tag>
        <tag>光影精灵</tag>
        <tag>游戏本</tag>
      </tags>
  </entry>
  <entry>
    <title>realme X2 Pro 一个月使用感受</title>
    <url>/2020/02/realme-x2-pro/</url>
    <content><![CDATA[<h1 id="realme-X2-Pro-一个月使用感受"><a href="#realme-X2-Pro-一个月使用感受" class="headerlink" title="realme X2 Pro 一个月使用感受"></a>realme X2 Pro 一个月使用感受</h1><blockquote>
<p>realme 介绍：（来自百度百科）</p>
<p>真我(realme)成立于 2018 年 5 月 4 日，是一家专注于提供优质智能手机和 IoT 产品的科技品牌。</p>
<p>realme 专注于提供兼具强劲性能与潮流设计的手机产品，凭借”越级”产品和”敢越级”的品牌态度，秉承创新基因，在产品性能、设计、品质和服务方面不断超越自我。</p>
</blockquote>
<span id="more"></span>

<h2 id="硬件参数"><a href="#硬件参数" class="headerlink" title="硬件参数"></a>硬件参数</h2><h3 id="处理器："><a href="#处理器：" class="headerlink" title="处理器："></a>处理器：</h3><ul>
<li>型号：<strong>高通骁龙 855+</strong></li>
<li>工艺：<strong>7nm</strong></li>
<li>内核架构：4 个大核心<strong>Kryo 485 Gold @ 2956MHz</strong>和 4 个小核心<strong>Kryo 485 Silver @ 1785MHz</strong></li>
<li>指令集：<strong>64bit ARMv8-A</strong></li>
</ul>
<h3 id="图像处理器："><a href="#图像处理器：" class="headerlink" title="图像处理器："></a>图像处理器：</h3><ul>
<li>型号：<strong>Qualcomm Adreno 640</strong></li>
<li>最高频率：<strong>675MHz</strong></li>
</ul>
<h3 id="内存："><a href="#内存：" class="headerlink" title="内存："></a>内存：</h3><ul>
<li>容量：<strong>6GB</strong></li>
<li>类型：<strong>LPDDR4</strong></li>
</ul>
<h3 id="存储："><a href="#存储：" class="headerlink" title="存储："></a>存储：</h3><ul>
<li>容量：<strong>64GB</strong></li>
<li>闪存类型：<strong>UFS 2.1</strong></li>
<li>不支持<del>存储卡</del>扩展</li>
</ul>
<h3 id="屏幕："><a href="#屏幕：" class="headerlink" title="屏幕："></a>屏幕：</h3><ul>
<li>材质：<strong>Super AMOLED</strong></li>
<li>分辨率：<strong>1080 × 2400</strong></li>
<li>刷新率：<strong>90Hz</strong></li>
<li><strong>HDR10</strong></li>
<li>峰值亮度：<strong>1000nit</strong></li>
<li>对比度：<strong>2000000 ：1</strong></li>
<li>色域：<strong>DCI-P3</strong></li>
<li>面板材质：<strong>康宁五代大猩猩玻璃</strong></li>
<li>像素密度：<strong>402dpi</strong></li>
</ul>
<h3 id="摄像头："><a href="#摄像头：" class="headerlink" title="摄像头："></a>摄像头：</h3><ul>
<li>后置：<strong>64MP 三星 GW1 主摄+13MP 长焦+8MP 超广角微距+2MP 人像</strong></li>
<li>前置：<strong>16MP 索尼 IMX471</strong></li>
</ul>
<h3 id="电池与充电："><a href="#电池与充电：" class="headerlink" title="电池与充电："></a>电池与充电：</h3><ul>
<li>电池容量：<strong>4000mAh</strong></li>
<li>充电支持：<strong>5V 2A（一卢）</strong>、<strong>9V 2A（1.8 卢）</strong>、<strong>10V 5A（5 卢）</strong></li>
<li>充电协议：<strong>PowerDelivery</strong>、<strong>QuickCharge</strong>、<strong>SuperVOOC</strong></li>
</ul>
<h3 id="系统："><a href="#系统：" class="headerlink" title="系统："></a>系统：</h3><ul>
<li>定制 UI：<strong>ColorOS 6</strong></li>
<li>Android 版本：<strong>Android 9</strong> API: <strong>28</strong></li>
</ul>
<h3 id="其它功能："><a href="#其它功能：" class="headerlink" title="其它功能："></a>其它功能：</h3><ul>
<li>Dolby 杜比双扬声器 Hi-Res 认证</li>
<li>VC 液冷+超导碳纤维面积<strong>1373mm²</strong>散热</li>
<li>Tactile<strong>线性马达</strong>（Z 轴）</li>
<li>屏下指纹识别</li>
<li>双频 GPS</li>
<li>支持 NFC</li>
<li>蓝牙 5.0</li>
</ul>
<hr>
<h2 id="个人感受"><a href="#个人感受" class="headerlink" title="个人感受"></a>个人感受</h2><h3 id="一，硬件性能"><a href="#一，硬件性能" class="headerlink" title="一，硬件性能"></a>一，硬件性能</h3><p>realme x2 pro 搭载 2019 年“年度旗舰”处理器骁龙 855 Plus，硬件性能极佳。特别是搭配了 90Hz 刷新率的“流体屏”，上手效果很不错。在我看来，realme x2 pro 在硬件的“堆料”上毫不含糊，基本达到了 2019 年旗舰机的水平，甚至还有众多旗舰机没有的 SuperVOOC 50W 暴躁快充以及少见的 90Hz 刷新率屏幕。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/realme_x2_pro_pic1.jpg" alt="pic1"></p>
<p>在游戏体验上也很不错，在《和平精英》中开启 90 帧率开关后，打击感觉有了巨大变化，众所周知<em>60 帧和 90 帧</em>是两个游戏。虽然在屏幕质量上很不错，但是，个人感觉跟手性能有待加强。</p>
<p>双扬声器是近些年旗舰机的标配，虽然苹果从<em>iPhone 7</em>开始就采取了双扬声器方案，但是至今跟进的厂商还是很少（特别表扬小米 10）</p>
<h3 id="二，外观"><a href="#二，外观" class="headerlink" title="二，外观"></a>二，外观</h3><p>realme_x2_pro 的握持感很强，没有很明显的重心偏移，但是单手握持仍然难以流畅操作。后盖颜色我选择的是“月神”白色，个人感觉非常不错，没有很廉价的材质感。而手机背面的布局是“一块钱四个”摄像头居中排列，在打游戏时不会影响三指操作。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/realme_x2_pro_pic2.jpg" alt="pic2"></p>
<p>特别表扬锁屏键靠近手机中部的位置设计，毕竟方便在单手握持时按动，而且不会因为玩游戏的指法误按锁屏键（批评 iPhone XS 巨大的锁屏键影响我发挥）。</p>
<p>金属边框也非常好看，在外观设计上，看得出来是花了心思设计的，接口处很和谐，开孔也很整齐。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/realme_x2_pro_pic5.jpg" alt="pic5"></p>
<h3 id="三，日常使用感受"><a href="#三，日常使用感受" class="headerlink" title="三，日常使用感受"></a>三，日常使用感受</h3><p>在不玩游戏时，电量控制还算不错，而且这 5 卢的超级快充让人用了就回不去了，简单来说，就是吃个饭，电充满了。</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/realme_x2_pro_pic3.jpg" alt="pic3"></p>
<p>特别一点，原厂的显示大小太大了一点，在大屏幕上看起来就像老年机一般，在调整显示大小为<strong>小</strong>后体验不错。</p>
<p>锁屏策略采取的是屏下指纹识别方案，而指纹图片动效非常好看，解锁速度还不错。同样保留了面部识别功能，不过根据<em>科技美学</em>的测评，面部识别的阈值较低，安全性可能不足，只适合在湿手状态下使用。</p>
<h3 id="四，值不值得买？"><a href="#四，值不值得买？" class="headerlink" title="四，值不值得买？"></a>四，值不值得买？</h3><p>我是在春节期间购买，官方有优惠活动，<em>6+64GB</em>版本仅需 ¥2199，<em>8+128GB</em>版本价格为 ¥2599，并且官方赠送 realme 保护壳和钢化膜，就性价比来看，很香喷喷滴噢～</p>
<p><img src="https://ryzenx.oss-accelerate.aliyuncs.com/img/2020/realme_x2_pro_pic4.jpg" alt="pic4"></p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>realme</tag>
        <tag>搞 ♂ 机</tag>
        <tag>使用感受</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker 入门与实战</title>
    <url>/2020/02/Docker%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="了解Docker"><a href="#了解Docker" class="headerlink" title="了解Docker"></a>了解Docker</h1><h2 id="什么是容器"><a href="#什么是容器" class="headerlink" title="什么是容器"></a>什么是容器</h2><p>​    想要了解什么是Docker，首先要明白容器（container）的概念。容器是近年来兴起的一种操作系统层面的虚拟化技术，基于Linux内核的 cgroup，namespace等技术对进程进行隔离封装，由于隔离的进程独立于宿主和其他的隔离化进程，所以被称为容器。</p>
<span id="more"></span>
<p>​    容器和虚拟机一样，都是硬件性能提升以及软件种类日渐丰富带来的硬件性能过剩与软件冲突两大问题的解决方案。所谓硬件虚拟化，就是由某个特殊的软件，虚拟出计算机的各种硬件。使用者可以在虚拟机上安装Guest OS 和各种软件，虚拟机会将Guest OS以及其他软件对硬件资源的访问，转发到底层的物理机上。而这个时候，Guest OS的开销就造成了硬件资源的浪费，例如Windows操作系统，仅仅是安装开机，不运行任何其他应用，就需要占用2<del>3G内存和 20</del>30硬盘空间。然而虚拟机的这种架构，决定了运行在同一物理机上的每一台虚拟机都需要运行一个Guest OS，当虚拟机数量超过一定量的时候，浪费的硬件资源就相当可观了，尤其是大部分的Guest OS都是相同的。能不能所有的应用使用同一个操作系统减少硬件资源的浪费，又能避免包括Runtime library在内的软件冲突呢？于是就有了操作系统虚拟化技术，也就是容器。通过cgroup（control group）隔离并将应用与Runtime library打包在一起，不用实现自己的内核，也不需要专门的硬件虚拟，节省了Guest OS的性能开销，就实现了这个目的。</p>
<h2 id="什么是Docker"><a href="#什么是Docker" class="headerlink" title="什么是Docker"></a>什么是Docker</h2><p>​    Docker是一个开源的应用容器引擎，Docker在容器的基础上，进一步进行了封装，从文件系统、进程隔离到网络等，很大程度上简化了容器的创建和维护，使得容器虚拟化技术得到广泛的推广和使用。Docker早期基于<code>lxc</code>（Linux container）封装，从0.7版本后，docker去除了<code>lxc</code>，转而使用自行开发的<code>libcontainer</code>，从1.11开始，进一步演进为使用 <code>runC</code> 和 <code>containerd</code>。</p>
<p>​    此外，Docker公司还提供了一个公共的镜像仓库（Repository），Github connect，自动构建镜像，极大简化了应用分发、部署、升级流程，这些使Docker成为最流行的容器技术。</p>
<h2 id="为什么要用Docker"><a href="#为什么要用Docker" class="headerlink" title="为什么要用Docker"></a>为什么要用Docker</h2><h3 id="更加高效的利用硬件资源"><a href="#更加高效的利用硬件资源" class="headerlink" title="更加高效的利用硬件资源"></a>更加高效的利用硬件资源</h3><p>​    正如之前提到的，容器内不需要硬件虚拟和运行完整操作系统的开销，Docker对系统资源的利用率更加高，因此无论是应用执行速度、内存损耗还是文件储存速度，都比传统虚拟机技术更加高效。因此，相比传统的硬件虚拟化技术，一个相同配置的主机，可以运行更多数量的容器。</p>
<h3 id="更快速的启动时间"><a href="#更快速的启动时间" class="headerlink" title="更快速的启动时间"></a>更快速的启动时间</h3><p>​    由于Docker容器应用，直接运行于Host内核，无需完整的操作系统Runtime，因此可以大大加快启动时间，大大节约开发、测试与部署的时间。</p>
<h3 id="轻松迁移"><a href="#轻松迁移" class="headerlink" title="轻松迁移"></a>轻松迁移</h3><p>​    由于Docker直接封装了应用所需的Runtime library以及相关依赖，所以Docker的镜像可以保证应用的运行环境一致性，使得应用的迁移更加容易，无论是在哪种物理平台，使用Docker构建镜像并运行容器，都能保证应用的正常运行。</p>
<h3 id="持续交付和部署"><a href="#持续交付和部署" class="headerlink" title="持续交付和部署"></a>持续交付和部署</h3><p>​    使用Docker可以通过定制应用来实现持续集成、交付、部署。开发成员通过编写dockerfile来构建镜像，并结合CI系统进行集成测试，同时运维人员可以在生产环境快速部署，甚至结合CD系统进行自动部署。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><table>
<thead>
<tr>
<th>特性</th>
<th>容器</th>
<th>虚拟机</th>
</tr>
</thead>
<tbody><tr>
<td>启动</td>
<td>秒级</td>
<td>分钟级</td>
</tr>
<tr>
<td>储存占用</td>
<td>MB级</td>
<td>GB级</td>
</tr>
<tr>
<td>性能</td>
<td>原生级</td>
<td>有损耗</td>
</tr>
<tr>
<td>HOST支持量</td>
<td>&gt;1k</td>
<td>~10</td>
</tr>
</tbody></table>
<h1 id="Docker基础概念"><a href="#Docker基础概念" class="headerlink" title="Docker基础概念"></a>Docker基础概念</h1><h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><p>​    Docker镜像，相当于一个Linux的root文件系统，除了提供容器<code>runtime</code>所需要的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（例如：匿名卷、环境变量、用户等）。镜像不包含任何动态数据，其内容在构建之后也不会被改变。</p>
<p>​    因为镜像包含操作系统完整的root文件系统，所以体积往往较大，因此Docker设计的时候就充分利用了<code>unionFS</code> 的技术，将其设计为分成存储的架构。因此严格来说，镜像并非是像ISO文件那种打包文件，而是由多层文件系统联合组成。这种分层储存的特征使得镜像的复用、定制变得极为容易，可以利用之前构建好的镜像作为基础层，然后添加自己所需的内容，构建新的镜像。</p>
<h2 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h2><p>​    镜像和容器之间的关系，有点类似在OOP语言中类和对象的关系。容器就是镜像在运行时的实体，镜像只是一个静态的定义，而容器可以被创建、启动、暂停、停止、删除等。</p>
<p>​    容器的实质是进程，运行于属于自己的独立的namespace，因为与HOST隔离，所以容器可以拥有自己的root文件系统、自己的网络配置、自己的进程空间甚至是自己的用户ID空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作。这种特性使得容器封装的应用比直接在HOST运行更加安全。</p>
<p>​    容器运行时，是以镜像为基础层，在其上创建一个当前容器的储存层。当容器消亡的时候，容器储存层也随之消亡。因此，任何保存于容器储存层的数据都会随容器删除而丢失。按照Docker最佳实践的要求，容器不应该向其储存层写入任何数据，容器储存层要保持无状态化。所有的文件写入操作，都应该使用数据卷（volume）或者绑定HOST目录，这样跳过容器储存层直接对HOST发生读写，性能和稳定性更高，即使容器删除或者重新运行，数据都能得到保存。</p>
<h2 id="Registry"><a href="#Registry" class="headerlink" title="Registry"></a>Registry</h2><p>​    Docker image构建完成后,想要在其他服务器上使用这个镜像,就需要一个集中的储存、分发的服务，Docker registry就是这样的服务。一个Docker registry可以包含多个<code>repository</code>；每个仓库可以包含多个<code>tag</code>；每个tag对应一个镜像。通常一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本，我们常使用<code>&lt;repository&gt;:&lt;tag&gt;</code>来指定具体是那个版本的镜像。</p>
<p>​    默认的registry是官方的Docker Hub，也是最常使用的registry。（一般来说，在国内使用Docker hub会受网络环境的影响，国内的一些云服务商提供了针对Docker hub的镜像<code>mirror</code> ）</p>
<h1 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h1><p>​    Docker目前分为CE和EE两大版本，这里主要介绍CE在Windows 10、macOS、主流Linux上的安装。</p>
<h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><p><strong>系统要求</strong></p>
<p>​    Docker CE支持以下版本的Ubuntu系统：</p>
<ul>
<li><p>Disco 19.04</p>
</li>
<li><p>Cosmic 18.10</p>
</li>
<li><p>Bionic 18.04(LTS)</p>
</li>
<li><p>Xenial 16.04(LTS)</p>
<p>一般来说，在生产环境更加推荐LTS长期支持版本，更加稳定。</p>
</li>
</ul>
<p><strong>卸载旧版本</strong></p>
<p>​    旧版本的Docker 称为 <code>docker</code>或者<code>docker-engine</code>，使用以下命令卸载旧版本：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get remove docker \</span><br><span class="line">               docker-engine \</span><br><span class="line">               docker.io</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>使用apt安装</strong></p>
<p>​    首先要添加使用HTTPS传输的软件包以及CA证书。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    software-properties-common</span><br></pre></td></tr></table></figure>

<p>​    为了确认安装包的合法性，需要添加软件源的<code>GPG</code>密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - </span><br></pre></td></tr></table></figure>

<p>​    然后向<code>source.list</code>中添加Docker软件源</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository \</span><br><span class="line">     <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">     <span class="subst">$(lsb_release -cs)</span> \</span></span><br><span class="line"><span class="string">     stable&quot;</span></span><br></pre></td></tr></table></figure>

<p>​    更新apt软件包缓存，并安装docker-ce：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>使用脚本自动安装</strong></p>
<p>​    Docker官方提供了一套简便的安装脚本，Ubuntu系统上可以使用这个脚本安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">$ sudo sh get-docker.sh</span><br></pre></td></tr></table></figure>

<p><strong>启动Docker CE</strong> </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl <span class="built_in">enable</span> docker</span><br><span class="line">$ sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<p><strong>建立docker用户组</strong></p>
<p>​    默认情况下，<code>docker</code>命令会使用Unix socket与docker引擎通信，而只有root和docker组的用户可以访问Docker引擎的Unix socket。因此为了安全起见，更好的做法就是将使用docker的用户加入docker用户组。</p>
<p>​    建立docker用户组</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo groupadd docker</span><br></pre></td></tr></table></figure>

<p>​    将当前用户加入docker用户组</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo usermod -aG docker <span class="variable">$USER</span></span><br></pre></td></tr></table></figure>

<p><strong>测试Docker是否安装正确</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker run hello-world</span><br></pre></td></tr></table></figure>

<p>​    正常情况下，将会输出</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Unable to find image <span class="string">&#x27;hello-world:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">d1725b59e92d: Pull complete</span><br><span class="line">Digest: sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the <span class="string">&quot;hello-world&quot;</span> image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image <span class="built_in">which</span> runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, <span class="built_in">which</span> sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="使用镜像"><a href="#使用镜像" class="headerlink" title="使用镜像"></a>使用镜像</h1><blockquote>
<p>在之前讲到镜像是一种特殊的文件系统，Docker在运行容器前需要本地存在对应的镜像，如果本地不准在该镜像，Docker会从镜像仓库下载该镜像。</p>
</blockquote>
<h2 id="获取镜像"><a href="#获取镜像" class="headerlink" title="获取镜像"></a>获取镜像</h2><p>​    从Docker镜像仓库获取镜像的命令是<code>docker pull</code>。命令格式为</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull [option] [registry address[:port]/]repo:[tag]</span><br></pre></td></tr></table></figure>

<ul>
<li>Docker镜像仓库地址格式一般是<ip>:<port>。默认是Docker Hub</li>
<li>仓库名：一般仓库名是两段式名称，即<code>username/tag</code>。对于Docker Hub如果不给出用户名，则默认为library，也就是官方镜像。</li>
</ul>
<h2 id="管理镜像"><a href="#管理镜像" class="headerlink" title="管理镜像"></a>管理镜像</h2><h3 id="列出镜像"><a href="#列出镜像" class="headerlink" title="列出镜像"></a>列出镜像</h3><p>​    我们可以使用 docker images ls 列出本地主机上的镜像。</p>
<p>​    列表包含了 repository、tag、image id、created以及size。其中关于仓库名和标签的概念在前面已经提到，镜像ID则是镜像的唯一标识，一个镜像可以对应多个tag。因此，如何判断镜像的唯一性，就需要用到image id。</p>
<p>​    Docker image还支持通过参数筛选出特定的镜像，例如根据仓库名列出镜像，只需在ls后面加上仓库名。此外，Docker image ls 还支持过滤器参数，–filter，可以使用filter的强大功能进行筛选。</p>
<h3 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h3><p>​    当一个镜像没有被相应的容器运行时，我们可以使用<code>docker rmi &lt;image id&gt;</code>或者<code>docker image rm</code>来删除它。在Docker镜像管理中，有一个专门的命令<code>docker image prune</code>用来删除虚悬镜像。所谓虚悬镜像，即一个仓库名与tag均为<none>的镜像，往往在docker pull新版本的镜像后，因为原来的镜像名被转移到了新pull的镜像,原镜像的名称变成了none而出现。除了Docker pull以外，Docker build也同样能导致这种情况，新的镜像与原有镜像同名，则原有镜像名称被取消，变为虚悬镜像。一般来说，虚悬镜像已经失去了存在的价值，可以随意删除，所有才有了专门的prune命令。</p>
<p>​    在我们运行<code>docker rmi</code>时，通过输出的信息我们可以发现，Docker删除镜像的行为由Untag和Delete组成，即当我们删除镜像时，删除的是指定的标签，如果还有别的标签指向了该镜像，那么就不会进行Delete，当一个镜像的所有标签都被取消后，才会触发删除，即当没有任何层依赖当前层的时候，才会真实的删除当前层。这也是为什么在删除镜像之前，需要先删除所有依赖该镜像的容器。</p>
<h3 id="查看镜像体积"><a href="#查看镜像体积" class="headerlink" title="查看镜像体积"></a>查看镜像体积</h3><p>​    由于Docker镜像采用了多层储存结构，所以当我们使用<code>Docker image ls</code>命令列出的镜像体积总和并不等于所占硬盘空间，由于多层储存的结构，不同的镜像可能使用了相同的基础镜像，从而拥有共同的层，而相同的层只需要保存一份即可，因此实际硬盘占用空间要比列表镜像大小的总和小很多。可以使用<code>Docker system df</code>来查看镜像、容器与数据卷所占用的空间。</p>
<h1 id="使用容器"><a href="#使用容器" class="headerlink" title="使用容器"></a>使用容器</h1><p>​    简单的来说，容器是独立运行的一个或一组应用，以及它们的runtime环境。接下来我们就从容器的生命周期讲一讲如何使用容器。</p>
<h2 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h2><p>​    启动容器有两种，一种是基于镜像新建一个容器并启动，另一种是重新启动已终止的容器。</p>
<h3 id="新建容器并启动"><a href="#新建容器并启动" class="headerlink" title="新建容器并启动"></a>新建容器并启动</h3><p>​    <code>Docker run</code>是新建容器的命令，例如现在我需要在开发环境上部署一个openCV开发环境</p>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>技术</tag>
        <tag>docker</tag>
        <tag>总结</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Linux命令手册合集</title>
    <url>/2020/02/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4%E6%89%8B%E5%86%8C%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h1 id="常用Linux命令手册合集"><a href="#常用Linux命令手册合集" class="headerlink" title="常用Linux命令手册合集"></a>常用Linux命令手册合集</h1><p>[toc]</p>
<span id="more"></span>

<h2 id="1-ls-选项-目录名-列出相关目录下的所有目录和文件"><a href="#1-ls-选项-目录名-列出相关目录下的所有目录和文件" class="headerlink" title="1.ls [选项] [目录名] | 列出相关目录下的所有目录和文件"></a>1.ls [选项] [目录名] | 列出相关目录下的所有目录和文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-a  列出包括.a开头的隐藏文件的所有文件</span><br><span class="line">-A  通-a，但不列出&quot;.&quot;和&quot;..&quot;</span><br><span class="line">-l  列出文件的详细信息</span><br><span class="line">-c  根据ctime排序显示</span><br><span class="line">-t  根据文件修改时间排序</span><br><span class="line">---color[=WHEN] 用色彩辨别文件类型 WHEN 可以是&#x27;never&#x27;、&#x27;always&#x27;或&#x27;auto&#x27;其中之一</span><br><span class="line">   白色：表示普通文件</span><br><span class="line">   蓝色：表示目录</span><br><span class="line">   绿色：表示可执行文件</span><br><span class="line">   红色：表示压缩文件</span><br><span class="line">   浅蓝色：链接文件</span><br><span class="line">   红色闪烁：表示链接的文件有问题</span><br><span class="line">   黄色：表示设备文件</span><br><span class="line">   灰色：表示其它文件</span><br></pre></td></tr></table></figure>

<h2 id="2-mv-选项-源文件或目录-目录或多个源文件-移动或重命名文件"><a href="#2-mv-选项-源文件或目录-目录或多个源文件-移动或重命名文件" class="headerlink" title="2.mv [选项] 源文件或目录 目录或多个源文件 | 移动或重命名文件"></a>2.mv [选项] 源文件或目录 目录或多个源文件 | 移动或重命名文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-b  覆盖前做备份</span><br><span class="line">-f  如存在不询问而强制覆盖</span><br><span class="line">-i  如存在则询问是否覆盖</span><br><span class="line">-u  较新才覆盖</span><br><span class="line">-t  将多个源文件移动到统一目录下，目录参数在前，文件参数在后</span><br><span class="line">eg:</span><br><span class="line">   mv a /tmp/ 将文件a移动到 /tmp目录下</span><br><span class="line">   mv a b 将a命名为b</span><br><span class="line">   mv /home/zenghao test1.txt test2.txt test3.txt</span><br></pre></td></tr></table></figure>

<h2 id="3-cp-选项-源文件或目录-目录或多个源文件-将源文件复制至目标文件，或将多个源文件复制至目标目录。"><a href="#3-cp-选项-源文件或目录-目录或多个源文件-将源文件复制至目标文件，或将多个源文件复制至目标目录。" class="headerlink" title="3.cp [选项] 源文件或目录 目录或多个源文件 | 将源文件复制至目标文件，或将多个源文件复制至目标目录。"></a>3.cp [选项] 源文件或目录 目录或多个源文件 | 将源文件复制至目标文件，或将多个源文件复制至目标目录。</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-r -R 递归复制该目录及其子目录内容</span><br><span class="line">-p  连同档案属性一起复制过去</span><br><span class="line">-f  不询问而强制复制</span><br><span class="line">-s  生成快捷方式</span><br><span class="line">-a  将档案的所有特性都一起复制</span><br></pre></td></tr></table></figure>

<h2 id="4-scp-参数-原路径-目标路径-在Linux服务器之间复制文件和目录"><a href="#4-scp-参数-原路径-目标路径-在Linux服务器之间复制文件和目录" class="headerlink" title="4.scp [参数] [原路径] [目标路径] | 在Linux服务器之间复制文件和目录"></a>4.scp [参数] [原路径] [目标路径] | 在Linux服务器之间复制文件和目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-v  详细显示输出的具体情况</span><br><span class="line">-r  递归复制整个目录</span><br><span class="line">(1) 复制文件：  </span><br><span class="line">命令格式：  </span><br><span class="line">scp local_file remote_username@remote_ip:remote_folder  </span><br><span class="line">或者  </span><br><span class="line">scp local_file remote_username@remote_ip:remote_file  </span><br><span class="line">或者  </span><br><span class="line">scp local_file remote_ip:remote_folder  </span><br><span class="line">或者  </span><br><span class="line">scp local_file remote_ip:remote_file  </span><br><span class="line">第1,2个指定了用户名，命令执行后需要输入用户密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名  </span><br><span class="line">第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名   </span><br><span class="line">(2) 复制目录：  </span><br><span class="line">命令格式：  </span><br><span class="line">scp -r local_folder remote_username@remote_ip:remote_folder  </span><br><span class="line">或者  </span><br><span class="line">scp -r local_folder remote_ip:remote_folder  </span><br><span class="line">第1个指定了用户名，命令执行后需要输入用户密码；  </span><br><span class="line">第2个没有指定用户名，命令执行后需要输入用户名和密码；</span><br><span class="line">eg:</span><br><span class="line">   从 本地 复制到 远程</span><br><span class="line">   scp /home/daisy/full.tar.gz root@172.19.2.75:/home/root </span><br><span class="line">   从 远程 复制到 本地</span><br><span class="line">   scp root@/172.19.2.75:/home/root/full.tar.gz /home/daisy/full.tar.gz</span><br></pre></td></tr></table></figure>

<h2 id="5-rm-选项-文件-删除文件"><a href="#5-rm-选项-文件-删除文件" class="headerlink" title="5.rm [选项] 文件 | 删除文件"></a>5.rm [选项] 文件 | 删除文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-r  删除文件夹</span><br><span class="line">-f  删除不提示</span><br><span class="line">-i  删除提示</span><br><span class="line">-v  详细显示进行步骤</span><br></pre></td></tr></table></figure>

<h2 id="6-touch-选项-文件-创建空文件或更新文件时间"><a href="#6-touch-选项-文件-创建空文件或更新文件时间" class="headerlink" title="6.touch [选项] 文件 | 创建空文件或更新文件时间"></a>6.touch [选项] 文件 | 创建空文件或更新文件时间</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-a  只修改存取时间</span><br><span class="line">-m  值修改变动时间</span><br><span class="line">-r  eg:touch -r a b ,使b的时间和a相同</span><br><span class="line">-t  指定特定的时间 eg:touch -t 201211142234.50 log.log </span><br><span class="line">   -t time [[CC]YY]MMDDhhmm[.SS],C:年前两位</span><br></pre></td></tr></table></figure>

<h2 id="7-pwd-查看当前所在路径"><a href="#7-pwd-查看当前所在路径" class="headerlink" title="7.pwd 查看当前所在路径"></a>7.pwd 查看当前所在路径</h2><h2 id="8-cd-改变当前目录"><a href="#8-cd-改变当前目录" class="headerlink" title="8.cd 改变当前目录"></a>8.cd 改变当前目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- ：返回上层目录</span><br><span class="line">.. :返回上层目录</span><br><span class="line">回车  ：返回主目录</span><br><span class="line">/   :根目录</span><br></pre></td></tr></table></figure>

<h2 id="9-mkdir-选项-目录…-创建新目录"><a href="#9-mkdir-选项-目录…-创建新目录" class="headerlink" title="9.mkdir [选项] 目录… | 创建新目录"></a>9.mkdir [选项] 目录… | 创建新目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p  递归创建目录，若父目录不存在则依次创建</span><br><span class="line">-m  自定义创建目录的权限  eg:mkdir -m 777 hehe</span><br><span class="line">-v  显示创建目录的详细信息</span><br></pre></td></tr></table></figure>

<h2 id="10-rmdir-删除空目录"><a href="#10-rmdir-删除空目录" class="headerlink" title="10.rmdir 删除空目录"></a>10.rmdir 删除空目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-v  显示执行过程</span><br><span class="line">-p  若自父母删除后父目录为空则一并删除</span><br></pre></td></tr></table></figure>

<h2 id="11-rm-选项-文件…-一个或多个文件或目录"><a href="#11-rm-选项-文件…-一个或多个文件或目录" class="headerlink" title="11.rm [选项] 文件… | 一个或多个文件或目录"></a>11.rm [选项] 文件… | 一个或多个文件或目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-f  忽略不存在的文件，不给出提示</span><br><span class="line">-i  交互式删除</span><br><span class="line">-r  将列出的目录及其子目录递归删除</span><br><span class="line">-v  列出详细信息</span><br></pre></td></tr></table></figure>

<h2 id="12-echo：显示内容"><a href="#12-echo：显示内容" class="headerlink" title="12.echo：显示内容"></a>12.echo：显示内容</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-n  输出后不换行</span><br><span class="line">-e  遇到转义字符特殊处理  </span><br><span class="line">   eg:</span><br><span class="line">       echo &quot;he\nhe&quot;   显示he\nhe</span><br><span class="line">       ehco -e &quot;he\nhe&quot;    显示he(换行了)he</span><br></pre></td></tr></table></figure>

<h2 id="13-cat-选项-文件-一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件"><a href="#13-cat-选项-文件-一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件" class="headerlink" title="13.cat [选项] [文件]..| 一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件"></a>13.cat [选项] [文件]..| 一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-n  编号文件内容再输出</span><br><span class="line">-E  在结束行提示$</span><br></pre></td></tr></table></figure>

<h2 id="14-tac-反向显示"><a href="#14-tac-反向显示" class="headerlink" title="14.tac | 反向显示"></a>14.tac | 反向显示</h2><h2 id="15-more-按页查看文章内容，从前向后读取文件，因此在启动时就加载整个文件"><a href="#15-more-按页查看文章内容，从前向后读取文件，因此在启动时就加载整个文件" class="headerlink" title="15.more | 按页查看文章内容，从前向后读取文件，因此在启动时就加载整个文件"></a>15.more | 按页查看文章内容，从前向后读取文件，因此在启动时就加载整个文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+n  从第n行开始显示</span><br><span class="line">-n  每次查看n行数据</span><br><span class="line">+/String    搜寻String字符串位置，从其前两行开始查看</span><br><span class="line">-c  清屏再显示</span><br><span class="line">-p  换页时清屏</span><br></pre></td></tr></table></figure>

<h2 id="16-less-可前后移动地逐屏查看文章内容，在查看前不会加载整个文件"><a href="#16-less-可前后移动地逐屏查看文章内容，在查看前不会加载整个文件" class="headerlink" title="16.less | 可前后移动地逐屏查看文章内容，在查看前不会加载整个文件"></a>16.less | 可前后移动地逐屏查看文章内容，在查看前不会加载整个文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-m  显示类似于more命令的百分比</span><br><span class="line">-N  显示行号</span><br><span class="line">/   字符串：向下搜索“字符串”的功能</span><br><span class="line">?   字符串：向上搜索“字符串”的功能</span><br><span class="line">n   重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">N   反向重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">b   向后翻一页</span><br><span class="line">d   向后翻半页</span><br></pre></td></tr></table></figure>

<h2 id="17-nl-选项-…-文件-…-将输出内容自动加上行号"><a href="#17-nl-选项-…-文件-…-将输出内容自动加上行号" class="headerlink" title="17.nl [选项]… [文件]… | 将输出内容自动加上行号"></a>17.nl [选项]… [文件]… | 将输出内容自动加上行号</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-b </span><br><span class="line">-b a 不论是否有空行，都列出行号（类似 cat -n) </span><br><span class="line">-b t 空行则不列行号（默认） </span><br><span class="line">-n 有ln rn rz三个参数，分别为再最左方显示，最右方显示不加0，最右方显示加0</span><br></pre></td></tr></table></figure>

<h2 id="18-head-参数-…-文件-…-显示档案开头，默认开头10行"><a href="#18-head-参数-…-文件-…-显示档案开头，默认开头10行" class="headerlink" title="18.head [参数]… [文件]… | 显示档案开头，默认开头10行"></a>18.head [参数]… [文件]… | 显示档案开头，默认开头10行</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-v  显示文件名</span><br><span class="line">-c number   显示前number个字符,若number为负数,则显示除最后number个字符的所有内容</span><br><span class="line">-number/n (+)number     显示前number行内容，</span><br><span class="line">-n number   若number为负数，则显示除最后number行数据的所有内容</span><br></pre></td></tr></table></figure>

<h2 id="19-tail-必要参数-选择参数-文件-显示文件结尾内容"><a href="#19-tail-必要参数-选择参数-文件-显示文件结尾内容" class="headerlink" title="19.tail [必要参数] [选择参数] [文件] | 显示文件结尾内容"></a>19.tail [必要参数] [选择参数] [文件] | 显示文件结尾内容</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-v  显示详细的处理信息</span><br><span class="line">-q  不显示处理信息</span><br><span class="line">-num/-n (-)num      显示最后num行内容</span><br><span class="line">-n +num 从第num行开始显示后面的数据</span><br><span class="line">-c  显示最后c个字符</span><br><span class="line">-f  循环读取</span><br></pre></td></tr></table></figure>

<h2 id="20-vi-编辑文件"><a href="#20-vi-编辑文件" class="headerlink" title="20.vi 编辑文件"></a>20.vi 编辑文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:w filename 将文章以指定的文件名保存起来  </span><br><span class="line">:wq 保存并退出</span><br><span class="line">:q! 不保存而强制退出</span><br><span class="line">命令行模式功能键</span><br><span class="line">1）插入模式</span><br><span class="line">   按「i」切换进入插入模式「insert mode」，按&quot;i&quot;进入插入模式后是从光标当前位置开始输入文件；</span><br><span class="line">   按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；</span><br><span class="line">   按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。</span><br><span class="line"></span><br><span class="line">2）从插入模式切换为命令行模式</span><br><span class="line"> 按「ESC」键。</span><br><span class="line">3）移动光标</span><br><span class="line">　　vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。</span><br><span class="line">　　按「ctrl」+「b」：屏幕往&quot;后&quot;移动一页。</span><br><span class="line">　　按「ctrl」+「f」：屏幕往&quot;前&quot;移动一页。</span><br><span class="line">　　按「ctrl」+「u」：屏幕往&quot;后&quot;移动半页。</span><br><span class="line">　　按「ctrl」+「d」：屏幕往&quot;前&quot;移动半页。</span><br><span class="line">　　按数字「0」：移到文章的开头。</span><br><span class="line">　　按「G」：移动到文章的最后。</span><br><span class="line">　　按「$」：移动到光标所在行的&quot;行尾&quot;。</span><br><span class="line">　　按「^」：移动到光标所在行的&quot;行首&quot;</span><br><span class="line">　　按「w」：光标跳到下个字的开头</span><br><span class="line">　　按「e」：光标跳到下个字的字尾</span><br><span class="line">　　按「b」：光标回到上个字的开头</span><br><span class="line">　　按「#l」：光标移到该行的第#个位置，如：5l,56l。</span><br><span class="line"></span><br><span class="line">4）删除文字</span><br><span class="line">　　「x」：每按一次，删除光标所在位置的&quot;后面&quot;一个字符。</span><br><span class="line">　　「#x」：例如，「6x」表示删除光标所在位置的&quot;后面&quot;6个字符。</span><br><span class="line">　　「X」：大写的X，每按一次，删除光标所在位置的&quot;前面&quot;一个字符。</span><br><span class="line">　　「#X」：例如，「20X」表示删除光标所在位置的&quot;前面&quot;20个字符。</span><br><span class="line">　　「dd」：删除光标所在行。</span><br><span class="line">　　「#dd」：从光标所在行开始删除#行</span><br><span class="line"></span><br><span class="line">5）复制</span><br><span class="line">　　「yw」：将光标所在之处到字尾的字符复制到缓冲区中。</span><br><span class="line">　　「#yw」：复制#个字到缓冲区</span><br><span class="line">　　「yy」：复制光标所在行到缓冲区。</span><br><span class="line">　　「#yy」：例如，「6yy」表示拷贝从光标所在的该行&quot;往下数&quot;6行文字。</span><br><span class="line">　　「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与&quot;y&quot;有关的复制命令都必须与&quot;p&quot;配合才能完成复制与粘贴功能。</span><br><span class="line"></span><br><span class="line">6）替换</span><br><span class="line">　　「r」：替换光标所在处的字符。</span><br><span class="line">　　「R」：替换光标所到之处的字符，直到按下「ESC」键为止。</span><br><span class="line"></span><br><span class="line">7）回复上一次操作</span><br><span class="line">　　「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次&quot;u&quot;可以执行多次回复。</span><br><span class="line"></span><br><span class="line">8）更改</span><br><span class="line">　　「cw」：更改光标所在处的字到字尾处</span><br><span class="line">　　「c#w」：例如，「c3w」表示更改3个字</span><br><span class="line"></span><br><span class="line">9）跳至指定的行</span><br><span class="line">　　「ctrl」+「g」列出光标所在行的行号。</span><br><span class="line">　　「#G」：例如，「15G」，表示移动光标至文章的第15行行首。</span><br></pre></td></tr></table></figure>

<h2 id="21-which-可执行文件名称-查看可执行文件的位置，在PATH变量指定的路径中查看系统命令是否存在及其位置"><a href="#21-which-可执行文件名称-查看可执行文件的位置，在PATH变量指定的路径中查看系统命令是否存在及其位置" class="headerlink" title="21.which 可执行文件名称 | 查看可执行文件的位置，在PATH变量指定的路径中查看系统命令是否存在及其位置"></a>21.which 可执行文件名称 | 查看可执行文件的位置，在PATH变量指定的路径中查看系统命令是否存在及其位置</h2><h2 id="22-whereis-bmsu-BMS-目录名-f-文件名-定位可执行文件、源代码文件、帮助文件在文件系统中的位置"><a href="#22-whereis-bmsu-BMS-目录名-f-文件名-定位可执行文件、源代码文件、帮助文件在文件系统中的位置" class="headerlink" title="22.whereis [-bmsu] [BMS 目录名 -f ] 文件名| 定位可执行文件、源代码文件、帮助文件在文件系统中的位置"></a>22.whereis [-bmsu] [BMS 目录名 -f ] 文件名| 定位可执行文件、源代码文件、帮助文件在文件系统中的位置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-b   定位可执行文件。</span><br><span class="line">-m   定位帮助文件。</span><br><span class="line">-s   定位源代码文件。</span><br><span class="line">-u   搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件。</span><br><span class="line">-B   指定搜索可执行文件的路径。</span><br><span class="line">-M   指定搜索帮助文件的路径。</span><br><span class="line">-S   指定搜索源代码文件的路径。</span><br></pre></td></tr></table></figure>

<h2 id="23-locate-通过搜寻数据库快速搜寻档案"><a href="#23-locate-通过搜寻数据库快速搜寻档案" class="headerlink" title="23.locate | 通过搜寻数据库快速搜寻档案"></a>23.locate | 通过搜寻数据库快速搜寻档案</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-r  使用正规运算式做寻找的条件</span><br></pre></td></tr></table></figure>

<h2 id="24-find-find-PATH-option-action-在文件树种查找文件，并作出相应的处理"><a href="#24-find-find-PATH-option-action-在文件树种查找文件，并作出相应的处理" class="headerlink" title="24.find find [PATH] [option] [action] | 在文件树种查找文件，并作出相应的处理"></a>24.find find [PATH] [option] [action] | 在文件树种查找文件，并作出相应的处理</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">1. 与时间有关的选项：共有 -atime, -ctime 与 -mtime 和-amin,-cmin与-mmin，以 -mtime 说明</span><br><span class="line">   -mtime n ：n 为数字，意义为在 n 天之前的『一天之内』被更动过内容的档案；</span><br><span class="line">   -mtime +n ：列出在 n 天之前(不含 n 天本身)被更动过内容的档案档名；</span><br><span class="line">   -mtime -n ：列出在 n 天之内(含 n 天本身)被更动过内容的档案档名。</span><br><span class="line">   -newer file ：file 为一个存在的档案，列出比 file 还要新的档案档名</span><br><span class="line"></span><br><span class="line">2. 与使用者或组名有关的参数：</span><br><span class="line">   -uid n ：n 为数字，这个数字是用户的账号 ID，亦即 UID</span><br><span class="line">   -gid n ：n 为数字，这个数字是组名的 ID，亦即 GID</span><br><span class="line">   -user name ：name 为使用者账号名称！例如 dmtsai</span><br><span class="line">   -group name：name 为组名，例如 users ；</span><br><span class="line">   -nouser ：寻找档案的拥有者不存在 /etc/passwd 的人！</span><br><span class="line">   -nogroup ：寻找档案的拥有群组不存在于 /etc/group 的档案！</span><br><span class="line"></span><br><span class="line">3. 与档案权限及名称有关的参数：</span><br><span class="line">   -name filename：搜寻文件名为 filename 的档案（可使用通配符）</span><br><span class="line">   -size [+-]SIZE：搜寻比 SIZE 还要大(+)或小(-)的档案。这个 SIZE 的规格有：</span><br><span class="line">       c: 代表 byte</span><br><span class="line">       k: 代表 1024bytes。所以，要找比 50KB还要大的档案，就是『 -size +50k 』</span><br><span class="line">   -type TYPE ：搜寻档案的类型为 TYPE 的，类型主要有：</span><br><span class="line">       一般正规档案 (f)</span><br><span class="line">       装置档案 (b, c)</span><br><span class="line">       目录 (d)</span><br><span class="line">       连结档 (l)</span><br><span class="line">       socket (s)</span><br><span class="line">       FIFO (p)</span><br><span class="line">   -perm mode ：搜寻档案权限『刚好等于』 mode的档案，这个mode为类似chmod的属性值，举例来说，-rwsr-xr-x 的属性为4755！</span><br><span class="line">   -perm -mode ：搜寻档案权限『必须要全部囊括 mode 的权限』的档案，举例来说，</span><br><span class="line">       我们要搜寻-rwxr--r-- 亦即 0744 的档案，使用-perm -0744，当一个档案的权限为 -rwsr-xr-x ，亦即 4755 时，也会被列出来，因为 -rwsr-xr-x 的属性已经囊括了 -rwxr--r-- 的属性了。</span><br><span class="line">   -perm +mode ：搜寻档案权限『包含任一 mode 的权限』的档案，举例来</span><br><span class="line">       说，我们搜寻-rwxr-xr-x ，亦即 -perm +755 时，但一个文件属性为 -rw-------也会被列出来，因为他有 -rw.... 的属性存在！</span><br><span class="line">4. 额外可进行的动作：</span><br><span class="line">   -exec command ：command 为其他指令，-exec 后面可再接额外的指令来处理搜寻到的结果。</span><br><span class="line">   -print ：将结果打印到屏幕上，这个动作是预设动作！</span><br><span class="line">   eg:</span><br><span class="line">       find / -perm +7000 -exec ls -l &#123;&#125; \; ,额外指令以-exec开头，以\;结尾&#123;&#125;代替前面找到的内容</span><br><span class="line">   | xargs </span><br><span class="line">       -i  默认的前面输出用&#123;&#125;代替 </span><br><span class="line">       eg:</span><br><span class="line">           find . -name &quot;*.log&quot; | xargs -i mv &#123;&#125; test4</span><br></pre></td></tr></table></figure>

<h2 id="25-grep-‘正则表达式’-文件名-用正则表达式搜索文本，并把匹配的行打印出来"><a href="#25-grep-‘正则表达式’-文件名-用正则表达式搜索文本，并把匹配的行打印出来" class="headerlink" title="25.grep ‘正则表达式’ 文件名 | 用正则表达式搜索文本，并把匹配的行打印出来"></a>25.grep ‘正则表达式’ 文件名 | 用正则表达式搜索文本，并把匹配的行打印出来</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-c  只输出匹配行的计数。</span><br><span class="line">-I  不区分大小写(只适用于单字符)。</span><br><span class="line">-l  只显示文件名</span><br><span class="line">-v  显示不包含匹配文本的所有行。</span><br><span class="line">-n  显示匹配行数据及其行号</span><br></pre></td></tr></table></figure>

<h2 id="25-file-判断文件类型"><a href="#25-file-判断文件类型" class="headerlink" title="25.file | 判断文件类型"></a>25.file | 判断文件类型</h2><h2 id="26-gzip-cdtv-檔名-压缩、解压缩，源文件都不再存在"><a href="#26-gzip-cdtv-檔名-压缩、解压缩，源文件都不再存在" class="headerlink" title="26.gzip [-cdtv#] 檔名 | 压缩、解压缩，源文件都不再存在"></a>26.gzip [-cdtv#] 檔名 | 压缩、解压缩，源文件都不再存在</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-d  进行解压缩</span><br><span class="line">-c  将压缩的数据输出到屏幕上</span><br><span class="line">-v  :显示原档案/压缩文件案的压缩比等信息</span><br><span class="line">-#  ：压缩等级，-1最快，但压缩比最差，=9最慢，但压缩比最好</span><br></pre></td></tr></table></figure>

<h2 id="27-gunzip-解压缩"><a href="#27-gunzip-解压缩" class="headerlink" title="27.gunzip | 解压缩"></a>27.gunzip | 解压缩</h2><h2 id="28-bzip2-压缩、解压缩"><a href="#28-bzip2-压缩、解压缩" class="headerlink" title="28.bzip2 | 压缩、解压缩"></a>28.bzip2 | 压缩、解压缩</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-d  :解压</span><br><span class="line">-z  :压缩</span><br><span class="line">-k  :保留源文件</span><br><span class="line">-c ：将压缩的过程产生的数据输出到屏幕上！</span><br><span class="line">-v ：可以显示出原档案/压缩文件案的压缩比等信息；</span><br><span class="line">-# ：与 gzip 同样的，都是在计算压缩比的参数， -9 最佳， -1 最快！</span><br></pre></td></tr></table></figure>

<h2 id="29-bzcat-读取数据而无需解压"><a href="#29-bzcat-读取数据而无需解压" class="headerlink" title="29.bzcat 读取数据而无需解压"></a>29.bzcat 读取数据而无需解压</h2><h2 id="30-tar-主选项-辅选项-文件或者目录-多个目录或档案打包、压缩成一个大档案"><a href="#30-tar-主选项-辅选项-文件或者目录-多个目录或档案打包、压缩成一个大档案" class="headerlink" title="30.tar [主选项+辅选项] 文件或者目录 | 多个目录或档案打包、压缩成一个大档案"></a>30.tar [主选项+辅选项] 文件或者目录 | 多个目录或档案打包、压缩成一个大档案</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">主选项：</span><br><span class="line">   -c  建立打包档案，可搭配 -v 来察看过程中被打包的档名(filename)</span><br><span class="line">   -t  察看打包档案的内容含有哪些档名，重点在察看『档名』就是了；</span><br><span class="line">   -x  解打包或解压缩的功能，可以搭配 -C (大写) 在特定目录解开</span><br><span class="line">辅选项：</span><br><span class="line">   -j  透过 bzip2 的支持进行压缩/解压缩：此时档名最好为 *.tar.bz2</span><br><span class="line">   -z  透过 gzip 的支持进行压缩/解压缩：此时档名最好为 *.tar.gz</span><br><span class="line">   -v  在压缩/解压缩的过程中，将正在处理的文件名显示出来！</span><br><span class="line">   -f filename -f 后面要立刻接要被处理的档名！</span><br><span class="line">   -C 目录   这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。</span><br><span class="line">   --exclude FILE：在压缩打包过程中忽略某文件 eg: tar --exclude /home/zenghao -zcvf myfile.tar.gz /home/* /etc</span><br><span class="line">   -p  保留备份数据的原本权限与属性，常用于备份(-c)重要的配置文件</span><br><span class="line">   -P(大写）  保留绝对路径，亦即允许备份数据中含有根目录存在之意；</span><br><span class="line">eg:</span><br><span class="line">   压 缩：tar -jcvf filename.tar.bz2 要被压缩的档案或目录名称</span><br><span class="line">   查 询：tar -jtvf filename.tar.bz2</span><br><span class="line">   解压缩：tar -jxvf filename.tar.bz2 -C 欲解压缩的目录</span><br></pre></td></tr></table></figure>

<h2 id="31-exit-退出当前shell"><a href="#31-exit-退出当前shell" class="headerlink" title="31.exit 退出当前shell"></a>31.exit 退出当前shell</h2><h2 id="32-logout-退出登录shell"><a href="#32-logout-退出登录shell" class="headerlink" title="32.logout 退出登录shell"></a>32.logout 退出登录shell</h2><h2 id="33-shutdown-h-now"><a href="#33-shutdown-h-now" class="headerlink" title="33.shutdown -h now"></a>33.shutdown -h now</h2><h2 id="34-users-显示当前登录系统地用户"><a href="#34-users-显示当前登录系统地用户" class="headerlink" title="34.users 显示当前登录系统地用户"></a>34.users 显示当前登录系统地用户</h2><h2 id="35-who-登录在本机的用户与来源"><a href="#35-who-登录在本机的用户与来源" class="headerlink" title="35.who 登录在本机的用户与来源"></a>35.who 登录在本机的用户与来源</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-H或--heading 　显示各栏位的标题信息列。</span><br></pre></td></tr></table></figure>

<h2 id="36-w-登录在本机的用户及其运行的程序"><a href="#36-w-登录在本机的用户及其运行的程序" class="headerlink" title="36.w 登录在本机的用户及其运行的程序"></a>36.w 登录在本机的用户及其运行的程序</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-s 　使用简洁格式列表，不显示用户登入时间，终端机阶段作业和程序所耗费的CPU时间。</span><br><span class="line">-h 　不显示各栏位的标题信息列。</span><br></pre></td></tr></table></figure>

<h2 id="37-write-给当前联机的用户发消息"><a href="#37-write-给当前联机的用户发消息" class="headerlink" title="37.write 给当前联机的用户发消息"></a>37.write 给当前联机的用户发消息</h2><h2 id="38-wall-给所有登录再本机的用户发消息"><a href="#38-wall-给所有登录再本机的用户发消息" class="headerlink" title="38.wall 给所有登录再本机的用户发消息"></a>38.wall 给所有登录再本机的用户发消息</h2><h2 id="39-last-查看用户的登陆日志"><a href="#39-last-查看用户的登陆日志" class="headerlink" title="39.last 查看用户的登陆日志"></a>39.last 查看用户的登陆日志</h2><h2 id="40-lastlog-查看每个用户最后的登陆时间"><a href="#40-lastlog-查看每个用户最后的登陆时间" class="headerlink" title="40.lastlog 查看每个用户最后的登陆时间"></a>40.lastlog 查看每个用户最后的登陆时间</h2><h2 id="41-finger-选项-使用者-用户-主机-查看用户信息"><a href="#41-finger-选项-使用者-用户-主机-查看用户信息" class="headerlink" title="41.finger [选项] [使用者] [用户@主机] | 查看用户信息"></a>41.finger [选项] [使用者] [用户@主机] | 查看用户信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-s 显示用户的注册名、实际姓名、终端名称、写状态、停滞时间、登录时间等信息</span><br><span class="line">-l 除了用-s选项显示的信息外，还显示用户主目录、登录shell、邮件状态等信息，以及用户主目录下的.plan、.project和.forward文件的内容。</span><br><span class="line">-p 除了不显示.plan文件和.project文件以外，与-l选项相同</span><br></pre></td></tr></table></figure>

<h2 id="42-hostname-查看主机名"><a href="#42-hostname-查看主机名" class="headerlink" title="42.hostname 查看主机名"></a>42.hostname 查看主机名</h2><h2 id="43-alias-ii-“ls-l”-添加别名"><a href="#43-alias-ii-“ls-l”-添加别名" class="headerlink" title="43.alias ii = “ls -l” | 添加别名"></a>43.alias ii = “ls -l” | 添加别名</h2><h2 id="44-unalias-ii-清除别名"><a href="#44-unalias-ii-清除别名" class="headerlink" title="44.unalias ii | 清除别名"></a>44.unalias ii | 清除别名</h2><h2 id="45-useradd-u-UID-g-初始群组-G-次要群组-c-说明栏-d-家目录绝对路径-s-shell-使用者账号名-新增用户"><a href="#45-useradd-u-UID-g-初始群组-G-次要群组-c-说明栏-d-家目录绝对路径-s-shell-使用者账号名-新增用户" class="headerlink" title="45.useradd [-u UID] [-g 初始群组] [-G 次要群组] [-c 说明栏] [-d 家目录绝对路径] [-s shell] 使用者账号名 | 新增用户"></a>45.useradd [-u UID] [-g 初始群组] [-G 次要群组] [-c 说明栏] [-d 家目录绝对路径] [-s shell] 使用者账号名 | 新增用户</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-M  不建立用户家目录！(系统账号默认值)</span><br><span class="line">-m  建立用户家目录！(一般账号默认值)</span><br><span class="line">-r  建立一个系统的账号，这个账号的 UID 会有限制 </span><br><span class="line">-e  账号失效日期，格式为『YYYY-MM-DD』</span><br><span class="line">-D  查看useradd的各项默认值</span><br></pre></td></tr></table></figure>

<h2 id="46-passwd-修改密码"><a href="#46-passwd-修改密码" class="headerlink" title="46.passwd | 修改密码"></a>46.passwd | 修改密码</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l  使密码失效</span><br><span class="line">-u  与-l相对，用户解锁</span><br><span class="line">-S  列出登陆用户passwd文件内的相关参数</span><br><span class="line">-n  后面接天数，shadow 的第 4 字段，多久不可修改密码天数</span><br><span class="line">-x  后面接天数，shadow 的第 5 字段，多久内必须要更动密码</span><br><span class="line">-w  后面接天数，shadow 的第 6 字段，密码过期前的警告天数</span><br><span class="line">-i  后面接『日期』，shadow 的第 7 字段，密码失效日期</span><br><span class="line">使用管道设置密码：echo &quot;zeng&quot; | passwd --stdin zenghao</span><br></pre></td></tr></table></figure>

<h2 id="47-userdel-删除用户"><a href="#47-userdel-删除用户" class="headerlink" title="47.userdel 删除用户"></a>47.userdel 删除用户</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-r  用户文件一并删除</span><br></pre></td></tr></table></figure>

<h2 id="48-chage-ldEImMW-账号名-修改用户密码的相关属性"><a href="#48-chage-ldEImMW-账号名-修改用户密码的相关属性" class="headerlink" title="48.chage [-ldEImMW] 账号名 | 修改用户密码的相关属性"></a>48.chage [-ldEImMW] 账号名 | 修改用户密码的相关属性</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l  列出该账号的详细密码参数；</span><br><span class="line">-d  后面接日期，修改 shadow 第三字段(最近一次更改密码的日期)，格式YYYY-MM-DD</span><br><span class="line">-E  后面接日期，修改 shadow 第八字段(账号失效日)，格式 YYYY-MM-DD</span><br><span class="line">-I  后面接天数，修改 shadow 第七字段(密码失效日期)</span><br><span class="line">-m  后面接天数，修改 shadow 第四字段(密码最短保留天数)</span><br><span class="line">-M  后面接天数，修改 shadow 第五字段(密码多久需要进行变更)</span><br><span class="line">-W  后面接天数，修改 shadow 第六字段(密码过期前警告日期)</span><br></pre></td></tr></table></figure>

<h2 id="49-usermod-cdegGlsuLU-username-修改用户的相关属性"><a href="#49-usermod-cdegGlsuLU-username-修改用户的相关属性" class="headerlink" title="49.usermod [-cdegGlsuLU] username | 修改用户的相关属性"></a>49.usermod [-cdegGlsuLU] username | 修改用户的相关属性</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-c  后面接账号的说明，即 /etc/passwd 第五栏的说明栏，可以加入一些账号的说明。</span><br><span class="line">-d  后面接账号的家目录，即修改 /etc/passwd 的第六栏；</span><br><span class="line">-e  后面接日期，格式是 YYYY-MM-DD 也就是在 /etc/shadow 内的第八个字段数据啦！</span><br><span class="line">-f  后面接天数为 shadow 的第七字段。</span><br><span class="line">-g  后面接初始群组，修改 /etc/passwd 的第四个字段，亦即是GID的字段！</span><br><span class="line">-G  后面接次要群组，修改这个使用者能够支持的群组</span><br><span class="line">-l  后面接账号名称。亦即是修改账号名称， /etc/passwd 的第一栏！</span><br><span class="line">-s  后面接 Shell 的实际档案，例如 /bin/bash 或 /bin/csh 等等。</span><br><span class="line">-u  后面接 UID 数字啦！即 /etc/passwd 第三栏的资料；</span><br><span class="line">-L  冻结密码</span><br><span class="line">-U  解冻密码</span><br></pre></td></tr></table></figure>

<h2 id="50-id-username-查看用户相关的id信息，还可以用来判断用户是否存在"><a href="#50-id-username-查看用户相关的id信息，还可以用来判断用户是否存在" class="headerlink" title="50.id [username] | 查看用户相关的id信息，还可以用来判断用户是否存在"></a>50.id [username] | 查看用户相关的id信息，还可以用来判断用户是否存在</h2><h2 id="51-groups-查看登陆用户支持的群组，-第一个输出的群组为有效群组"><a href="#51-groups-查看登陆用户支持的群组，-第一个输出的群组为有效群组" class="headerlink" title="51.groups 查看登陆用户支持的群组， 第一个输出的群组为有效群组"></a>51.groups 查看登陆用户支持的群组， 第一个输出的群组为有效群组</h2><h2 id="52-newgrp-切换有效群组"><a href="#52-newgrp-切换有效群组" class="headerlink" title="52.newgrp 切换有效群组"></a>52.newgrp 切换有效群组</h2><h2 id="53-groupadd-g-gid-组名-添加组"><a href="#53-groupadd-g-gid-组名-添加组" class="headerlink" title="53.groupadd [-g gid] 组名 | 添加组"></a>53.groupadd [-g gid] 组名 | 添加组</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-g  设定添加组的特定组id</span><br></pre></td></tr></table></figure>

<h2 id="54-groupmod-g-gid-n-group-name-群组名-修改组信息"><a href="#54-groupmod-g-gid-n-group-name-群组名-修改组信息" class="headerlink" title="54.groupmod [-g gid] [-n group_name] 群组名 | 修改组信息"></a>54.groupmod [-g gid] [-n group_name] 群组名 | 修改组信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-g  修改既有的 GID 数字</span><br><span class="line">-n  修改既有的组名</span><br></pre></td></tr></table></figure>

<h2 id="55-groupdel-groupname-删除群组"><a href="#55-groupdel-groupname-删除群组" class="headerlink" title="55.groupdel [groupname] | 删除群组"></a>55.groupdel [groupname] | 删除群组</h2><h2 id="56-gpasswd-群组管理员功能"><a href="#56-gpasswd-群组管理员功能" class="headerlink" title="56.gpasswd | 群组管理员功能"></a>56.gpasswd | 群组管理员功能</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root管理员动作：</span><br><span class="line">   -gpasswd groupname 设定密码</span><br><span class="line">   -gpasswd [-A user1,...] [-M user3,...] groupname</span><br><span class="line">       -A  将 groupname 的主控权交由后面的使用者管理(该群组的管理员)</span><br><span class="line">       -M  将某些账号加入这个群组当中</span><br><span class="line">   -gpasswd [-r] groupname</span><br><span class="line">       -r  将 groupname 的密码移除</span><br><span class="line">群组管理员动作：</span><br><span class="line">   - gpasswd [-ad] user groupname </span><br><span class="line">       -a  将某位使用者加入到 groupname 这个群组当中</span><br><span class="line">       -d  将某位使用者移除出 groupname 这个群组当中</span><br></pre></td></tr></table></figure>

<h2 id="57-chfn修改个人信息"><a href="#57-chfn修改个人信息" class="headerlink" title="57.chfn修改个人信息"></a>57.chfn修改个人信息</h2><h2 id="58-mount-t-vfstype-o-options-device-dir"><a href="#58-mount-t-vfstype-o-options-device-dir" class="headerlink" title="58.mount [-t vfstype] [-o options] device dir"></a>58.mount [-t vfstype] [-o options] device dir</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-ro 采用只读方式挂接设备</span><br><span class="line">-rw 采用读写方式挂接设备</span><br><span class="line">eg:mount /home/mydisk.iso /tmp/mnt 通过mnt访问mydisk内的内容</span><br></pre></td></tr></table></figure>

<h2 id="59-umount-取消挂载"><a href="#59-umount-取消挂载" class="headerlink" title="59.umount 取消挂载"></a>59.umount 取消挂载</h2><h2 id="60-cut"><a href="#60-cut" class="headerlink" title="60.cut"></a>60.cut</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-b ：以字节为单位进行分割。这些字节位置将忽略多字节字符边界，除非也指定了 -n 标志。</span><br><span class="line">-c ：以字符为单位进行分割。</span><br><span class="line">-d ：自定义分隔符，默认为制表符。</span><br><span class="line">-f  ：与-d一起使用，指定显示哪个区域。</span><br></pre></td></tr></table></figure>

<h2 id="61-sort"><a href="#61-sort" class="headerlink" title="61.sort"></a>61.sort</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-n   依照数值的大小排序。</span><br><span class="line">-o&lt;输出文件&gt;   将排序后的结果存入指定的文件。</span><br><span class="line">-r   以相反的顺序来排序。</span><br><span class="line">-t&lt;分隔字符&gt;   指定排序时所用的栏位分隔字符。</span><br><span class="line">-k  选择以哪个区间进行排序。</span><br></pre></td></tr></table></figure>

<h2 id="62-wc-统计指定文件中的字节数、字数、行数-并将统计结果显示输出"><a href="#62-wc-统计指定文件中的字节数、字数、行数-并将统计结果显示输出" class="headerlink" title="62.wc 统计指定文件中的字节数、字数、行数, 并将统计结果显示输出"></a>62.wc 统计指定文件中的字节数、字数、行数, 并将统计结果显示输出</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l filename 报告行数</span><br><span class="line">-c filename 报告字节数</span><br><span class="line">-m filename 报告字符数</span><br><span class="line">-w filename 报告单词数</span><br></pre></td></tr></table></figure>

<h2 id="63-uniq-去除文件中相邻的重复行"><a href="#63-uniq-去除文件中相邻的重复行" class="headerlink" title="63.uniq 去除文件中相邻的重复行"></a>63.uniq 去除文件中相邻的重复行</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-c或——count：在每列旁边显示该行重复出现的次数；</span><br><span class="line">-d或--repeated：仅显示重复出现的行列；</span><br><span class="line">-f&lt;栏位&gt;或--skip-fields=&lt;栏位&gt;：忽略比较指定的栏位；</span><br><span class="line">-s&lt;字符位置&gt;或--skip-chars=&lt;字符位置&gt;：忽略比较指定的字符；</span><br><span class="line">-u或——unique：仅显示出一次的行列；</span><br><span class="line">-w&lt;字符位置&gt;或--check-chars=&lt;字符位置&gt;：指定要比较的字符。</span><br></pre></td></tr></table></figure>

<h2 id="64-set-显示环境变量和普通变量"><a href="#64-set-显示环境变量和普通变量" class="headerlink" title="64.set 显示环境变量和普通变量"></a>64.set 显示环境变量和普通变量</h2><h2 id="65-env-显示环境变量"><a href="#65-env-显示环境变量" class="headerlink" title="65.env 显示环境变量"></a>65.env 显示环境变量</h2><h2 id="66-export-把普通变量变成环境变量"><a href="#66-export-把普通变量变成环境变量" class="headerlink" title="66.export 把普通变量变成环境变量"></a>66.export 把普通变量变成环境变量</h2><h2 id="67-unset-删除一个环境变量"><a href="#67-unset-删除一个环境变量" class="headerlink" title="67.unset 删除一个环境变量"></a>67.unset 删除一个环境变量</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">aaa()&#123;&#125; 定义函数</span><br></pre></td></tr></table></figure>

<h2 id="68-read"><a href="#68-read" class="headerlink" title="68.read"></a>68.read</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p  接提示字符</span><br><span class="line">-t  接等待的秒数</span><br></pre></td></tr></table></figure>

<h2 id="69-declare、typeset"><a href="#69-declare、typeset" class="headerlink" title="69.declare、typeset"></a>69.declare、typeset</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-i 声明为整数</span><br><span class="line">-a 声明为数组</span><br><span class="line">-f 声明为函数</span><br><span class="line">-r 声明为只读</span><br></pre></td></tr></table></figure>

<h2 id="70-ulimit-限制使用者的某些系统资源"><a href="#70-ulimit-限制使用者的某些系统资源" class="headerlink" title="70.ulimit 限制使用者的某些系统资源"></a>70.ulimit 限制使用者的某些系统资源</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-f  此 shell 可以建立的最大档案容量 (一般可能设定为 2GB)单位为 Kbytes eg: ulimit -f 1024 限制使用者仅能建立 1MBytes 以下的容量的档案</span><br></pre></td></tr></table></figure>

<h2 id="71-df-选项-文件-显示指定磁盘文件的可用空间-如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示"><a href="#71-df-选项-文件-显示指定磁盘文件的可用空间-如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示" class="headerlink" title="71.df [选项] [文件] | 显示指定磁盘文件的可用空间,如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示"></a>71.df [选项] [文件] | 显示指定磁盘文件的可用空间,如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-a  显示全部文件系统</span><br><span class="line">-h  文件大小友好显示</span><br><span class="line">-l  只显示本地文件系统</span><br><span class="line">-i  显示inode信息</span><br><span class="line">-T  显示文件系统类型</span><br></pre></td></tr></table></figure>

<h2 id="72-du-选项-文件-显示每个文件和目录的磁盘使用空间"><a href="#72-du-选项-文件-显示每个文件和目录的磁盘使用空间" class="headerlink" title="72.du [选项] [文件] | 显示每个文件和目录的磁盘使用空间"></a>72.du [选项] [文件] | 显示每个文件和目录的磁盘使用空间</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-h  方便阅读的方式</span><br><span class="line">-s  只显示总和的大小</span><br></pre></td></tr></table></figure>

<h2 id="73-ln-参数-源文件或目录-目标文件或目录-某一个文件在另外一个位置建立一个同步的链接"><a href="#73-ln-参数-源文件或目录-目标文件或目录-某一个文件在另外一个位置建立一个同步的链接" class="headerlink" title="73.ln [参数] [源文件或目录] [目标文件或目录] | 某一个文件在另外一个位置建立一个同步的链接"></a>73.ln [参数] [源文件或目录] [目标文件或目录] | 某一个文件在另外一个位置建立一个同步的链接</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-s  建立软连接   </span><br><span class="line">-v  显示详细的处理过程</span><br></pre></td></tr></table></figure>

<h2 id="74-diff-参数-文件1或目录1-文件2或目录2-比较单个文件或者目录内容"><a href="#74-diff-参数-文件1或目录1-文件2或目录2-比较单个文件或者目录内容" class="headerlink" title="74.diff [参数] [文件1或目录1] [文件2或目录2] | 比较单个文件或者目录内容"></a>74.diff [参数] [文件1或目录1] [文件2或目录2] | 比较单个文件或者目录内容</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-b 　不检查空格字符的不同。</span><br><span class="line">-B 　不检查空白行。</span><br><span class="line">-i  不检查大小写</span><br><span class="line">-q  仅显示差异而不显示详细信息</span><br><span class="line">eg: diff a b &gt; parch.log 比较两个文件的不同并产生补丁</span><br></pre></td></tr></table></figure>

<h2 id="75-date-参数-…-格式-显示或设定系统的日期与时间"><a href="#75-date-参数-…-格式-显示或设定系统的日期与时间" class="headerlink" title="75.date [参数]… [+格式] | 显示或设定系统的日期与时间"></a>75.date [参数]… [+格式] | 显示或设定系统的日期与时间</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">%H 小时(以00-23来表示)。 </span><br><span class="line">%M 分钟(以00-59来表示)。 </span><br><span class="line">%P AM或PM。</span><br><span class="line">%D 日期(含年月日)</span><br><span class="line">%U 该年中的周数。</span><br><span class="line">date -s “2015-10-17 01:01:01″ //时间设定</span><br><span class="line">date +%Y%m%d         //显示前天年月日</span><br><span class="line">date +%Y%m%d --date=&quot;+1 day/month/year&quot;  //显示前一天/月/年的日期</span><br><span class="line">date +%Y%m%d --date=&quot;-1 day/month/year&quot;  //显示后一天/月/年的日期</span><br><span class="line">date -d &#x27;2 weeks&#x27; 2周后的日期</span><br></pre></td></tr></table></figure>

<h2 id="76-cal-参数-月份-年份-查看日历"><a href="#76-cal-参数-月份-年份-查看日历" class="headerlink" title="76.cal [参数] [月份] [年份] | 查看日历"></a>76.cal [参数] [月份] [年份] | 查看日历</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-1  显示当月的月历</span><br><span class="line">-3  显示前、当、后一个月的日历</span><br><span class="line">-m  显示星期一为一个星期的第一天</span><br><span class="line">-s  （默认）星期天为第一天</span><br><span class="line">-j  显示当月是一年中的第几天的日历</span><br><span class="line">-y  显示当前年份的日历</span><br></pre></td></tr></table></figure>

<h2 id="77-ps-列出当前进程的快照"><a href="#77-ps-列出当前进程的快照" class="headerlink" title="77.ps | 列出当前进程的快照"></a>77.ps | 列出当前进程的快照</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a   显示所有的进程</span><br><span class="line">-a  显示同一终端下的所有程序</span><br><span class="line">e   显示环境变量</span><br><span class="line">f   显示进程间的关系</span><br><span class="line">-H  显示树状结构</span><br><span class="line">r   显示当前终端的程序</span><br><span class="line">T   显示当前终端的所有程序</span><br><span class="line">-au 显示更详细的信息</span><br><span class="line">-aux    显示所有包含其他使用者的行程 </span><br><span class="line">-u  指定用户的所有进程</span><br></pre></td></tr></table></figure>

<h2 id="78-top-参数-显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等"><a href="#78-top-参数-显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等" class="headerlink" title="78.top [参数] | 显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等"></a>78.top [参数] | 显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等</h2><h2 id="79-kill-参数-进程号-杀死进程"><a href="#79-kill-参数-进程号-杀死进程" class="headerlink" title="79.kill [参数] [进程号] | 杀死进程"></a>79.kill [参数] [进程号] | 杀死进程</h2><h2 id="80-free-参数-显示linux系统中空闲的、已用的物理内存及swap内存-及被内核使用的buffer"><a href="#80-free-参数-显示linux系统中空闲的、已用的物理内存及swap内存-及被内核使用的buffer" class="headerlink" title="80.free [参数] | 显示linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer"></a>80.free [参数] | 显示linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer</h2><h2 id="81-vmstat-对操作系统的虚拟内存、进程、CPU活动进行监控"><a href="#81-vmstat-对操作系统的虚拟内存、进程、CPU活动进行监控" class="headerlink" title="81.vmstat | 对操作系统的虚拟内存、进程、CPU活动进行监控"></a>81.vmstat | 对操作系统的虚拟内存、进程、CPU活动进行监控</h2><h2 id="82-iostat-参数-时间t-次数n-每隔t时间刷新一次，最多刷新n次）-对系统的磁盘操作活动进行监视-汇报磁盘活动统计情况，同时也会汇报出CPU使用情况"><a href="#82-iostat-参数-时间t-次数n-每隔t时间刷新一次，最多刷新n次）-对系统的磁盘操作活动进行监视-汇报磁盘活动统计情况，同时也会汇报出CPU使用情况" class="headerlink" title="82.iostat [参数] [时间t] [次数n](每隔t时间刷新一次，最多刷新n次）| 对系统的磁盘操作活动进行监视,汇报磁盘活动统计情况，同时也会汇报出CPU使用情况"></a>82.iostat [参数] [时间t] [次数n](每隔t时间刷新一次，最多刷新n次）| 对系统的磁盘操作活动进行监视,汇报磁盘活动统计情况，同时也会汇报出CPU使用情况</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p[磁盘] 显示磁盘和分区的情况</span><br></pre></td></tr></table></figure>

<h2 id="83-watch-参数-命令-重复执行某一命令以观察变化"><a href="#83-watch-参数-命令-重复执行某一命令以观察变化" class="headerlink" title="83.watch [参数] [命令] |重复执行某一命令以观察变化"></a>83.watch [参数] [命令] |重复执行某一命令以观察变化</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-n  时隔多少秒刷新</span><br><span class="line">-d  高亮显示动态变化</span><br></pre></td></tr></table></figure>

<h2 id="84-at-参数-时间-在一个指定的时间执行一个指定任务，只能执行一次"><a href="#84-at-参数-时间-在一个指定的时间执行一个指定任务，只能执行一次" class="headerlink" title="84.at [参数] [时间] | 在一个指定的时间执行一个指定任务，只能执行一次"></a>84.at [参数] [时间] | 在一个指定的时间执行一个指定任务，只能执行一次</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HH:MM[am|pm] + number [minutes|hours|days|weeks] 强制在某年某月某日的某时刻进行该项任务</span><br><span class="line">atq 查看系统未执行的任务</span><br><span class="line">atrm n 删除编号为n的任务</span><br><span class="line">at -c n 显示编号为n的任务的内容</span><br></pre></td></tr></table></figure>

<h2 id="85-crontab-定时任务调度"><a href="#85-crontab-定时任务调度" class="headerlink" title="85.crontab | 定时任务调度"></a>85.crontab | 定时任务调度</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">file    载入crontab</span><br><span class="line">-e  编辑某个用户的crontab文件内容</span><br><span class="line">-l  显示某个用户的crontab文件内容</span><br><span class="line">-r  删除某个用户的crontab文件</span><br></pre></td></tr></table></figure>

<h2 id="86-ifconfig-网络设备-参数-查看和配置网络设备"><a href="#86-ifconfig-网络设备-参数-查看和配置网络设备" class="headerlink" title="86.ifconfig [网络设备] [参数] | 查看和配置网络设备"></a>86.ifconfig [网络设备] [参数] | 查看和配置网络设备</h2><h2 id="87-route-显示和操作IP路由表"><a href="#87-route-显示和操作IP路由表" class="headerlink" title="87.route | 显示和操作IP路由表"></a>87.route | 显示和操作IP路由表</h2><h2 id="88-ping-参数-主机名或IP地址-测试与目标主机的连通性"><a href="#88-ping-参数-主机名或IP地址-测试与目标主机的连通性" class="headerlink" title="88.ping [参数] [主机名或IP地址] | 测试与目标主机的连通性"></a>88.ping [参数] [主机名或IP地址] | 测试与目标主机的连通性</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-q  只显示最后的结果</span><br></pre></td></tr></table></figure>

<h2 id="89-netstat-显示与IP、TCP、UDP和ICMP协议相关的统计数据"><a href="#89-netstat-显示与IP、TCP、UDP和ICMP协议相关的统计数据" class="headerlink" title="89.netstat | 显示与IP、TCP、UDP和ICMP协议相关的统计数据"></a>89.netstat | 显示与IP、TCP、UDP和ICMP协议相关的统计数据</h2><h2 id="90-telnet-参数-主机-用于远程登录，采用明文传送报文，安全性不好"><a href="#90-telnet-参数-主机-用于远程登录，采用明文传送报文，安全性不好" class="headerlink" title="90.telnet [参数] [主机] | 用于远程登录，采用明文传送报文，安全性不好"></a>90.telnet [参数] [主机] | 用于远程登录，采用明文传送报文，安全性不好</h2><h2 id="91-rcp-参数-源文件-目标文件-远程文件拷贝"><a href="#91-rcp-参数-源文件-目标文件-远程文件拷贝" class="headerlink" title="91.rcp [参数] [源文件] [目标文件] | 远程文件拷贝"></a>91.rcp [参数] [源文件] [目标文件] | 远程文件拷贝</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-r  递归复制</span><br><span class="line">-p  保留源文件的属性</span><br><span class="line">usage: rcp –r remote_hostname:remote_dir local_dir</span><br></pre></td></tr></table></figure>

<h2 id="92-wget-参数-URL地址-直接从网络上下载文件"><a href="#92-wget-参数-URL地址-直接从网络上下载文件" class="headerlink" title="92.wget [参数] [URL地址] | 直接从网络上下载文件"></a>92.wget [参数] [URL地址] | 直接从网络上下载文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-o FILE 把记录写到FILE文件中    eg : wget -O a.txt URL</span><br><span class="line">wget --limit-rate=300k URL  限速下载</span><br></pre></td></tr></table></figure>

<h2 id="93-awk"><a href="#93-awk" class="headerlink" title="93.awk"></a>93.awk</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-F 分隔符  以分隔符分隔内容</span><br><span class="line">&#123;&#125;  要执行的脚本内容 eg:cat /etc/passwd |awk  -F &#x27;:&#x27;  &#x27;&#123;print $1&quot;\t&quot;$7&#125;&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="94-sed-对数据行进行替换、删除、新增、选取等操作"><a href="#94-sed-对数据行进行替换、删除、新增、选取等操作" class="headerlink" title="94.sed 对数据行进行替换、删除、新增、选取等操作"></a>94.sed 对数据行进行替换、删除、新增、选取等操作</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a   新增，在新的下一行出现</span><br><span class="line">c   取代，取代 n1,n2 之间的行 eg: sed &#x27;1,2c Hi&#x27; ab</span><br><span class="line">d   删除</span><br><span class="line">i   插入，在新的上一行出现</span><br></pre></td></tr></table></figure>

<h2 id="95-paste-合并文件，需确保合并的两文件行数相同"><a href="#95-paste-合并文件，需确保合并的两文件行数相同" class="headerlink" title="95.paste 合并文件，需确保合并的两文件行数相同"></a>95.paste 合并文件，需确保合并的两文件行数相同</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-d  指定不同于空格或tab键的域分隔符</span><br><span class="line">-s  按行合并，单独一个文件为一行</span><br></pre></td></tr></table></figure>

<h2 id="96-su-参数-user-切换登陆"><a href="#96-su-参数-user-切换登陆" class="headerlink" title="96.su [参数] user | 切换登陆"></a>96.su [参数] user | 切换登陆</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l  切换时连同环境变量、工作目录一起改变</span><br><span class="line">-c command  执行command变回原来的使用者</span><br></pre></td></tr></table></figure>

<h2 id="97-sudo-以特定用户的权限执行特定命令"><a href="#97-sudo-以特定用户的权限执行特定命令" class="headerlink" title="97.sudo | 以特定用户的权限执行特定命令"></a>97.sudo | 以特定用户的权限执行特定命令</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l  列出当前用户可执行的命令</span><br><span class="line">-u username#uid 以指定用户执行命令</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>开发</tag>
        <tag>Linux</tag>
        <tag>手册</tag>
      </tags>
  </entry>
  <entry>
    <title>【碎碎念】归途</title>
    <url>/2020/01/2020-1-18/</url>
    <content><![CDATA[<h2 id="归途"><a href="#归途" class="headerlink" title="归途"></a>归途</h2><span id="more"></span>

<p>我从长江上游，不远千里来到武汉。如今，我坐在飞往我家乡的飞机上，回想着我这四个月以来客居他乡的点滴回忆。</p>
<p><strong>武汉</strong>是一个我从来不曾想到，我会在这里上大学的城市。以前，我知道武汉、知道武昌起义、知道汉阳兵工厂，但我又不了解它。甚至它不曾被我列在我高考的目标地点的列表上。那天晚上高考放榜，曾经“一冲上交、二搏浙大、三保川大”的我，彻彻底底拜给了现实，成绩既在意料之外，也在情理之中。考前是我选学校，考后是学校选我，这一点没错。就这样，我恍惚了一周，把高考志愿一事交给了我妈，毕竟，我想去的学校，我都不可能去。最终我阴差阳错就受到了武汉理工大学的录取通知书，又阴差阳错地来到了武汉。从此，我不得不与武汉结缘。</p>
<p>说来也巧，武汉，位于长江的中下游。我从长江上游而来，又到长江中下游，同饮长江水。现在，飞机窗外那蜿蜒曲折的长江水，无疑给了我几分思乡的惆怅。</p>
<p><strong>武汉理工大学</strong>也是我不曾了解的学校，回忆这一学期的校园生活，我觉得，与我的理想大学生活差距很大。看过来自南湖新校区的宣传片，最终又来到余家头校区，这是一点也不<em>“大”</em>的<em>“大学”</em>；看着每天被安排得满满当当的课表，没有许多传说中的丰富有意义的社团活动，这是一点也不<em>“开放”</em>的大学；每天的早自习、晚自习、每科目的作业，这是像极了<em>”高中“</em>的大学；没有合得来的同学，大学室友也没有网络上大家分享的那样有趣，这是一个<em>”奇怪“</em>的大学。</p>
<p>这一学期，我也很幸运：很幸运能加入物流信息宣传中心新媒体部门，也很幸运有机会加入吾理Token这样一个有意思的团队。在这里我学习了很多，收获了很多，结识了很多朋友。这样的经历又让我有了大学的感觉。</p>
<p>回归<strong>旅途</strong>，梦回现实。窗外，透过白云，看到了家乡才会有的冬日阳光，又看见了那条牵系着我的长江。家，我终于又回来啦！远走他乡，才能彻底理解千百年来那种中国人的思乡情，无论我在家乡生活了多久，它还是那么让我着迷。</p>
<p>终于，飞机平稳降落在这个据说是中国最危险的机场跑道之一的PZI机场，我的心似乎一下子从天上又回归家乡的土地。家乡不大，但足够容下我对它深切的爱。千里归乡不过一个时辰，但我在天空中已经完成了向武汉暂时道别，和与家乡相拥这一宏伟仪式。</p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>回家</tag>
        <tag>碎碎念</tag>
      </tags>
  </entry>
  <entry>
    <title>高等数学上册 概念公式笔记</title>
    <url>/2020/01/%E9%AB%98%E7%AD%89%E6%95%B0%E5%AD%A6-%E4%B8%8A/</url>
    <content><![CDATA[<h1 id="高等数学（上）"><a href="#高等数学（上）" class="headerlink" title="高等数学（上）"></a>高等数学（上）</h1><p><em>建议使用大内存高清宽屏设备阅读</em><br>本笔记采用Markdown+$\LaTeX$编写，需要在页面上实时渲染，且文件较大。<br><strong>如果卡顿请<a href="https://url.ryzenx.com/html/Higher-education-math-one.html">&gt;点击这里&lt;</a>浏览已渲染好的页面</strong></p>
<span id="more"></span>
<h2 id="toc"><a href="#toc" class="headerlink" title="[toc]"></a>[toc]</h2><h2 id="一-函数与极限"><a href="#一-函数与极限" class="headerlink" title="一. 函数与极限"></a>一. 函数与极限</h2><h3 id="1-1-集合与函数"><a href="#1-1-集合与函数" class="headerlink" title="1.1 集合与函数"></a>1.1 集合与函数</h3><ol>
<li><p>集合的概念：略</p>
</li>
<li><p>集合的运算：</p>
<ul>
<li>A与B的并集：$A \bigcup B$</li>
<li>A与B的交集：$A \bigcap B$</li>
<li>A与B的差集：$A \setminus B$</li>
<li>记$I$为全集，A的补集或余集：$A^C = I \setminus A = {x \mid x \notin A}$</li>
<li>A与B的直集（笛卡尔乘积）：$A \times B = {(x,y) \mid x \in A \ and \ y \in B}$</li>
</ul>
</li>
<li><p>区间：略</p>
</li>
<li><p>邻域：点$a$的邻域表示所有到点$a$的距离小于正数$\delta$的点的集合，记作：$U(a,\delta)$。即表示为：<br>$$<br>{x \mid \left | x-a \right | &lt; \delta,\delta &gt; 0}<br>$$<br>去心邻域记作：$\mathring U (a,\delta)$</p>
</li>
</ol>
<h4 id="映射与函数"><a href="#映射与函数" class="headerlink" title="映射与函数"></a>映射与函数</h4><ol>
<li>定义1:存在一个对应法则$f$，使得对于集合$X$中的每一个元素$x$，在$Y$中都有唯一的元素$y$与之对应，记作：<br>$$<br>f:X \to Y<br>$$<br>​        X的所有像的集合称为映射$f$的值域，记作$R_f$或$f(X)$，即：<br>$$<br>R_f = {y \mid y = f(x),x \in X}<br>$$</li>
<li>定义2:设数集$D \in \mathbb{R}$，则称映射 为定义在$D$上的函数，简记为：<br>$$<br>y = f(x),x \in D<br>$$</li>
</ol>
<h4 id="函数的特性"><a href="#函数的特性" class="headerlink" title="函数的特性"></a>函数的特性</h4><ol>
<li><p>奇偶性:略</p>
</li>
<li><p>有界性：函数$f(x)$在$X$上有上界：<br>$$<br>\forall x \in X,\exists B_1,f(x) \leq B_1<br>$$<br>​        函数$f(x)$在$X$上有下界：<br>$$<br>\forall x \in X,\exists B_2,f(x) \geq B_2<br>$$<br>​        函数有界：<br>$$<br>\forall x \in X,\exists M,\mid f(x) \mid \leq M<br>$$</p>
</li>
<li><p>单调性:略</p>
</li>
<li><p>周期性:略</p>
</li>
</ol>
<h4 id="反函数"><a href="#反函数" class="headerlink" title="反函数"></a>反函数</h4><ol>
<li><p>定义3:$x$为定义在$R_f$上的函数$y=f(x)$的反函数，记作：<br>$$<br>x = f^{-1}(y)<br>$$<br>​        或称他们互为反函数。</p>
<h4 id="复合函数"><a href="#复合函数" class="headerlink" title="复合函数"></a>复合函数</h4></li>
<li><p>定义4:<br>$$<br>y=f[g(x)],x \in D<br>$$<br>​        常记为：$f \circ g$</p>
<h4 id="初等函数"><a href="#初等函数" class="headerlink" title="初等函数"></a>初等函数</h4></li>
<li><p>幂函数 $y=x^\mu(\mu \in \mathbb{R})$</p>
</li>
<li><p>指数函数 $y=a^x(a&gt;0,a \neq 1)$</p>
</li>
<li><p>对数函数 $y=log_a x(a&gt;0,a \neq 1)$</p>
</li>
<li><p>三角函数 $\sin \theta, \cos \theta, \tan \theta, \cot \theta, \sec \theta, \mathrm{cec} \theta$</p>
</li>
<li><p>反三角函数</p>
</li>
</ol>
<table>
<thead>
<tr>
<th align="center">函数</th>
<th align="center">定义域</th>
<th align="center">值域</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$y=\arcsin x$</td>
<td align="center">$[-1,1]$</td>
<td align="center">$[-\frac{\pi}{2},\frac{\pi}{2}]$</td>
</tr>
<tr>
<td align="center">$y=\arccos x$</td>
<td align="center">$[-1,1]$</td>
<td align="center">$[0,\pi]$</td>
</tr>
<tr>
<td align="center">$y=\arctan x$</td>
<td align="center">$(-\infty,+\infty)$</td>
<td align="center">$(-\frac{\pi}{2},\frac{\pi}{2})$</td>
</tr>
<tr>
<td align="center">$y=\mathrm{arc}\cot x$</td>
<td align="center">$(-\infty,+\infty)$</td>
<td align="center">$(0,\pi)$</td>
</tr>
</tbody></table>
<h3 id="1-2-数列的极限"><a href="#1-2-数列的极限" class="headerlink" title="1.2 数列的极限"></a>1.2 数列的极限</h3><h4 id="数列"><a href="#数列" class="headerlink" title="数列"></a>数列</h4><ol>
<li>数列${x_n}$的子数列${x_{n_k}}$</li>
</ol>
<h4 id="数列的极限"><a href="#数列的极限" class="headerlink" title="数列的极限"></a>数列的极限</h4><ol>
<li><p>数列的取值无限接近一个常数$a$，若$a$存在，则$a$是数列${x_n}$的极限，或称数列${x_n}$收敛于$a$，记作：$\lim\limits_{n \to \infty} {x_n} = a$. 如果$a$不存在，则称数列${x_n}$是发散的。</p>
</li>
<li><p>定义1:设为${x_n}$实数数列，$a$为常数。如果对于$\forall \varepsilon &gt; 0$（不论它多么小），$\exists N \in \mathbb{Z^*}$，使得对于$n &gt; N$时 ，不等式<br>$$<br>\mid x_n - a \mid &lt; \varepsilon<br>$$<br>都成立，则数列${x_n}$收敛于$a$。</p>
</li>
</ol>
<h4 id="数列极限的性质"><a href="#数列极限的性质" class="headerlink" title="数列极限的性质"></a>数列极限的性质</h4><ol>
<li><p>定理1:（极限的唯一性） 数列${x_n}$不能收敛于两个不同的极限。</p>
</li>
<li><p>定理2:（收敛数列的有界性） 如果数列${x_n}$收敛，那么数列${x_n}$一定有界。</p>
</li>
<li><p>定理3:（收敛数列的保号性） 如果$\lim\limits_{n \to \infty}{x_n}=a$，且$a&gt;0 \ (a&lt;0)$，那么存在正整数$N$，使得当$n&gt;N$时，${x_n}&gt;0 \ ({x_n}&lt;0)$</p>
</li>
<li><p>定理4:（收敛数列与其子数列间的关系） 如果数列${x_n}$收敛于$a$，那么它的任一子数列也收敛于$a$。</p>
</li>
</ol>
<h3 id="1-3函数的极限"><a href="#1-3函数的极限" class="headerlink" title="1.3函数的极限"></a>1.3函数的极限</h3><ol>
<li><p>定义1: 函数当自变量趋于有限值时的极限定义：设函数$f(x)$在$\mathring U(x_0,\delta)$有定义，如果$\exists A$，对于给定$\forall \varepsilon &gt; 0$（无论多么小），$\exists \delta &gt; 0$，使得当$x$满足不等式$0 &lt; \mid x-x_0 \mid &lt; \delta$时，对应的函数值$f(x)$都满足不等式<br>$$<br>\mid f(x) - A \mid &lt; \varepsilon<br>$$<br>那么常数$A$就叫做函数$f(x)$当$x \to x_0$时的极限，记为<br>$$<br>\lim\limits_{x \to x_0}{f(x)} = A \ or \ f(x) \to A \ (when \ x \to x_0)<br>$$</p>
<blockquote>
<p>$f(x)$在$x_0$处的极限和$f(x)$在$x_0$处的定义无关，甚至$f(x)$可以没有定义。</p>
</blockquote>
</li>
<li><p>单侧极限:<br>$$<br>\lim\limits_{x \to x_0^-}{f(x)} = A \ \Leftrightarrow \ f(x_0^-) = A<br>$$</p>
</li>
</ol>
<p>$$<br>\lim\limits_{x \to x_0^+}{f(x)} = A \ \Leftrightarrow \ f(x_0^+) = A<br>$$<br>3. 定理1: $\lim\limits_{x \to x_0}{f(x)} = A \Leftrightarrow \lim\limits_{x \to x_0^-}{f(x)} =A \ and \ \lim\limits_{x \to x_0^+}{f(x)} = A$</p>
<ol start="4">
<li>定义3:函数当自变量趋于无限时的极限：设$f(x)$当$\mid x \mid$大于某一正数时有定义，如果$\exists A$，对于$\forall \varepsilon &gt; 0$，$\exists M &gt; 0$，使得当$x$满足不等式$\mid x \mid &gt; M$时，满足<br>$$<br>\mid f(x) -A \mid &lt; \varepsilon<br>$$<br>则常数$A$叫做函数$f(x)$当$x \to \infty$时的极限。</li>
</ol>
<blockquote>
<p>如果有$\lim\limits_{x \to +\infty}{f(x)} = L \ or \ \lim\limits_{x \to -\infty}{f(x)} = L$，则直线$y=L$称为函数$y=f(x)$的图形的<strong>水平渐近线</strong>.</p>
</blockquote>
<h4 id="函数极限的性质"><a href="#函数极限的性质" class="headerlink" title="函数极限的性质"></a>函数极限的性质</h4><ol>
<li><p>定理2:（唯一性） 如果极限$\lim\limits_{x \to x_0}{f(x)}$存在，那么这个极限是惟一的。</p>
</li>
<li><p>定理3:（函数极限的局部有界性） 如果$\lim\limits_{x \to x_0}{f(x)}=A$，那么$\exists \delta &gt; 0,B&gt;0$，使得当$0 &lt; \mid x - x_0 \mid &lt; \delta$时，有$\mid f(x) \mid \leq B$.</p>
</li>
<li><p>定理4:（函数极限的局部保号性） 如果$\lim\limits_{x \to x_0}{f(x)} = A$，而且$A &gt; 0 (or A &lt; 0)$，那么$\exists \delta &gt; 0$，使当$0 &lt; \mid x -x_0 \mid &lt; \delta$时，有$f(x)&gt;0(or \ f(x) &lt; 0)$.</p>
</li>
</ol>
<blockquote>
<p>推论1:如果$\lim\limits_{x \to x_o}{f(x)}=A(A \neq 0)$，那么存在$x_0$的某一去心邻域$\mathring U(x_0)$，当$x \in \mathring U(x_0)$时有$\mid f(x)\mid &gt; \frac{1}{2}\mid A \mid$.</p>
<p>推论2:如果在$x_0$的某一去心邻域内$f(x) \geq 0(or \ f(x) \leq 0)$，而且$\lim\limits_{x \to x_0}{f(x)} = A$，那么$A \geq 0(or \ A \leq 0)$.</p>
</blockquote>
<h3 id="1-4无穷大与无穷小"><a href="#1-4无穷大与无穷小" class="headerlink" title="1.4无穷大与无穷小"></a>1.4无穷大与无穷小</h3><h4 id="无穷小"><a href="#无穷小" class="headerlink" title="无穷小"></a>无穷小</h4><ol>
<li><p>定义1:如果函数$f(x)$当$x \to x_0(or \ x \to \infty)$时以零为极限，则称$f(x)$是当$x \to x_0(or \ x \to \infty)$时的无穷小。</p>
</li>
<li><p>定理1:在自变量$x \to x_0(or \ x \to \infty)$的过程中，函数$f(x)$具有极限$A$的充分必要条件是$f(x)=A+\alpha$，其中$\alpha$是当$x \to x_0(or \ x \to \infty)$的无穷小。</p>
</li>
<li><p>定理2:有限个无穷小的和仍然是无穷小。</p>
</li>
<li><p>定理3:有界函数与无穷小的乘积是无穷小。</p>
</li>
</ol>
<blockquote>
<p>推论1：常数与无穷小的乘积是无穷小</p>
<p>推论2：有限个无穷小的乘积也是无穷小</p>
</blockquote>
<h4 id="无穷大"><a href="#无穷大" class="headerlink" title="无穷大"></a>无穷大</h4><ol>
<li>定义2: 设函数$f(x)$在某个去心邻域内（或当$\mid x \mid$充分大时）有定义，如果对$\forall B(however \ great \ B \ is)$，都存在$\delta &gt; 0(or \ \exists M &gt; 0)$，使得当$0 &lt; \mid x - x_0 \mid &lt; \delta(or \ \mid x \mid &gt; M)$时有<br>$$<br>\mid f(x) \mid &gt;B<br>$$<br>​        成立，则称$f(x)$是当$x \to x_0(or \ x \to \infty)$时的无穷大。<blockquote>
<p>如果函数$f(x)$是无穷大，那么$f(x)$的极限是不存在的。<br>也称“函数的极限是无穷大”</p>
</blockquote>
</li>
</ol>
<h4 id="无穷大与无穷小之间的关系"><a href="#无穷大与无穷小之间的关系" class="headerlink" title="无穷大与无穷小之间的关系"></a>无穷大与无穷小之间的关系</h4><ol>
<li><p>定理4:在自变量的同一变化过程中，如果$f(x)$为无穷大，则$\frac{1}{f(x)}$为无穷小；反之。</p>
</li>
<li><p>定义3:如果函数$f(x)$满足$\lim\limits_{x \to x_0^-}{f(x)}=\infty \ or \ \lim\limits_{x \to x_0^+}{f(x)}=\infty$，则称直线$x=x_0$是函数$f(x)$的图形的一条<strong>铅直渐近线</strong>。</p>
</li>
</ol>
<h3 id="1-5-极限运算法则"><a href="#1-5-极限运算法则" class="headerlink" title="1.5 极限运算法则"></a>1.5 极限运算法则</h3><ol>
<li><p>定理1:如果在自变量同一变化的过程中，$\lim{f(x)}=A,\lim{g(x)}=B$，那么：</p>
<ul>
<li>$\lim{[f(x) \pm g(x)]} = \lim{f(x)} \pm \lim{g(x)} = A \pm B$</li>
<li>$\lim{[f(x) \cdot g(x)]} = \lim{f(x)} \cdot \lim{g(x)} = A \cdot B$</li>
<li>$\lim{\frac{f(x)}{g(x)}} = \frac{\lim{f(x)}}{\lim{g(x)}} = \frac{A}{B}(B \neq 0)$<blockquote>
<p>推论1:如果$\lim{f(x)}$存在，而$c$为常数，则$$\lim{cf(x)} = c\lim{f(x)}$$<br>推论2:如果$\lim{f(x)}$存在，而$n \in \mathbb{Z^*}$，则$$\lim{[f(x)]^n} = [\lim{f(x)}]^n$$</p>
</blockquote>
</li>
</ul>
</li>
<li><p>定理2:设有数列${x_n}$和${y_n}$，如果：<br>$$<br>\lim\limits_{n \to \infty}{x_n} = A,\lim\limits_{n \to \infty}{y_n} = B,<br>$$<br>那么:</p>
<ul>
<li>$\lim\limits_{n \to \infty}{(x_n + y_n)} = A \pm B;$</li>
<li>$\lim\limits_{n \to \infty}{(x_n \cdot y_n)} = A \cdot B$</li>
<li>当$y_n \neq 0(n=1,2,\cdots)$且$B \neq 0$时，$\lim\limits_{n \to \infty}{\frac{x_n}{y_n}}=\frac{A}{B}.$</li>
</ul>
</li>
<li><p>定理3:（复合函数的极限运算法则） 设复合函数$y=f[g(x)]$（有定义）。若$\lim\limits_{x \to x_0}{g(x)} = u_0, \lim\limits_{u \to u_0}{f(u)} = A$，且在$x_0$的某去心邻域内$g(x) \neq u_0$，则<br>$$<br>\lim\limits_{x \to x_0}{f[g(x)]} = \lim\limits_{u \to u_0}{f(u)} = A<br>$$</p>
<h3 id="1-6-极限存在准则-两个重要极限"><a href="#1-6-极限存在准则-两个重要极限" class="headerlink" title="1.6 极限存在准则 两个重要极限"></a>1.6 极限存在准则 两个重要极限</h3><h4 id="夹逼准则"><a href="#夹逼准则" class="headerlink" title="夹逼准则"></a>夹逼准则</h4></li>
<li><p>定理1:如果函数$f(x),g(x),h(x)$满足下列条件：</p>
<ul>
<li><p>在$x_0$的某一去心邻域内，$g(x) \leq f(x) \leq h(x);$</p>
</li>
<li><p>$\lim\limits_{x \to x_0}{g(x)} = A,\lim\limits_{x \to x_0}{h(x)} = A.$</p>
<p>  那么$\lim\limits_{x \to x_0}{f(x)}$存在，且$\lim\limits_{x \to x_0}{f(x)} = A.$</p>
</li>
</ul>
</li>
<li><p>定理2:单调有界函数必有极限。</p>
</li>
</ol>
<h4 id="重要极限"><a href="#重要极限" class="headerlink" title="重要极限"></a>重要极限</h4><ol>
<li><p>$\lim\limits_{x \to 0}{\frac{\sin x}{x}}=1$</p>
</li>
<li><p>$\lim\limits_{x \to \infty}{\left(1+\frac{1}{x}\right)^x} = e$  另一种形式  $\lim\limits_{z \to 0}{(1+z)^\frac{1}{z}} = \lim\limits_{x \to \infty}{(1+\frac{1}{x})^x} = e$</p>
</li>
<li><p>如果$\lim{f(x)} = A,\lim{g(x)} = B$，那么<br>$$<br>\lim{[f(x)]^{g(x)}} = A^B<br>$$</p>
<h3 id="1-7-无穷小的比较"><a href="#1-7-无穷小的比较" class="headerlink" title="1.7 无穷小的比较"></a>1.7 无穷小的比较</h3></li>
<li><p>定义1:设$\alpha,\beta$是自变量在同一变化过程中的无穷小，且$\beta \neq 0,\lim{\frac{\alpha}{\beta}}$也是在同一过程中的极限。</p>
<ul>
<li>如果$\lim{\frac{\alpha}{\beta}} = 0$，则称$\alpha$是比$\beta$高阶的无穷小，记作$\alpha = o(\beta)$；</li>
<li>如果$\lim{\frac{\alpha}{\beta}} = \infty$，则称$\alpha$是比$\beta$低阶的无穷小；</li>
<li>如果$\lim{\frac{\alpha}{\beta}} = c \neq 0$，则称$\alpha$是比$\beta$同阶无穷小；</li>
<li>如果$\lim{\frac{\alpha}{\beta^k}} = c \neq 0,k &gt; 0$，则称$\alpha$是关于$\beta$的$k$阶无穷小；</li>
<li>如果$\lim{\frac{\alpha}{\beta}} = 1$，则称$\alpha$与$\beta$是等价无穷小，记作$\alpha \sim \beta$</li>
</ul>
<ol start="2">
<li>定理1:$\alpha$与$\beta$是等价无穷小的充分必要条件为$\alpha = \beta + o(\beta)$.</li>
</ol>
</li>
<li><p>定理2:若$\alpha \sim \alpha’$，且$\beta \sim \beta’$，则：<br>$$<br>\lim{\frac{\alpha}{\beta}} = \lim{\frac{\alpha^\prime}{\beta^\prime}}.<br>$$</p>
</li>
<li><p>几个等价无穷小： </p>
</li>
</ol>
<ul>
<li>$x \to 0$ </li>
<li>$\sin x \sim x, \tan x \sim x, \arcsin x \sim x, 1-\cos x \sim \frac{1}{2}x^2,\arctan x \sim x, \ln(1+x) \sim x, e^x -1 \sim x, \sqrt[n]{1+x}-1 \sim \frac{1}{n}x.$</li>
</ul>
<h3 id="1-8-函数的连续性"><a href="#1-8-函数的连续性" class="headerlink" title="1.8 函数的连续性"></a>1.8 函数的连续性</h3><h4 id="连续的定义"><a href="#连续的定义" class="headerlink" title="连续的定义"></a>连续的定义</h4><ol>
<li><p>定义1:$\lim\limits_{x \to x_0}{f(x)} = f(x_0)$。包含了三个含义：</p>
<ul>
<li>$y=f(x)$在点$x_0$处有定义；</li>
<li>$y=f(x)$在点$x_0$处极限存在；</li>
<li>$\lim\limits_{x \to x_0}{f(x)} = f(x_0)$ 极限值等于函数值。</li>
</ul>
</li>
<li><p>多项式函数、有理函数在定义域内每一点都是连续的。</p>
</li>
<li><p>定义2:设$y=f(x)$在$\mathring U(x_0)$有定义，若当$\Delta x \to 0$时有$\Delta y \to 0$，<br> $$<br> \lim\limits_{\Delta x \to 0}{y} = 0 \quad or \quad<br> \lim\limits_{\Delta x \to 0}{[f(x_0+\Delta x)-f(x_0)]} = 0<br> $$<br> 就称$f(x)$在点$x_0$处连续。</p>
</li>
</ol>
<blockquote>
<p>对于函数$y=\sin x$在区间$(-\infty,+\infty)$内：</p>
<p>在任意一点$x_0$处有<br>$$<br>0 &lt; \mid sinx-sinx_0 \mid =<br>2 \left | cos\frac{x+x_0}{2} \right | \left | sin\frac{x-x_0}{2} \right |<br>\leq \mid x - x_0 \mid<br>$$</p>
</blockquote>
<ol start="4">
<li>定理1:$y=f(x)$在点$x_0$连续的充分必要条件是$y=f(x)$在点$x_0$既左连续，又右连续。</li>
</ol>
<h4 id="间断点及其分类"><a href="#间断点及其分类" class="headerlink" title="间断点及其分类"></a>间断点及其分类</h4><ol>
<li>第一类间断点：左极限、右极限都存在。<ul>
<li>可去间断点：$e.g:f(x)=\frac{\sin x}{x},x=0;\ \lim\limits_{x \to 0}{\frac{\sin x}{x}} = 1.$</li>
<li>跳跃间断点：$e.g.:f(x) = \begin{cases} x + 1, &amp; x &lt; 1 \ x, &amp; x \geq 1 \end{cases}; \ \lim\limits_{x \to 1^-}{f(x)}=2, \ \lim\limits_{x \to 1}{f(x)=1.}$</li>
</ul>
</li>
<li>第二类间断点：左极限、右极限不都存在（非第一类间断点）。<ul>
<li>无穷间断点：$e.g.:f(x)=\frac{1}{x^2}; \ \lim\limits_{x \to 0}{f(x)}=\infty.$</li>
<li>震荡间断点：$e.g.:f(x)=\sin \frac{1}{x}; \ \lim\limits_{x \to 0}{f(x)} \in [-1,1].$</li>
</ul>
</li>
</ol>
<h4 id="连续函数的运算"><a href="#连续函数的运算" class="headerlink" title="连续函数的运算"></a>连续函数的运算</h4><ol>
<li>定理2:若函数$f(x),g(x)$都在点$x_0$处连续，则函数$f(x) \pm g(x),f(x) \cdot g(x),\frac{f(x)}{g(x)}(g(x_0) \neq 0)$也在$x_0$处连续。</li>
<li>定理3:如果函数$y=f(x)$在某个区间上单调增加（或单调减少）且连续，那么它的<strong>反函数</strong>$x=f^{-1}(y)$也在相应的区间上单调增加（或单调减少）且连续。</li>
<li>定理4:设函数$u=\varphi(x)$在点$x_0$处连续且$\varphi(x)=u_0$，而函数$y=f(u)$在点$u_0$处连续，则复合函数$y=f[\varphi(x)]$在点x_0$处也连续。</li>
<li>基本初等函数在它们的定义区间内都是连续的。</li>
</ol>
<h3 id="1-9-闭区间上连续函数的性质"><a href="#1-9-闭区间上连续函数的性质" class="headerlink" title="1.9 闭区间上连续函数的性质"></a>1.9 闭区间上连续函数的性质</h3><h4 id="有界性与最大值和最小值定理"><a href="#有界性与最大值和最小值定理" class="headerlink" title="有界性与最大值和最小值定理"></a>有界性与最大值和最小值定理</h4><ol>
<li>定理1:（有界性与最大值和最小值定理）  闭区间上的连续函数在该区间上一定存在最大值和最小值。</li>
</ol>
<h4 id="零点定理和介值定理"><a href="#零点定理和介值定理" class="headerlink" title="零点定理和介值定理"></a>零点定理和介值定理</h4><ol>
<li><p>定理2:（零点定理）  设函数$f(x)$在闭区间$[a,b]$上连续且$f(a)$与$f(b)$异号，那么在开区间$(a,b)$内至少有一点$\xi(a&lt;\xi &lt;b)$，使$f(\xi)=0.$</p>
</li>
<li><p>定理3:（介值定理）  设函数$f(x)$在闭区间$[a,b]$上连续，并且在区间端点取不同的函数值$f(a)=A,f(b)=B$，那么对于$A$和$B$之间的任意一个数 ，在开区间$(a,b)$内至少存在一个点$\xi$，使得$f(\xi)=W.$</p>
<blockquote>
<p>推论：在闭区间上连续的函数必能够取到介于最大值$M$与最小值$m$之间的任何值。</p>
</blockquote>
</li>
</ol>
<h3 id="1-9-9-求极限的方法总结："><a href="#1-9-9-求极限的方法总结：" class="headerlink" title="1.9.9 求极限的方法总结："></a>1.9.9 求极限的方法总结：</h3><h4 id="定义法"><a href="#定义法" class="headerlink" title="定义法"></a>定义法</h4><p>$$<br>\lim\limits_{x \to x_0}{f(x)} = A \Leftrightarrow<br>\forall \epsilon &gt; 0 ,\exists \delta &gt; 0, 当0&lt;\mid x-x_0\mid &lt; \delta, 总有\mid f(x) - A \mid &lt; \epsilon<br>$$</p>
<p>$$<br>\lim\limits_{x\to \infty}{f(x)}=A \Leftrightarrow \forall\epsilon&gt;0,\exists X&gt;0<br>当 \mid x \mid &gt;X 时, 总有\mid f(x)-A\mid &lt;\epsilon<br>$$</p>
<h4 id="夹逼定理"><a href="#夹逼定理" class="headerlink" title="夹逼定理"></a>夹逼定理</h4><ol>
<li>设在点$x_0$的某领域内（或$\mid x\mid&gt;M$），有$g(x)\leq f(x)\leq h(x)$，且$\lim g(x)=A,\lim h(x)=A$，那么$\lim f(x)$存在且等于$A$。</li>
<li>单调有界函数必有极限。</li>
</ol>
<h4 id="无穷小量的代换"><a href="#无穷小量的代换" class="headerlink" title="无穷小量的代换"></a>无穷小量的代换</h4><table>
<thead>
<tr>
<th align="center">$\sin x \sim x$</th>
<th align="center">$\tan x \sim x$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\arcsin x \sim x$</td>
<td align="center">$1-\cos x \sim \frac{1}{2}x^2$</td>
</tr>
<tr>
<td align="center">$(1+x)^\lambda -1 \sim \lambda x$</td>
<td align="center">$\arctan x \sim x$</td>
</tr>
<tr>
<td align="center">$\ln(1+x)\sim x$</td>
<td align="center">$e^x -1 \sim x$</td>
</tr>
</tbody></table>
<h4 id="函数的连续"><a href="#函数的连续" class="headerlink" title="函数的连续"></a>函数的连续</h4><p>若函数在$U(x_0)$处连续，则$\lim\limits_{x\to x_0}{f(x)}=f(x_0)$</p>
<h4 id="洛必达法则"><a href="#洛必达法则" class="headerlink" title="洛必达法则"></a>洛必达法则</h4><p>对于$\frac{0}{0}$和$\frac{\infty}{\infty}$未定式使用合适的变换后分子分母求导</p>
<h4 id="泰勒展开"><a href="#泰勒展开" class="headerlink" title="泰勒展开"></a>泰勒展开</h4><hr>
<h2 id="二-导数与微分"><a href="#二-导数与微分" class="headerlink" title="二. 导数与微分"></a>二. 导数与微分</h2><h3 id="2-1-导数的概念"><a href="#2-1-导数的概念" class="headerlink" title="2.1 导数的概念"></a>2.1 导数的概念</h3><h4 id="导数的概念"><a href="#导数的概念" class="headerlink" title="导数的概念"></a>导数的概念</h4><ol>
<li>定义1:略，即：<br>$$<br>F^\prime(x_0) = \lim\limits_{\Delta x \to 0}{\frac{\Delta y}{\Delta x}} = \lim\limits_{\Delta x \to 0}{\frac{f(x_0+\Delta x)-f(x_0)}{\Delta x}}<br>$$<br>​        也可以记作：$y’\vert_{x=x_0}, \ \frac{\mathrm{d}y}{\mathrm{d}x}\vert_{x=x_0},\ \frac{\mathrm{d}f(x)}{\mathrm{d}x}\vert_{x=x_0}$<blockquote>
<p>$y’$记号来自牛顿，$\frac{\mathrm{d}y}{\mathrm{d}x}$记号来自莱布尼兹。</p>
</blockquote>
</li>
</ol>
<h4 id="单侧导数"><a href="#单侧导数" class="headerlink" title="单侧导数"></a>单侧导数</h4><ol>
<li>定义2:设函数$y=f(x)$在$U(x_0)$有定义，左导数：<br>$$<br>f^\prime_{-}(x_0) = \lim\limits_{\Delta x \to 0^{-}}{\frac{f(x_0+\Delta x)-f(x_0)}{\Delta x}}<br>$$<br>​        右导数：<br>$$<br>f^\prime_{+}(x_0) = \lim\limits_{\Delta x \to 0^{+}}{\frac{f(x_0+\Delta x)-f(x_0)}{\Delta x}}<br>$$</li>
<li>函数$f(x)$在点$x_0$处可导的充分必要条件是：左右导数存在且相等。</li>
<li>如果函数$f(x)$在$x_0$处可导，则$f(x)$在$x_0$处连续。</li>
</ol>
<h3 id="2-2导数的运算法则及基本公式"><a href="#2-2导数的运算法则及基本公式" class="headerlink" title="2.2导数的运算法则及基本公式"></a>2.2导数的运算法则及基本公式</h3><h4 id="导数的运算法则"><a href="#导数的运算法则" class="headerlink" title="导数的运算法则"></a>导数的运算法则</h4><ol>
<li><p>定理1:如果函数$u=u(x)$及$v=v(x)$都在点$x$处可导，那么：</p>
<ul>
<li>$[u(x) \pm v(x)]’ = u’(x) \pm v’(x);$</li>
<li>$[u(x) v(x)]’ = u’(x)v(x)+u(x)v’(x);$</li>
<li>$\left[\frac{u(x)}{v(x)} \right]’ = \frac{u’(x)v(x)-u(x)v’(x)}{v^2(x)}(v(x) \neq 0).$</li>
</ul>
</li>
<li><p>定理2:如果函数$x=f(y)$在区间$I_y$内单调、可导且$f’(y)\neq 0$，则它的反函数$y=f^{-1}(x)$在区间$I_x={x\mid x=f(y),y \in I_y}$内也可导，且<br>$$<br>[f^{-1}(x)]^\prime = \frac{1}{f^\prime(y)}<br>$$</p>
<blockquote>
<p>反函数的导数等于直接函数导数的倒数。</p>
</blockquote>
</li>
<li><p>定理3:（复合函数的求导）略</p>
</li>
</ol>
<h4 id="运算公式"><a href="#运算公式" class="headerlink" title="运算公式"></a>运算公式</h4><ol>
<li><p>导数公式：</p>
<table>
<thead>
<tr>
<th align="left">L1</th>
<th align="left">L2</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$C’=0;$</td>
<td align="left">$(x^\mu)’ = \mu x^{\mu -1};$</td>
</tr>
<tr>
<td align="left">$(\sin x)’=\cos x;$</td>
<td align="left">$(\cos x)’=-\sin x;$</td>
</tr>
<tr>
<td align="left">$(\tan x)’=\sec ^2x$</td>
<td align="left">$(\cot x)’=-\csc^2x$</td>
</tr>
<tr>
<td align="left">$(\sec x)’ = \sec x\tan x$</td>
<td align="left">$(\csc x)’=-\csc x\cot x$</td>
</tr>
<tr>
<td align="left">$(a^x)’=a^x\ln a$</td>
<td align="left">$(e^x)’=e^x$</td>
</tr>
<tr>
<td align="left">$(\log_a x)’=\frac{1}{x\ln a}$</td>
<td align="left">$(\ln x)’=\frac{1}{x}$</td>
</tr>
<tr>
<td align="left">$(\arcsin x)’=\frac{1}{\sqrt{1-x^2}}$</td>
<td align="left">$(\arccos x)’=-\frac{1}{\sqrt{1-x^2}}$</td>
</tr>
<tr>
<td align="left">$(\arctan x)’=\frac{1}{1+x^2}$</td>
<td align="left">$(\mathrm{arc}\cot x)’=-\frac{1}{1+x^2}$</td>
</tr>
<tr>
<td align="left">$(u \pm v)’ = u’\pm v’$</td>
<td align="left">$(Cu)’ = Cu’$</td>
</tr>
<tr>
<td align="left">$(uv)’ = u’ v+uv’$</td>
<td align="left">$\left(\frac{u}{v}\right)’=\frac{u’ v-uv’}{v^2}$</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="2-3高阶导数"><a href="#2-3高阶导数" class="headerlink" title="2.3高阶导数"></a>2.3高阶导数</h3><ol>
<li>定义1:设函数$y=f(x)$的导函数在点$x$处可导，就称$y=f(x)$在点$x$处二阶可导，此导数称为二阶导数，记作$y^{“},f^{“}(x)$即：<br>$$<br>f^{\prime\prime}(x)=[f^\prime(x)]^\prime, \ \frac{\mathrm{d^2}y}{\mathrm{d}x^2}=\frac{\mathrm{d}}{\mathrm{d}x}\left(\frac{\mathrm{d}y}{\mathrm{d}x}\right)<br>$$<h4 id="常见高阶导数公式"><a href="#常见高阶导数公式" class="headerlink" title="常见高阶导数公式"></a>常见高阶导数公式</h4></li>
</ol>
<ul>
<li>$(e^{kx})^{(n)}=k^ne^{kx}$</li>
<li>$(x^\mu)^{(n)}=\mu(\mu-1)(\mu-2)\cdots(\mu-n+1)x^{\mu-n}$</li>
<li>$(\sin x)^{(n)}=\sin (x+n\cdot\frac{\pi}{2})$</li>
<li>$(\cos x)^{(n)}=\cos (x+n\cdot\frac{\pi}{2})$</li>
<li>$[\ln(x+1)]^{(n)}=(-1)^{n-1} \frac{(n-1)!}{(x+1)^n}$</li>
<li>$(uv)^{(n)}=\sum\limits_{k=0}^{n}C_n^ku^{(n-k)}v^{(k)}$</li>
</ul>
<h3 id="2-4隐函数与参数方程导数"><a href="#2-4隐函数与参数方程导数" class="headerlink" title="2.4隐函数与参数方程导数"></a>2.4隐函数与参数方程导数</h3><h4 id="隐函数求导"><a href="#隐函数求导" class="headerlink" title="隐函数求导"></a>隐函数求导</h4><ol>
<li>隐函数求导的基本方法：把方程$F(x,y)=0$中的$y$看作是$x$的函数，方程两端同时对$x$求导，然后解出$\frac{\mathrm{d}x}{\mathrm{d}y}.$</li>
<li>对数求导法：$e.g.:y=\sqrt{\frac{(x-1)(x-2)}{(x-3)(x-4)}}.$两边取对数:<br>$$<br>\ln y=\frac{1}{2}(\ln \mid x-1\mid + \ln \mid x-2 \mid-\ln \mid x-3 \mid-\ln \mid x-4 \mid)<br>$$<br>​        可以证明：$(\ln\mid x\mid)’=\frac{1}{x}$<h4 id="参数方程求导"><a href="#参数方程求导" class="headerlink" title="参数方程求导"></a>参数方程求导</h4></li>
</ol>
<p>$$<br>\frac{\mathrm{d}y}{\mathrm{d}x}=\frac{\mathrm{d}y}{\mathrm{d}t}\cdot\frac{\mathrm{d}t}{\mathrm{d}x}=\frac{\frac{\mathrm{d}y}{\mathrm{d}t}}{\frac{\mathrm{d}x}{\mathrm{d}t}}<br>$$</p>
<h3 id="2-5相关变化率"><a href="#2-5相关变化率" class="headerlink" title="2.5相关变化率"></a>2.5相关变化率</h3><h4 id="两个变量都与另一个变量相关"><a href="#两个变量都与另一个变量相关" class="headerlink" title="两个变量都与另一个变量相关"></a>两个变量都与另一个变量相关</h4><ol>
<li>例：当金属圆盘在炉中加热时，圆盘半径$r$会随时间$t$增大，圆盘的面积$S$也会随着时间$t$增大，有：$S=\pi r^2$，方程两边同时对$t$求导，有：<br>$$<br>\frac{\mathrm{d}S}{\mathrm{d}t} = 2\pi r\frac{\mathrm{d}r}{\mathrm{d}t}<br>$$<br>上式$\frac{\mathrm{d}S}{\mathrm{d}t}$与$\frac{\mathrm{d}r}{\mathrm{d}t}$就是互相关联的变化率。</li>
</ol>
<h3 id="2-6-微分"><a href="#2-6-微分" class="headerlink" title="2.6 微分"></a>2.6 微分</h3><h4 id="微分的定义"><a href="#微分的定义" class="headerlink" title="微分的定义"></a>微分的定义</h4><ol>
<li><p>微分的定义：定义1:设函数$y=f(x)$在某区间有定义，$x_0$及$x_0+\Delta x$在这区间内，如果函数的增量$\Delta y=f(x_0+\Delta x)-f(x)$可表示为：<br>$$<br>\Delta y=A\Delta x+o(\Delta x),<br>$$<br>就称函数$y=f(x)$在点$x_0$处是<strong>可微的</strong>，并称$A\Delta x$为函数$y=f(x)$在点$x_0$的<strong>微分</strong>，记作$\mathrm{d}y$，即：<br>$$<br>\mathrm{d}y=A\Delta x<br>$$</p>
</li>
<li><p>定理1:函数$f(x)$在点$x_0$可微的充分必要条件是函数$f(x)$在点$x_0$可导，且此时$\mathrm{d}y=f’ (x_0)\Delta x.$</p>
</li>
<li><p>函数的导数等于函数的微分$\mathrm{d}y$与自变量$\mathrm{d}x$的商：$\frac{\mathrm{d}y}{\mathrm{d}x}=f’(x).$因此，导数又称微商。</p>
</li>
<li><p>微分的基本公式和运算法则：略</p>
</li>
</ol>
<h4 id="复合函数的微分"><a href="#复合函数的微分" class="headerlink" title="复合函数的微分"></a>复合函数的微分</h4><ol>
<li><p>复合函数的微分法则：无论$u$是自变量还是中间变量，微分形式$\mathrm{d}y=f’(u)\mathrm{d}u$保持不变。这一性质叫做<strong>微分形式不变性</strong>。例：$y=\sin(2x+1),\mathrm{d}y=?$ </p>
<p>$\ \mathrm{let} \ u=2x+1;\ \mathrm{d}y=\mathrm{d}(\sin u)=\cos u\mathrm{d}u=\cos(2x+1)\mathrm{d}(2x+1) \ =\cos(2x+1)\cdot 2\mathrm{d}x=2\cos(2x+1)\mathrm{d}x$</p>
</li>
<li><p>误差估计：<br>$$<br>\mid x-x_0\mid \leq \delta_x<br>$$<br>称$\delta_x$为$x$的<strong>绝对误差限</strong>，而称$\frac{\delta_x}{\mid x_0\mid}$为$x$的<strong>相对误差限</strong>。</p>
</li>
</ol>
<hr>
<h2 id="三-中值定理与导数的应用"><a href="#三-中值定理与导数的应用" class="headerlink" title="三. 中值定理与导数的应用"></a>三. 中值定理与导数的应用</h2><h3 id="3-1-中值定理"><a href="#3-1-中值定理" class="headerlink" title="3.1 中值定理"></a>3.1 中值定理</h3><h4 id="罗尔定理"><a href="#罗尔定理" class="headerlink" title="罗尔定理"></a>罗尔定理</h4><ol>
<li><p>费马引理:设函数$f(x)$在点$x_0$的某领域$U(x_0)$内有定义，并且在$x_0$处可导，如果对任意$x\in U(x_0)$，有$f(x)\leq f(x_0) \ or \ f(x)\geq f(x_0)$那么$f’(x_0)=0.$</p>
</li>
<li><p>定理1:（罗尔定理）  如果函数$f(x)$满足：</p>
<p>(1) 在闭区间$[a, b]$上连续；</p>
<p>(2) 在开区间$(a, b)$内可导；</p>
<p>(3) 在区间端点处的函数值相等，即$f(a)=f(b).$</p>
<p>那么在$(a, b)$内至少存在一点$\xi(a&lt;\xi &lt;b)$，使得函数$f(x)$在该点的导数等于零，即$f’(\xi)=0.$</p>
</li>
</ol>
<h4 id="拉格朗日中值定理"><a href="#拉格朗日中值定理" class="headerlink" title="拉格朗日中值定理"></a>拉格朗日中值定理</h4><ol>
<li><p>定理2:（拉格朗日中值定理）  如果函数$f(x)$满足：</p>
<p>(1) 在闭区间$[a, b]$上连续；</p>
<p>(2) 在开区间$(a, b)$内可导；</p>
<p>那么在$(a, b)$内至少存在一点$\xi(a&lt;\xi&lt;b)$，使得：<br>$$<br>f(b)-f(a)=f^\prime(b-a)<br>$$<br>即<strong>拉格朗日中值公式（有限增量定理）</strong></p>
</li>
<li><p>有限增量公式：$\Delta y=f’(x+\theta\Delta x)\cdot \Delta x \ (0&lt;\theta&lt;1)$。</p>
</li>
</ol>
<h4 id="柯西中值定理"><a href="#柯西中值定理" class="headerlink" title="柯西中值定理"></a>柯西中值定理</h4><ol>
<li><p>定理3:（柯西中值定理）  如果函数$f(x)$及$F(x)$满足：</p>
<p>(1) 在闭区间$[a, b]$上连续；</p>
<p>(2) 在开区间$(a, b)$内可导；</p>
<p>(3) 在$(a, b)$内每一点处$F’(x)\neq 0.$</p>
<p>则在$(a, b)$内至少存在一点$\xi(a&lt;\xi&lt;b)$，使得<br>$$<br>\frac{f(b)-f(a)}{F(b)-F(a)}=\frac{f^\prime(\xi)}{F^\prime(\xi)}<br>$$</p>
</li>
</ol>
<h3 id="3-2-洛必达法则"><a href="#3-2-洛必达法则" class="headerlink" title="3.2 洛必达法则"></a>3.2 洛必达法则</h3><h4 id="未定式"><a href="#未定式" class="headerlink" title="未定式"></a>未定式</h4><ol>
<li>定义：如果当$x\to a(x \to \infty)$时，两个函数$f(x) | F(x)$都趋于零或都趋于无穷大，那么极限$\lim\limits_{x\to a(\infty)}{\frac{f(x)}{F(x)}}$可能存在或不存在。</li>
</ol>
<h4 id="洛必达法则-1"><a href="#洛必达法则-1" class="headerlink" title="洛必达法则"></a>洛必达法则</h4><ol>
<li><p>定理1:如果函数$f(x) | F(x)$满足如下条件：</p>
<p>(1) 当$x \to a$时，函数$f(x)$及$F(x)$都趋于零；</p>
<p>(2) 在点$a$的去心领域内$f(x)|F(x)$可导，且$F’(x)\neq 0$；</p>
<p>(3) $\lim\limits_{x \to a}{\frac{f’(x)}{F’(x)}}$存在（或为无穷大）。</p>
<p>那么<br>$$<br>\lim\limits_{x \to a}{\frac{f(x)}{F(x)}}=\lim\limits_{x \to a}{\frac{f^\prime(x)}{F^\prime(x)}}.<br>$$</p>
</li>
<li><p>注意：在运用洛必达法则求极限时，最好与其他方法结合使用（等价无穷小替换）</p>
</li>
<li><p>定理2:如果函数$f(x) | F(x)$满足如下条件：</p>
<p>(1) 当$x \to \infty$时，函数$f(x)$及$F(X)$都趋于零；</p>
<p>(2) 当$\mid x \mid&gt;N$时，$f’(x)$及$F’(x)$都存在且$F’(x)\neq 0$；</p>
<p>(3) $\lim\limits_{x \to a}{\frac{f’(x)}{F’(x)}}$存在（或为无穷大）。</p>
<p>那么<br>$$<br>\lim\limits_{x \to \infty}{\frac{f(x)}{F(x)}}=\lim\limits_{x \to \infty}{\frac{f^\prime(x)}{F^\prime(x)}}.<br>$$</p>
</li>
</ol>
<h4 id="其他形式的未定式"><a href="#其他形式的未定式" class="headerlink" title="其他形式的未定式"></a>其他形式的未定式</h4><ol>
<li>$0\cdot\infty$：$e.g.:\lim\limits_{x\to0^+}{\sqrt{x}\ln x}=\lim\limits_{x\to 0^+}{\frac{\ln x}{\frac{1}{\sqrt{x}}}} \ =\lim\limits_{x \to 0^+}{\frac{\frac{1}{x}}{-\frac{1}{2}x^{-\frac{3}{2}}}}=\lim\limits_{x\to 0^+}{(-2\sqrt{x})}=0$</li>
<li>$\infty-\infty$：$e.g.\lim\limits_{x\to 0}{\left(\frac{1}{\sin x}-\frac{1}{x}\right)}=\lim\limits_{x\to 0}{\frac{x-\sin x}{x\sin x}} \ =\lim\limits_{x\to 0}{\frac{\sin x}{2\cos x-x\sin x}}=0$</li>
<li>$0^0$：$e.g.\lim\limits_{x\to 0^+}{x^x}=\lim\limits_{x\to 0^+}{e^{x\ln x}}=e^{\lim\limits_{x\to 0^+}{x\ln x}}=e^0=1$</li>
</ol>
<blockquote>
<p>当$\lim{\frac{f’(x)}{F’(x)}}$不存在时，$\lim{\frac{f(x)}{F(x)}}$仍可能存在。</p>
</blockquote>
<h3 id="3-3-泰勒公式"><a href="#3-3-泰勒公式" class="headerlink" title="3.3 泰勒公式"></a>3.3 泰勒公式</h3><h4 id="问题的提出"><a href="#问题的提出" class="headerlink" title="问题的提出"></a>问题的提出</h4><ol>
<li>用高次多项式来近似表示函数</li>
<li>用$a_0, a_1, a_2, a_3, a_4 \dots a_n$系数来近似函数的$n$阶导数。</li>
</ol>
<h4 id="泰勒中值定理"><a href="#泰勒中值定理" class="headerlink" title="泰勒中值定理"></a>泰勒中值定理</h4><ol>
<li><p>定理（泰勒中值定理）  如果函数$f(x)$在含有$x_0$的某个开区间$(a, b)$内具有直到$n+1$阶导数，则对任一$x \in (a, b)$，有：<br>$$<br>P(x)=f(x_0)+f^\prime(x_0)\frac{(x-x_0)^1}{1!}+f^{\prime\prime}(x_0)\frac{(x-x_0)^2}{2!}+\cdots+f^{(n)}(x_0)\frac{(x-x_0)^n}{n!}+R_n (x)<br>$$<br>其中,<br>$$<br>R_n(x)=f^{(n+1)}(\xi)\frac{(x-x_0)^{n+1}}{(n+1)!} \ , \ \xi \in (x, x_0)<br>$$</p>
</li>
<li><p>余项的表示：</p>
<ul>
<li><strong>拉格朗日型余项</strong>：$R_n(x)=f^{(n+1)}(\xi)\frac{(x-x_0)^{n+1}}{(n+1)!} \ , \ \xi \in (x, x_0)$</li>
<li><strong>佩亚诺型余项</strong>：$R_n(x)=o((x-x_0)^n)$</li>
</ul>
</li>
<li><p>麦克劳林公式：<br>$$<br>f(x)=f(x_0)+f^\prime(0)\frac{x^1}{1!}+f^{\prime\prime}(0)\frac{x^2}{2!}+\cdots+f^{(n)}(0)\frac{x^n}{n!}+f^{(n+1)}(\theta x)\frac{x^{n+1}}{(n+1)!}<br>$$</p>
</li>
</ol>
<h3 id="3-4-函数的单调性与曲线的凹凸性"><a href="#3-4-函数的单调性与曲线的凹凸性" class="headerlink" title="3.4 函数的单调性与曲线的凹凸性"></a>3.4 函数的单调性与曲线的凹凸性</h3><h4 id="函数的单调性"><a href="#函数的单调性" class="headerlink" title="函数的单调性"></a>函数的单调性</h4><ol>
<li>定理1：略</li>
</ol>
<h4 id="曲线的凹凸性与拐点"><a href="#曲线的凹凸性与拐点" class="headerlink" title="曲线的凹凸性与拐点"></a>曲线的凹凸性与拐点</h4><ol>
<li><p>定义1: 设函数$f(x)$在区间$I$上连续，如果对$I$上任意两点$x_1, x_2$恒有：</p>
<ul>
<li>$f\left(\frac{x_1+x_2}{2}\right)&lt;\frac{f(x_1)+f(x_2)}{2},$则图形是凹的（凹弧）</li>
<li>$f\left(\frac{x_1+x_2}{2}\right)&gt;\frac{f(x_1)+f(x_2)}{2},$则图形是凸的（凸弧）</li>
</ul>
</li>
<li><p>定理2:设$f(x)$在$[a, b]$上连续，在$(a, b)$内具有一阶和二阶导数，那么在$(a, b)$内：</p>
<ul>
<li>$f^”(x)&gt;0$则图形在$[a, b]$上是凹的</li>
<li>$f^”(x)&lt;0$则图形在$[a, b]$上是凸的</li>
</ul>
</li>
<li><p>拐点：$f^{“}(x)$符号发生变化的分界点。具有二阶导数时$f^{“}(x)=0$也可能$f^{“}(x)$不存在的点。</p>
</li>
</ol>
<h3 id="3-5-函数的极值与最值"><a href="#3-5-函数的极值与最值" class="headerlink" title="3.5 函数的极值与最值"></a>3.5 函数的极值与最值</h3><h4 id="函数的极值及其求法"><a href="#函数的极值及其求法" class="headerlink" title="函数的极值及其求法"></a>函数的极值及其求法</h4><ol>
<li>定义：设函数$f(x)$在$(a, b)$内有定义，$x_0 \in (a, b)$，若存在邻域$\mathring U(x_0, \delta)$，当$x \in \mathring U(x_0, \delta)$时总有$f(x)&lt;f(x_0) \ or \ f(x0 &gt; f(x_0)$，则称$f(x_0)$是$f(x)$的一个极大值或极小值。极大值和极小值称为极值，使函数取得极值的点称为极值点。</li>
<li>极值的必要条件：若函数$f(x)$在$x_0$处可导</li>
</ol>
<h3 id="3-6-函数图形的描绘"><a href="#3-6-函数图形的描绘" class="headerlink" title="3.6 函数图形的描绘"></a>3.6 函数图形的描绘</h3><h3 id="3-7-曲率"><a href="#3-7-曲率" class="headerlink" title="3.7 曲率"></a>3.7 曲率</h3><hr>
<h2 id="四-不定积分"><a href="#四-不定积分" class="headerlink" title="四. 不定积分"></a>四. 不定积分</h2><h3 id="4-1-不定积分的概念与性质"><a href="#4-1-不定积分的概念与性质" class="headerlink" title="4.1 不定积分的概念与性质"></a>4.1 不定积分的概念与性质</h3><h4 id="不定积分的概念"><a href="#不定积分的概念" class="headerlink" title="不定积分的概念"></a>不定积分的概念</h4><ol>
<li>原函数的概念：若$F’(x)=f(x),x \in I$，则称$F(x)$是$f(x)$在区间$I$上的原函数。</li>
<li>区间$I$上$f(x)$的原函数的全体，称为$f(x)$的不定积分，记为$\int f(x)\mathrm{d}t$</li>
</ol>
<h4 id="不定积分的性质"><a href="#不定积分的性质" class="headerlink" title="不定积分的性质"></a>不定积分的性质</h4><ol>
<li><p>线性性质：<br>$$<br>\displaystyle{\int}\sum\limits_{i=1}^{n}[k_if_i(x)]\mathrm{d}x = \sum\limits_{i=1}^{n}k_i\displaystyle{\int}f_i(x)\mathrm{d}x<br>$$</p>
</li>
<li><p>积分形式的不变性：设$u=u(x)$是$x$的任一可微函数，<br>$$<br>\displaystyle{\int}f(x)\mathrm{d}x = F(x)+c \Leftrightarrow<br>\displaystyle{\int}f(u)\mathrm{d}u = F(u)+c<br>$$</p>
</li>
<li><p>求导与积分运算的关系：</p>
<ol>
<li><p>先积分后微分，两者互相抵消<br>$$<br>\mathrm{d}\int f(x)\mathrm{d}x=f(x)\mathrm{d}x \ or \<br>[\int f(x)\mathrm{d}x]’=f(x)<br>$$</p>
</li>
<li><p>先微分后积分，相互抵消后相差一个常数<br>$$<br>\int\mathrm{d}F(x)=F(x)+c \ or \<br>\int F’(x)\mathrm{d}x=F(X)+c<br>$$</p>
</li>
</ol>
</li>
<li><p>原函数存在的充分条件：若$f(x)$在区间$I$上连续，则$f(x)$在$I$上存在原函数，即$f(x)$在$I$上可积。</p>
</li>
</ol>
<h3 id="4-2-换元积分法"><a href="#4-2-换元积分法" class="headerlink" title="4.2 换元积分法"></a>4.2 换元积分法</h3><h4 id="第一类换元法（凑微分法）"><a href="#第一类换元法（凑微分法）" class="headerlink" title="第一类换元法（凑微分法）"></a>第一类换元法（凑微分法）</h4><ol>
<li>公式：</li>
</ol>
<p>$$<br>\displaystyle{\int}f(x)\mathrm{d}x \quad(f(x)=g[\varphi(x)]\varphi’(x)) = \<br>\displaystyle{\int}g[\varphi(x)]\varphi’(x)\mathrm{d}x \quad(let\quad u = \varphi(x))\quad = \quad\displaystyle{\int}g(u)\mathrm{d}u<br>$$</p>
<ol start="2">
<li>常见形式：<ol>
<li>$\frac{1}{x}\mathrm{d}x=\mathrm{d}\ln x$</li>
<li>$e^x\mathrm{d}x = \mathrm{d}e^x$</li>
<li>$\cos x\mathrm{d}x = \mathrm{d}\sin x$</li>
<li>$x^n\mathrm{d}x = \frac{1}{n+1}\mathrm{d}x^{n+1}$</li>
</ol>
</li>
</ol>
<h4 id="第二类换元法"><a href="#第二类换元法" class="headerlink" title="第二类换元法"></a>第二类换元法</h4><ol>
<li>公式</li>
</ol>
<p>$$<br>\displaystyle{\int}f(x)\mathrm{d}x \qquad(let \quad x=\varphi(x))\quad = \displaystyle{\int}f[\varphi(u)]\varphi’(u) = \int g(u)\mathrm{d}u<br>$$</p>
<ol start="2">
<li><p>方法：</p>
<ol>
<li><p>根式代换</p>
<p>形如$\displaystyle{\int} R(x, \sqrt[n]{ax+b})\mathrm{d}x$的积分，可令$\sqrt[n]{ax+b}=t$.</p>
<p>形如$\displaystyle{\int}R\left(x, \sqrt[n]{\frac{ax+b}{cx+d}}\right)\mathrm{d}x$的积分，可令$\sqrt[n]{\frac{ax+b}{cx+d}}=t$.</p>
</li>
<li><p>三角代换</p>
<p>被积函数含有$\sqrt{a^2-x^2} \quad \sqrt{a^2+x^2} \quad\sqrt{x^2-a^2}$等二次因子，可作三角代换</p>
<p>$\sqrt{a^2-x^2} \Rightarrow x=a\sin t \Rightarrow a\cos t$</p>
<p>$\sqrt{a^2+x^2} \Rightarrow x=a\tan t \Rightarrow a\sec t$</p>
<p>$\sqrt{x^2-a^2} \Rightarrow x=a\sec t \Rightarrow a\tan t$</p>
</li>
<li><p>倒代换</p>
<p>用于消去被积函数分母前的变量因子$x^k\quad (k \in \mathbb{N})$</p>
<p>常见形式：$\displaystyle{\int}\frac{p_n(x)}{x^k\sqrt{ax^2-bx+c}}\mathrm{d}x\quad a\neq 0,k \in \mathrm{N},p_n(x)$为$n$次多项式，且$n&lt;k$，则可令$x=\frac{1}{t}$而消去因子$x^k$.</p>
</li>
</ol>
</li>
</ol>
<h3 id="4-3-分部积分法"><a href="#4-3-分部积分法" class="headerlink" title="4.3 分部积分法"></a>4.3 分部积分法</h3><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p>设$u=u(x),v=v(x)$可导，则：<br>$$<br>\int u\mathrm{d}v = uv-\int v\mathrm{d}u<br>$$</p>
<h4 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h4><p>​    要求$v$的积分比$u$的积分容易求出。</p>
<h4 id="常见类型"><a href="#常见类型" class="headerlink" title="常见类型"></a>常见类型</h4><ol>
<li>降次型</li>
<li>转换型</li>
<li>循环型</li>
<li>递推型</li>
<li>抵消型</li>
</ol>
<h3 id="4-4-有理函数的积分"><a href="#4-4-有理函数的积分" class="headerlink" title="4.4 有理函数的积分"></a>4.4 有理函数的积分</h3><h4 id="有理函数积分一般步骤"><a href="#有理函数积分一般步骤" class="headerlink" title="有理函数积分一般步骤"></a>有理函数积分一般步骤</h4><ol>
<li>将有理假分式用多项式除法或凑项法化为整式与真分式之和。</li>
<li>用比较系数法或赋值法确定真分式中的待定系数。</li>
<li>求出整式及各部分分式的积分。</li>
</ol>
<h4 id="三角有理式的积分"><a href="#三角有理式的积分" class="headerlink" title="三角有理式的积分"></a>三角有理式的积分</h4><p>​    一般地。对于$\displaystyle{\int}\frac{a\sin x+b\cos x}{a_1\sin x+b_1\cos x}\mathrm{d}x$可设$a\sin x +b\sin x = A(a_1\sin x+b_1 \cos x)+B(a_1\sin x+b_1\cos x)’$用待定系数法求出$A, B$然后裂项积分。</p>
<h3 id="4-5-积分表的应用"><a href="#4-5-积分表的应用" class="headerlink" title="4.5 积分表的应用"></a>4.5 积分表的应用</h3><p>略</p>
<h2 id="五-定积分"><a href="#五-定积分" class="headerlink" title="五. 定积分"></a>五. 定积分</h2><h3 id="5-1-定积分的概念与性质"><a href="#5-1-定积分的概念与性质" class="headerlink" title="5.1 定积分的概念与性质"></a>5.1 定积分的概念与性质</h3><h4 id="定积分问题举例"><a href="#定积分问题举例" class="headerlink" title="定积分问题举例"></a>定积分问题举例</h4><ol>
<li><p>曲边梯形的面积</p>
<p> $A=\lim\limits_{\lambda \to 0}{\sum\limits_{i=1}^n}f(\xi_i)\Delta x_i$</p>
</li>
<li><p>变速曲线运动的路程</p>
<p> $s=\lim\limits_{\lambda \to 0}{\sum\limits_{i=i}^n}v(\tau_i)\Delta t_i$</p>
</li>
</ol>
<h4 id="定积分的定义"><a href="#定积分的定义" class="headerlink" title="定积分的定义"></a>定积分的定义</h4><p>和（$S=\sum\limits_{i=1}^nf(\xi_i)\Delta x_i$）的极限为函数$f(x)$在区间$[a, b]$上的定积分（简称积分），记作$\displaystyle\int_a^bf(x)\mathrm{d}x$，即：<br>$$<br>\displaystyle\int_a^bf(x)\mathrm{d}x=I=<br>\lim\limits_{\lambda\to0}\sum\limits_{i=1}^n f(\xi_i)\Delta x_i<br>$$<br>​        其中$f(x)$叫做<strong>被积函数</strong>，$f(x)\mathrm{d}x$叫做<strong>被积表达式</strong>，$x$叫做<strong>积分变量</strong>，$a$叫做<strong>积分下限</strong>，$b$叫做<strong>积分上限</strong>，$[a, b]$叫做<strong>积分区间</strong>。</p>
<blockquote>
<p>定积分的值只与被积函数及积分区间有关，而与积分变量的记法无关。</p>
</blockquote>
<ol>
<li>定理1：设$f(x)$在区间$[a, b]$上连续，则$f(x)$在$[a, b]$上可积。</li>
<li>定理2：设$f(x)$在区间$[a ,b]$ 上有界，且只有有限个间断点。则$f(x)$在$[a, b]$上可积。</li>
</ol>
<h4 id="定积分的近似计算"><a href="#定积分的近似计算" class="headerlink" title="定积分的近似计算"></a>定积分的近似计算</h4><p>略</p>
<h4 id="定积分的性质"><a href="#定积分的性质" class="headerlink" title="定积分的性质"></a>定积分的性质</h4><ol>
<li><p>设$\alpha$与$\beta$为常数,则<br>$$<br>\displaystyle\int_a^b[\alpha f(x)+\beta g(x)]\mathrm{d}x =<br>\alpha \int_a^b f(x)\mathrm{d}x+\beta\int_a^b g(x)\mathrm{d}x<br>$$</p>
</li>
<li><p>设$a&lt;c&lt;b$，则：<br>$$<br>\displaystyle\int_a^b f(x)\mathrm{d}x =<br>\int_a^c f(x)\mathrm{d}x+\int_c^b f(x)\mathrm{d}x<br>$$</p>
</li>
<li><p>如果在区间$[a, b]$上$f(x)\equiv 1$，那么<br>$$<br>\displaystyle\int_a^b 1\mathrm{d}x =<br>\int_a^b \mathrm{d}x = b - a<br>$$</p>
</li>
<li><p>如果在区间$[a, b]$上$f(x)\geq 0$，那么<br>$$<br>\displaystyle\int_a^b f(x)\mathrm{d}x \geq 0 \quad (a&lt;b)<br>$$</p>
</li>
<li><p>推论1：如果在区间$[a, b]$上$f(x)\leq g(x)$，那么<br>$$<br>\displaystyle\int_a^b f(x)\mathrm{d}x \leq \int_a^b g(x)\mathrm{d}x<br>\quad (a&lt;b)<br>$$</p>
</li>
<li><p>推论2：$\left|\displaystyle\int_a^b f(x)\mathrm{d}x\right| \leq \displaystyle\int_a^b \mid f(x)\mid\mathrm{d}x \quad (a&lt;b)$</p>
</li>
<li><p>设$M$及$m$分别是函数$f(x)$在区间$[a, b]$上的最大值及最小值，则<br>$$<br>m(b-a)\leq \displaystyle\int_a^b f(x)\mathrm{d}x\leq M(b-a)<br>$$</p>
</li>
<li><p>（定积分中值定理） 如果函数$f(x)$在积分区间$[a, b]$上连续，那么在$[a, b]$上至少存在一个点$\xi$，使得：<br>$$<br>\displaystyle\int_a^b f(x)\mathrm{d}x=f(\xi)(b-a) \quad (a \leq\xi\leq b)<br>$$</p>
</li>
</ol>
<h3 id="5-2-微积分基本公式"><a href="#5-2-微积分基本公式" class="headerlink" title="5.2 微积分基本公式"></a>5.2 微积分基本公式</h3><h4 id="积分上限函数及其导数"><a href="#积分上限函数及其导数" class="headerlink" title="积分上限函数及其导数"></a>积分上限函数及其导数</h4><ol>
<li><p>如果函数$f(X)$在区间$[a, b]$上连续，那么积分上限的函数<br>$$<br>\Phi(x)=\displaystyle\int_a^x f(t)\mathrm{d}t<br>$$<br>在$[a, b]$上可导，并且它的导数<br>$$<br>\Phi’(x)=\frac{\mathrm{d}}{\mathrm{d}x}\int_a^x f(t)\mathrm{d}t=f(x)<br>\quad (a \leq x \leq b)<br>$$</p>
</li>
<li><p>如果函数$f(x)$在区间$[a, b]$上连续，那么函数<br>$$<br>\Phi(x)=\int_a^x f(t)\mathrm{d}t<br>$$<br>就是$f(X)$在$[a, b]$上的一个原函数。</p>
</li>
</ol>
<h4 id="牛顿-莱布尼茨公式"><a href="#牛顿-莱布尼茨公式" class="headerlink" title="牛顿-莱布尼茨公式"></a>牛顿-莱布尼茨公式</h4><ol>
<li>（微积分基本定理） 如果函数$F(X)$是连续函数$f(X)$在区间$[a, b]$上的一个原函数，那么<br>$$<br>\int_a^b f(x)\mathrm{d}x = F(b)-F(a)<br>$$<br>或者写成：$\displaystyle\int_a^b f(x)\mathrm{d}x=[F(x)]_a^b$</li>
</ol>
<h3 id="5-3-定积分的换元法和分部积分法"><a href="#5-3-定积分的换元法和分部积分法" class="headerlink" title="5.3 定积分的换元法和分部积分法"></a>5.3 定积分的换元法和分部积分法</h3><h4 id="定积分的换元法"><a href="#定积分的换元法" class="headerlink" title="定积分的换元法"></a>定积分的换元法</h4><p>定理：假设函数$f(x)$在区间$[a, b]$上连续，函数$x=\varphi(t)$满足条件：</p>
<ol>
<li>$\varphi(\alpha)=a, , \varphi(\beta)=b;;$</li>
<li>$\varphi(t)$在$[a, b]$（或$[\beta, \alpha]$）上具有连续函数，且其值域$R_\varphi=[a, b]$，</li>
</ol>
<p>则有：<br>$$<br>\int_a^b f(x)\mathrm{d}x = \int_\alpha^\beta f[\varphi(t)]\varphi’(t)\mathrm{d}t<br>$$<br>（定积分的换元公式）</p>
<blockquote>
<p>注意：换元后的积分限随新元变化。</p>
</blockquote>
<h4 id="定积分的分部积分法"><a href="#定积分的分部积分法" class="headerlink" title="定积分的分部积分法"></a>定积分的分部积分法</h4><ol>
<li><p>公式：<br>$$<br>\int_a^b u(x)v’(x)\mathrm{d}x=\left[u(x)v(x)-\int v(x)u’(x)\mathrm{d}x\right]_a^b \= [u(x)v(x)]_a^b - \int_b^b v(x)u’(x)\mathrm{d}x<br>$$</p>
<p>简记作：<br>$$<br>\int_a^bu\mathrm{d}v = [uv]_a^b - \int_a^bv\mathrm{d}u<br>$$</p>
</li>
<li><p>特别地，被积函数为奇函数，且定积分区间为对称区间，则：$\displaystyle\int_a^bf(x)\mathrm{d}x = 0 \quad (a=-b)$.</p>
</li>
</ol>
<h3 id="5-4-反常积分"><a href="#5-4-反常积分" class="headerlink" title="5.4 反常积分"></a>5.4 反常积分</h3><h4 id="无穷限的反常积分"><a href="#无穷限的反常积分" class="headerlink" title="无穷限的反常积分"></a>无穷限的反常积分</h4><ol>
<li>$\lim\limits_{t \to + \infty}\displaystyle\int_a^tf(x)\mathrm{d}x$为函数$f(x)$在无穷区间$[a, +\infty)$上的反常积分。</li>
<li>定义1：设函数$f(x)$在区间$[a, + \infty)$上连续，如果极限$\lim\limits_{t \to + \infty}\displaystyle\int_a^tf(x)\mathrm{d}x$存在，那么称反常积分$\int_a^{+\infty}f(x)\mathrm{d}x$收敛，并称此极限为该反常积分的值；如果极限不存在，那么称反常积分$\int_a^{+\infty}f(x)\mathrm{d}x$发散。</li>
<li>类似地，$\lim\limits_{t \to -\infty}\displaystyle\int_{-\infty}^bf(x)\mathrm{d}x$为函数$f(x)$在无穷区间$(-\infty, b]$上的反常积分。</li>
<li>设函数$f(x)$在区间$(-\infty, +\infty)$上连续，反常积分$\displaystyle\int_{-\infty}^0f(x)\mathrm{d}x$与反常积分$\displaystyle\int_0^{+\infty}f(x)\mathrm{d}x$之和称为函数$f(x)$在无穷区间$(-\infty, +\infty)$上的反常积分，记为：$\displaystyle\int_{-\infty}^{+\infty}f(x)\mathrm{d}x$。如果两积分均收敛，则$\displaystyle\int_{-\infty}^{+\infty}f(x)\mathrm{d}x$收敛，其值为两分段反常积分的和，反之则发散。</li>
</ol>
<h4 id="无界函数的反常积分"><a href="#无界函数的反常积分" class="headerlink" title="无界函数的反常积分"></a>无界函数的反常积分</h4><ol>
<li>如果函数$f(x)$在点$a$的任一邻域内部无解，那么点$a$称为函数$f(x)$的瑕点（无界间断点）。无界函数的反常积分又称为瑕积分。</li>
<li>定义2：设函数$f(x)$在区间$(a, b]$上连续，点$a$为$f(x)$的瑕点，如果极限$\displaystyle\lim\limits_{t \to a^+}\int_t^bf(x)\mathrm{d}x$存在，那么称反常积分$\displaystyle\int_a^bf(x)\mathrm{d}x$收敛，并称此极限为该反常积分的值；如果极限不存在，那么称反常积分发散。</li>
<li>设函数$f(x)$在区间$[a,c)$及区间$(a, b]$上连续点$c$为$f(x)$的瑕点。反常积分$\displaystyle\int_a^cf(x)\mathrm{d}x\quad(1) ,+,\int_c^bf(x)\mathrm{d}x\quad (2)$称为函数$f(x)$在区间$[a, b]$上的反常积分，仍然记为：$\displaystyle\int_a^bf(x)\mathrm{d}x\quad (3)$.若$(1)\quad(2)$函数均收敛，那么$(3)$函数收敛；否则发散。</li>
</ol>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>总结</tag>
        <tag>高等数学</tag>
      </tags>
  </entry>
  <entry>
    <title>About</title>
    <url>/2020/01/about/</url>
    <content><![CDATA[<h1 id="你好！这里是小渚w"><a href="#你好！这里是小渚w" class="headerlink" title="你好！这里是小渚w"></a>你好！这里是小渚w</h1><hr>
<h3 id="社交链接："><a href="#社交链接：" class="headerlink" title="社交链接："></a>社交链接：</h3><ul>
<li><a href="https://github.com/Steven-nagisa-Y">Github</a></li>
<li><a href="https://twitter.com/Steven_nagisa">Twitter</a></li>
<li><a href="https://weibo.com/stevennagisa">微博</a></li>
<li><a href="mailto:yjz.dev@outlook.com">E-mail</a></li>
</ul>
<p><img src="https://github-readme-stats.vercel.app/api?username=Steven-nagisa-Y&show_icons=true&theme=radical" alt="GitHub stats"></p>
<span id="more"></span>

<h2 id="个人简介"><a href="#个人简介" class="headerlink" title="个人简介"></a>个人简介</h2><h3 id="称呼"><a href="#称呼" class="headerlink" title="称呼"></a>称呼</h3><ul>
<li><strong>小渚w</strong>  (cn)</li>
<li><strong>Steven Yan</strong>  (en)</li>
<li><strong>なぎさ</strong>  (jp)</li>
</ul>
<h3 id="年龄"><a href="#年龄" class="headerlink" title="年龄"></a>年龄</h3><p><code>$&#123;this_year&#125; - 2000</code></p>
<h3 id="会一点…"><a href="#会一点…" class="headerlink" title="会一点…"></a>会一点…</h3><ul>
<li>多媒体技术<ul>
<li>视频剪辑 - Premier</li>
<li>音频处理 - Cool Edit Pro</li>
<li>图像处理 - Photoshop</li>
</ul>
</li>
<li>编程技术<ul>
<li>C/C++</li>
<li>Java</li>
<li>Python</li>
<li>PHP</li>
<li>Golang</li>
<li>VBScript</li>
<li>JavaScript</li>
<li>TypeScript</li>
<li>Lua</li>
<li>Rust</li>
<li>$LaTeX$</li>
</ul>
</li>
<li>摄影技术<ul>
<li>手机摄影，随便拍拍</li>
</ul>
</li>
<li>搞 机<ul>
<li>可能这几年用过的电子产品得有几十上百台了吧…</li>
</ul>
</li>
</ul>
<h3 id="游戏"><a href="#游戏" class="headerlink" title="游戏"></a>游戏</h3><ul>
<li>使命召唤系列</li>
<li>战地系列</li>
<li>绝地求生系列</li>
<li>GTA系列</li>
<li>还有各种优秀的单机大作</li>
</ul>
<h3 id="爱好"><a href="#爱好" class="headerlink" title="爱好"></a>爱好</h3><ul>
<li>小裙子！</li>
<li>听音乐</li>
<li>看YouTube</li>
<li>写代码</li>
<li>Van 游戏（其实很少玩）</li>
<li>学不会的前端设计</li>
<li>体验新鲜的科技数码产品</li>
</ul>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><ul>
<li>果粉</li>
<li>米粉</li>
<li>谷粉</li>
<li>软粉</li>
<li>诺粉</li>
<li>锤粉</li>
<li>技术至上</li>
<li>做人的底线是不能影响别人</li>
<li>反海🐶联盟第一人</li>
</ul>
<h3 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h3><ul>
<li>有看电视剧的习惯吗？<ul>
<li>🈚️</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>About</category>
      </categories>
      <tags>
        <tag>about</tag>
      </tags>
  </entry>
  <entry>
    <title>本站链接及友链</title>
    <url>/2020/01/link/</url>
    <content><![CDATA[<h1 id="本站链接及友链"><a href="#本站链接及友链" class="headerlink" title="本站链接及友链"></a>本站链接及友链</h1><blockquote>
<p>更新时间：2021-12-02</p>
</blockquote>
<span id="more"></span>

<h2 id="本站链接及功能："><a href="#本站链接及功能：" class="headerlink" title="本站链接及功能："></a>本站链接及功能：</h2><ul>
<li><p><strong>博客主站</strong></p>
<ul>
<li><a href="https://ryzenx.com">ryzenx.com</a></li>
<li><a href="http://stevenos.com">stevenos.com</a></li>
</ul>
</li>
<li><p>搜索+链接</p>
<ul>
<li><a href="https://s.ryzenx.com">s.ryzenx.com</a></li>
<li><a href="http://stevenos.com/home">stevenos.com/home</a></li>
</ul>
</li>
<li><p>图床 OSS</p>
<ul>
<li><a href="https://ryzenx.oss-accelerate.aliyuncs.com">ryzenx.oss-accelerate.aliyuncs.com</a></li>
</ul>
</li>
<li><p>链接转发和保存（在开发）</p>
<ul>
<li><a href="http://url.ryzenx.com">url.ryzenx.com</a></li>
</ul>
</li>
<li><p>下载站</p>
<ul>
<li><a href="https://dl.ryzenx.com">dl.ryzenx.com</a></li>
</ul>
</li>
<li><p>后端 api 接口</p>
<ul>
<li><a href="https://api.ryzenx.com">api.ryzenx.com</a></li>
</ul>
</li>
<li><p>开源项目</p>
<ul>
<li><a href="https://gms.icu">gms.icu</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="友链"><a href="#友链" class="headerlink" title="友链"></a>友链</h2><p>如果想要交换友链，可以在下面评论区或者<a href="mailto:yjz.dev@outlook.com">发送 E-mail</a>提交你的 <code>名称</code> + <code>网址</code></p>
<p><strong>前提是已经添加本站</strong></p>
<hr>
<ul>
<li><a href="http://untitled.pw/">路人甲的世界 – untitled.pw</a></li>
</ul>
]]></content>
      <categories>
        <category>About</category>
      </categories>
      <tags>
        <tag>about</tag>
      </tags>
  </entry>
  <entry>
    <title>Ayer中文说明</title>
    <url>/2019/12/Ayer%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><blockquote>
<p><a href="https://github.com/Shen-Yu/hexo-theme-ayer">Ayer</a> 是一个干净且优雅的Hexo主题，自带响应式，加载速度很快，该有的功能都有，可配置项也很多，非常适合作为你的博客主题，主题内还附送了6张精美的高清壁纸。欢迎使用和Star支持，如果你在使用过程中有任何疑问或者建议，欢迎联系我！如果你的博客采用了本主题，欢迎在下面评论区留下地址哦~</p>
</blockquote>
<p><a href="https://github.com/Shen-Yu/hexo-theme-ayer">Ayer</a> 在马来语中是“水”的意思，在西班牙语中是“昨天”的意思。</p>
<p><img src="https://i.loli.net/2019/12/03/SHPinIAclMX1Gra.png" alt="hexo-theme-ayer"></p>
<p><a href="https://github.com/Shen-Yu/hexo-theme-ayer">GitHub地址</a></p>
<p><a href="https://gitee.com/shen-yu/hexo-theme-ayer">国内镜像</a></p>
<p><a href="https://shen-yu.gitee.io">效果预览</a></p>
<p><a href="https://shen-yu.gitee.io/2019/ayer/">中文说明</a></p>
<span id="more"></span>

<h1 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h1><ol>
<li>干净且优雅，文章内容美观易读</li>
<li>首页封面全屏平铺，扁平化设计，简洁又不失高大上</li>
<li>响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</li>
<li>首页封面和文案可以任意更换，主题内附送6张精美高清壁纸</li>
<li>时间轴式的归档页</li>
<li>侧边栏可以点击显示或隐藏</li>
<li>支持文章置顶和文章打赏</li>
<li>支持文章字数和阅读时长统计</li>
<li>支持 <code>MathJax</code> 数学公式</li>
<li><code>TOC</code> 目录在文章页悬浮，跳转更方便</li>
<li>可设置阅读文章时做密码验证（<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md">hexo-blog-encrypt</a>）</li>
<li><a href="https://valine.js.org/">Valine</a>和<a href="https://gitalk.github.io/">Gitalk</a>评论模块（推荐配合<code>leancloud</code>使用 <code>Valine</code>）</li>
<li>集成了不蒜子、百度统计、Google Analytics、CNZZ等统计功能</li>
<li>支持Github Ribbons</li>
</ol>
<p>如果想体验手机端浏览效果，可以扫一下二维码：</p>
<p><img src="https://i.loli.net/2019/12/04/CaJ8bZnojg4GQEf.png" alt="手机端效果"> </p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 国内用户如果速度较慢，可以把github地址替换为：https://gitee.com/shen-yu/hexo-theme-ayer.git</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/Shen-Yu/hexo-theme-ayer.git themes/ayer</span><br></pre></td></tr></table></figure>

<h1 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h1><p>将博客根目录下的 <code>_config.yml</code> 里的 <code>theme</code> 值修改成 <code>ayer</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">ayer</span></span><br></pre></td></tr></table></figure>

<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/ayer</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h1 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h1><p>以下是ayer主题目录下的 <code>_config.yml</code>文件配置。如果你在配置过程中有问题，请先擅用 <a href="https://cn.bing.com">搜索引擎</a>。如果你搜不到解决方法，你可以参考：<a href="https://gitee.com/shen-yu/shen-yu/tree/dev/">我的博客源码</a>，按照我的一模一样配肯定是不会有问题的。如果对部分字体或颜色等有定制需求，请自行在css文件进行修改，主题本身已经很符合审美，自定义配置项也很多，不建议改得花里胡哨，过大的字体和库都会影响博客加载速度。如果还有问题或者建议，那么请在评论区给我留言~</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 侧边栏菜单</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span></span><br><span class="line">  <span class="string">归档:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags</span></span><br><span class="line">  <span class="string">摄影:</span> <span class="string">http://shenyu-vip.lofter.com</span></span><br><span class="line">  <span class="string">旅行:</span> <span class="string">/tags/旅行/</span></span><br><span class="line">  <span class="string">关于我:</span> <span class="string">/2019/about</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点次标题和打字动效</span></span><br><span class="line"><span class="comment"># https://github.com/mattboldt/typed.js</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 是否开启动效</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">面朝大海，春暖花开</span>  <span class="comment"># 显示的文字</span></span><br><span class="line">  <span class="attr">text2:</span> <span class="string">愿你一生努力，一生被爱</span>   <span class="comment"># 滚动播放，如果不需要可以留空</span></span><br><span class="line">  <span class="attr">text3:</span> <span class="string">想要的都拥有，得不到的都释怀</span>  <span class="comment"># 最多支持三段文字</span></span><br><span class="line">  <span class="attr">startDelay:</span> <span class="number">0</span>   <span class="comment"># 延迟时间</span></span><br><span class="line">  <span class="attr">typeSpeed:</span> <span class="number">200</span>  <span class="comment"># 打字速度</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span>  <span class="comment"># 是否循环</span></span><br><span class="line">  <span class="attr">backSpeed:</span> <span class="number">100</span>  <span class="comment"># 回退速度</span></span><br><span class="line">  <span class="attr">showCursor:</span> <span class="literal">true</span>  <span class="comment"># 是否显示光标</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 网站图标和侧边栏logo</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/favicon.ico</span></span><br><span class="line"><span class="attr">logo:</span> <span class="string">/images/ayer-side.svg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 封面配置</span></span><br><span class="line"><span class="comment"># enable-是否启用封面；path-封面背景图；logo-封面logo</span></span><br><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">/images/cover1.jpg</span>  <span class="comment"># /source/images目录下附送多张精美壁纸，可任意更换</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="string">/images/ayer.svg</span>  <span class="comment"># 如果不要直接设置成false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 页面顶部进度条  </span></span><br><span class="line"><span class="attr">progressBar:</span> <span class="string">ture</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章配置</span></span><br><span class="line"><span class="comment"># 文章太长，截断按钮文字(在需要截断的行增加此标记：&lt;!--more--&gt;)</span></span><br><span class="line"><span class="attr">excerpt_link:</span> <span class="string">阅读更多...</span></span><br><span class="line"><span class="comment"># 如果你嫌每篇文章手动加more标记比较麻烦，又不想在首页全文显示，可以把excerpt_all设置成true，这样首页只会显示文章归档</span></span><br><span class="line"><span class="attr">excerpt_all:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否开启文章分享按钮</span></span><br><span class="line"><span class="attr">share_enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 国内的社交平台(If you are not in China, maybe you prefer to set:false)</span></span><br><span class="line"><span class="attr">share_china:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 文章分享文字</span></span><br><span class="line"><span class="attr">share_text:</span> <span class="string">分享</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分页文字</span></span><br><span class="line"><span class="attr">nav_text:</span></span><br><span class="line">  <span class="attr">page_prev:</span> <span class="string">上一页</span></span><br><span class="line">  <span class="attr">page_next:</span> <span class="string">下一页</span></span><br><span class="line">  <span class="attr">post_prev:</span> <span class="string">上一篇</span></span><br><span class="line">  <span class="attr">post_next:</span> <span class="string">下一篇</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章页是否显示目录</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章中的图片是否支持点击放大</span></span><br><span class="line"><span class="attr">image_viewer:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://github.com/willin/hexo-wordcount</span></span><br><span class="line"><span class="comment"># 是否开启字数统计(关闭请设置enable为false)</span></span><br><span class="line"><span class="comment"># 也可以单独在md文件里Front-matter设置`no_word_count: true`属性，来自定义关闭字数统计</span></span><br><span class="line"><span class="attr">word_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 只在文章详情显示(不在首页显示)</span></span><br><span class="line">  <span class="attr">only_article_visit:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打赏</span></span><br><span class="line"><span class="comment"># 打赏type设定：0-关闭打赏； 1-文章对应的md文件里有reward:true属性，才有打赏； 2-默认开启所有文章均有打赏，如果有些文章你不需要，请在文章对应的md文件里设置no_reward:true</span></span><br><span class="line"><span class="attr">reward_type:</span> <span class="number">2</span></span><br><span class="line"><span class="comment"># 打赏wording</span></span><br><span class="line"><span class="attr">reward_wording:</span> <span class="string">&#x27;请我喝杯咖啡吧~&#x27;</span></span><br><span class="line"><span class="comment"># 支付宝二维码图片地址，跟你设置logo的方式一样。比如：/images/alipay.jpg</span></span><br><span class="line"><span class="attr">alipay:</span> <span class="string">/images/alipay.jpg</span></span><br><span class="line"><span class="comment"># 微信二维码图片地址</span></span><br><span class="line"><span class="attr">weixin:</span> <span class="string">/images/wechat.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 版权声明</span></span><br><span class="line"><span class="comment"># 版权声明type设定：0-关闭版权声明； 1-文章对应的md文件里有copyright: true属性，才有版权声明； 2-所有文章均有版权声明</span></span><br><span class="line"><span class="attr">copyright_type:</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否启用搜索</span></span><br><span class="line"><span class="attr">search:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RSS订阅(先安装hexo-generator-feed插件，再去博客根目录config进行配置)</span></span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 评论：1、Valine(推荐)；2、Gitalk</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1、Valine[一款快速、简洁且高效的无后端评论系统](https://github.com/xCss/Valine)</span></span><br><span class="line"><span class="comment"># 启用Valine必须先创建leancloud应用， 注册账号后获取 id|key 填入即可</span></span><br><span class="line"><span class="attr">leancloud:</span>  </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="comment">#</span></span><br><span class="line">  <span class="attr">app_key:</span> <span class="comment">#</span></span><br><span class="line"><span class="comment"># Valine配置(如果有些文章你想关闭评论，请在文章对应的md文件里设置no_valine:true)</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># 是否开启防垃圾评论验证</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">false</span> <span class="comment"># 是否开启邮件提醒(https://valine.js.org/notify.html)</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mp</span> <span class="comment"># 头像样式(https://valine.js.org/avatar.html)</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">给我的文章加点评论吧~</span> <span class="comment"># placeholder</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、Gitalk(https://github.com/gitalk/gitalk)</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># true</span></span><br><span class="line">  <span class="attr">clientID:</span> <span class="comment"># GitHub Application Client ID</span></span><br><span class="line">  <span class="attr">clientSecret:</span> <span class="comment"># Client Secret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="comment"># Repository name</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="comment"># GitHub ID</span></span><br><span class="line">  <span class="attr">admin:</span> <span class="comment"># GitHub ID</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># GitHub Ribbons封面右上角的forkme(https://github.blog/2008-12-19-github-ribbons/)</span></span><br><span class="line"><span class="attr">github:</span> </span><br><span class="line">  <span class="comment"># (关闭请设置为false)</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://github.com/Shen-Yu/hexo-theme-ayer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># fancybox(仅用于相册展示，若需要可配置albums)</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问量统计(不蒜子)</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 友盟cnzz统计(url填js代码src链接)</span></span><br><span class="line"><span class="attr">cnzz:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics</span></span><br><span class="line"><span class="attr">google_analytics:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 百度统计</span></span><br><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数学公式</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 网站成立年份(默认为 2019，若填入年份小于当前年份，则显示为 2018-2019 类似的格式)</span></span><br><span class="line"><span class="attr">since:</span> <span class="number">2019</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否显示页脚信息(建议保留，有助于本主题的推广)</span></span><br><span class="line"><span class="attr">pageFooter:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>


<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ul>
<li><p><a href="https://github.com/theme-next/hexo-generator-searchdb">hexo-generator-searchdb</a> 搜索</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-searchdb</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure>
<p>然后将以下配置复制到你博客根目录下的 <code>_config.yml</code> 里（注意不是ayer目录下的）:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/hexojs/hexo-generator-feed">hexo-generate-feed</a> RSS</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-feed</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure>

<p>  然后将以下配置复制到你博客根目录下的 <code>_config.yml</code> 里（注意不是ayer目录下的）:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">hub:</span></span><br><span class="line">    <span class="attr">content:</span></span><br><span class="line">    <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">    <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">    <span class="attr">order_by:</span> <span class="string">-date</span>	</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/netcan/hexo-generator-index-pin-top">hexo-generator-index-pin-top</a></p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>
<p>然后将以下复制到_posts/categories/index.md文件</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line"><span class="section">layout: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure>
<p>配置同分类一样</p>
<h2 id="相册"><a href="#相册" class="headerlink" title="相册"></a>相册</h2><p>需要在文章顶部配置</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Gallery</span><br><span class="line"></span><br><span class="line">albums: [</span><br><span class="line"><span class="code">        [&quot;img_url&quot;,&quot;img_caption&quot;],</span></span><br><span class="line"><span class="code">        [&quot;img_url&quot;,&quot;img_caption&quot;]</span></span><br><span class="line"><span class="code">        ]</span></span><br><span class="line"><span class="code">---</span></span><br></pre></td></tr></table></figure>

<h2 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h2><p>用Tocbot解析文章标题并生成目录</p>
<ul>
<li><p>将以下配置复制到你ayer目录下的 <code>_config.yml</code> 里：</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Toc</span></span><br><span class="line"> toc: <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
<li><p>当然你可能并不想所有文章都生成悬浮目录，你可以在文章顶部的配置中加一行来进行关闭：</p>
  <figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section">toc: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title>Recognizing ORIGINALS</title>
    <url>/2019/11/Recognizing-GRIGINALS/</url>
    <content><![CDATA[<h1 id="Recognizing-ORIGINALS"><a href="#Recognizing-ORIGINALS" class="headerlink" title="Recognizing ORIGINALS"></a>Recognizing ORIGINALS</h1><p><code>Keywords: originals</code></p>
<h3 id="What-are-the-originals"><a href="#What-are-the-originals" class="headerlink" title="What are the originals?"></a>What are the originals?</h3><p>Originals are nonconformists, people who not only have new ideas, but take action to champion them. They are people who stand out and speak up. Originals drive creativity and change in the world.</p>
<span id="more"></span>

<h3 id="ORIGINALS-are-late-to-the-party"><a href="#ORIGINALS-are-late-to-the-party" class="headerlink" title="ORIGINALS are late to the party."></a>ORIGINALS are late to the party.</h3><blockquote>
<p>Precrastinator: Panic a few hours before a big deadline.</p>
</blockquote>
<p>The precrastinators, who rush in and do everything early are rated as less creative than people who procrastinate<a href="拖延">^1</a> moderately.<br>It’s only when you’re told that you’re going to be working on this problem, and the you start procrastinating, but the task is still active in the back of your mind, that you start to incubate<a href="酝酿">^2</a>. Procrastination gives you time to consider divergent ideas, to think in nonlinear ways, to make unexpected leaps </p>
<blockquote>
<p>Aaron Sorkin: You call it procrastinating. I call it thinking.</p>
</blockquote>
<p>Procrastinating is a vice when it comes to productivity, but it can be a virtue for creativity. It’s much easier to improve on somebody else’s idea than it is to create something new from scratch.<br><strong>To be original you don’t have to be first. You just have to be different and better.</strong></p>
<hr>
<h3 id="ORIGINALS-feel-doubt-and-fear"><a href="#ORIGINALS-feel-doubt-and-fear" class="headerlink" title="ORIGINALS feel doubt and fear."></a>ORIGINALS feel doubt and fear.</h3><p>There’s self-doubt and idea doubt. Self-doubt is paralyzing. It leads you to freeze. But idea doubt is energizing. It motivates you to test, to experiment, to refine. The key to being original is just a simple thing. </p>
<blockquote>
<p>There is good evidence that Firefox and Chrome users significantly outperform Internet Explorer and Safari users. </p>
</blockquote>
<p>It’s about being the kind of person who takes the initiative to doubt the default and look for a better option.</p>
<blockquote>
<p>Vuja de is when you look at something you’ve seen many times before and all of sudden see it with fresh eyes.</p>
</blockquote>
<hr>
<p><strong>When you feel doubt, don’t let it go.</strong><br>ORIGINALS afraid of failing, but what sets them apart from the rest of us is that they’re even more afraid of failing to try. In a long run, our biggest regrets are not our actions but our inactions. Originals have lots and lots of bad ideas. The greatest originals are the ones who fail the most, because they’re the ones who try the most.<br><strong>Know that being quick to start but slow to finish can boost your creativity, that you can motivate yourself by doubting your ideas and embracing the fear of failing to try, and that you need a lot of bad ideas in order to get a few good ones.</strong></p>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>TED</tag>
        <tag>universe</tag>
        <tag>originals</tag>
      </tags>
  </entry>
  <entry>
    <title>The Sound of the Universe</title>
    <url>/2019/11/The-Sound-of-the-Universe/</url>
    <content><![CDATA[<h2 id="The-Sound-of-the-Universe"><a href="#The-Sound-of-the-Universe" class="headerlink" title="The Sound of the Universe"></a>The Sound of the Universe</h2><h2 id="Keywords-Stars-Music"><a href="#Keywords-Stars-Music" class="headerlink" title="Keywords: Stars | Music"></a><code>Keywords: Stars | Music</code></h2><p>There is a deep connection between music and astronomy. It goes back over 2000 years to Pythagoras<a href="毕达哥拉斯">^1</a>. He said, There is geometry in the humming of the strings, there is music in the spacing of the spheres. </p>
<hr>
<span id="more"></span>

<h3 id="What-makes-music…-musical"><a href="#What-makes-music…-musical" class="headerlink" title="What makes music… musical?"></a>What makes music… musical?</h3><p>The secret to musical harmony really is simple ratios: the simpler the ratio<a href="震动比率">^2</a>, the more pleasing or consonant those tow notes will sound together. And the more complex the ratio, the more dissonant they will sound.<br>Once a rhythm starts happening more than about 20 times per second, it stops hearing it as a rhythm and starts hearing it as a pitch<a href="音调">^3</a>.</p>
<hr>
<h3 id="What-does-this-have-to-do-with-astronomy"><a href="#What-does-this-have-to-do-with-astronomy" class="headerlink" title="What does this have to do with astronomy?"></a>What does this have to do with astronomy?</h3><p>Comes from the <strong>TRAPPIST-1 system</strong>, which was discovered last Feb. of 2017. That system is a resonant<a href="共振">^4</a> chain. A lot of very simple ratios among the orbits of these planets. <code>Sound from TRAPPIST-1 System</code> <a href="http://system-sounds.com">Website</a></p>
<hr>
<h3 id="How-this-is-even-possible"><a href="#How-this-is-even-possible" class="headerlink" title="How this is even possible?"></a>How this is even possible?</h3><p>You can find the answer by comparing the analogy of an orchestra: all they have to get in tune, make sure their instruments resonate with their neighbors instruments.<br>When the planets were first forming, they were orbiting within a disc<a href="轨道">^5</a> of gas, and while inside that disc, they can actually slide around and adjust their orbits to their neighbors until they’re perfectly in tune.<br>This system is so compact, so it’s really music that is keeping this system alive, and any of its potential inhabitants.<br>K2-138 is a new system discovered in Jan of 2018 with 5 planets.</p>
<hr>
<h3 id="How-mush-music-actually-is-out-there"><a href="#How-mush-music-actually-is-out-there" class="headerlink" title="How mush music actually is out there?"></a>How mush music actually is out there?</h3><hr>
]]></content>
      <categories>
        <category>essay</category>
      </categories>
      <tags>
        <tag>essay</tag>
        <tag>TED</tag>
        <tag>universe</tag>
        <tag>music</tag>
      </tags>
  </entry>
</search>
